{"version":3,"sources":["webpack://WebUiCore/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/extends.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/inheritsLoose.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://WebUiCore/./node_modules/@babel/runtime/helpers/typeof.js","webpack://WebUiCore/./src/config/app.js","webpack://WebUiCore/./src/config/build.js","webpack://WebUiCore/./src/config/constants.js","webpack://WebUiCore/./src/config/css.js","webpack://WebUiCore/./src/config/index.js","webpack://WebUiCore/./src/config/modals.js","webpack://WebUiCore/./src/config/themes/default.js","webpack://WebUiCore/./src/config/ui.js","webpack://WebUiCore/./src/config/userAgent.js","webpack://WebUiCore/./src/elements/DateTimeSelector/DateTimeSelector.jsx","webpack://WebUiCore/./src/elements/ErrorContainer/ErrorContainer.jsx","webpack://WebUiCore/./src/elements/InlineIcon/InlineIcon.jsx","webpack://WebUiCore/./src/elements/Loader/Loader.jsx","webpack://WebUiCore/./src/elements/MenuItemSeparator/MenuItemSeparator.jsx","webpack://WebUiCore/./src/elements/MenuItem/MenuItem.jsx","webpack://WebUiCore/./src/elements/Menu/Menu.jsx","webpack://WebUiCore/./src/elements/ModalPopup/ModalPopup.jsx","webpack://WebUiCore/./src/elements/ModalPortal/ModalPortal.jsx","webpack://WebUiCore/./src/elements/ModalProxifiedWindow/ModalProxifiedWindow.js","webpack://WebUiCore/./src/elements/ModalWindow/ModalWindow.jsx","webpack://WebUiCore/./src/elements/ModalsController/ModalsController.jsx","webpack://WebUiCore/./src/elements/ModalsProxy/ModalsProxy.js","webpack://WebUiCore/./src/elements/index.js","webpack://WebUiCore/./src/forms/FormActions/FormActions.jsx","webpack://WebUiCore/./src/forms/FormBooleanHOC/FormBooleanHOC.jsx","webpack://WebUiCore/./src/forms/FormButtonGroup/FormButtonGroup.jsx","webpack://WebUiCore/./src/forms/FormButton/FormButton.jsx","webpack://WebUiCore/./src/forms/FormContainer/FormContainer.jsx","webpack://WebUiCore/./src/forms/FormDateRangeSingleBox/FormDateRangeSingleBox.jsx","webpack://WebUiCore/./src/forms/FormDateRange/FormDateRange.jsx","webpack://WebUiCore/./src/forms/FormDateTime/FormDateTime.jsx","webpack://WebUiCore/./src/forms/FormDelim/FormDelim.jsx","webpack://WebUiCore/./src/forms/FormGroup/FormGroup.jsx","webpack://WebUiCore/./src/forms/FormInputGroup/FormInputGroup.jsx","webpack://WebUiCore/./src/forms/FormInteractiveItemHOC/FormInteractiveItemHOC.jsx","webpack://WebUiCore/./src/forms/FormItemDummy/FormItemDummy.jsx","webpack://WebUiCore/./src/forms/FormItemHOC/FormItemHOC.jsx","webpack://WebUiCore/./src/forms/FormLabel/FormLabel.jsx","webpack://WebUiCore/./src/forms/FormLabeledGroup/FormLabeledGroup.jsx","webpack://WebUiCore/./src/forms/FormPager/FormPager.jsx","webpack://WebUiCore/./src/forms/FormPasswordInput/FormPasswordInput.jsx","webpack://WebUiCore/./src/forms/FormRadio/FormRadio.jsx","webpack://WebUiCore/./src/forms/FormSelect/FormSelect.jsx","webpack://WebUiCore/./src/forms/FormSeparator/FormSeparator.jsx","webpack://WebUiCore/./src/forms/FormSpacer/FormSpacer.jsx","webpack://WebUiCore/./src/forms/FormTextInput/FormTextInput.jsx","webpack://WebUiCore/./src/forms/FormText/FormText.jsx","webpack://WebUiCore/./src/forms/index.js","webpack://WebUiCore/./src/helpers/ActionsContext.jsx","webpack://WebUiCore/./src/helpers/FormContext.jsx","webpack://WebUiCore/./src/helpers/index.js","webpack://WebUiCore/./src/utils/configure.js","webpack://WebUiCore/./src/utils/dates.js","webpack://WebUiCore/./src/utils/domUtils.js","webpack://WebUiCore/./src/utils/forms.js","webpack://WebUiCore/./src/utils/index.js","webpack://WebUiCore/./src/utils/lang.js","webpack://WebUiCore/./src/utils/objects.js","webpack://WebUiCore/./src/utils/strings.js","webpack://WebUiCore/./node_modules/date-fns/esm/_lib/isSameUTCWeek/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/_lib/requiredArgs/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/_lib/toInteger/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/locale/ru/_lib/formatDistance/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/locale/ru/_lib/formatLong/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/locale/ru/_lib/formatRelative/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/locale/ru/_lib/localize/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/locale/ru/_lib/match/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/locale/ru/index.js","webpack://WebUiCore/./node_modules/date-fns/esm/toDate/index.js","webpack://WebUiCore/./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack://WebUiCore/./node_modules/invariant/browser.js","webpack://WebUiCore/./node_modules/react-datepicker/dist/react-datepicker.css?11c8","webpack://WebUiCore/./src/build.pcss?6879","webpack://WebUiCore/./src/demo/Hello/Hello.pcss?bf41","webpack://WebUiCore/./src/elements/DateTimeSelector/DateTimeSelector.pcss?ff19","webpack://WebUiCore/./src/elements/ErrorContainer/ErrorContainer.pcss?fca3","webpack://WebUiCore/./src/elements/InlineIcon/InlineIcon.pcss?f0ac","webpack://WebUiCore/./src/elements/Loader/Loader-animation.pcss?290d","webpack://WebUiCore/./src/elements/Loader/Loader-modes.pcss?9c09","webpack://WebUiCore/./src/elements/Loader/Loader-themes.pcss?1636","webpack://WebUiCore/./src/elements/Loader/Loader.pcss?f78f","webpack://WebUiCore/./src/elements/MenuItemSeparator/MenuItemSeparator.pcss?bfda","webpack://WebUiCore/./src/elements/MenuItem/MenuItem.pcss?5e66","webpack://WebUiCore/./src/elements/Menu/Menu.pcss?3b5d","webpack://WebUiCore/./src/elements/ModalPopup/ModalPopup.pcss?ff6e","webpack://WebUiCore/./src/elements/ModalPortal/ModalPortal-Geometry.pcss?d9a5","webpack://WebUiCore/./src/elements/ModalPortal/ModalPortal-Themes.pcss?49ac","webpack://WebUiCore/./src/elements/ModalPortal/ModalPortal-Transitions.pcss?a796","webpack://WebUiCore/./src/elements/ModalPortal/ModalPortal-Variants.pcss?db0c","webpack://WebUiCore/./src/elements/ModalWindow/ModalWindow-Errors.pcss?1eb2","webpack://WebUiCore/./src/elements/ModalWindow/ModalWindow-Geometry.pcss?ec2f","webpack://WebUiCore/./src/elements/ModalWindow/ModalWindow-Themes.pcss?605a","webpack://WebUiCore/./src/elements/ModalsController/ModalsController.pcss?cf79","webpack://WebUiCore/./src/forms/FormActions/FormActions.pcss?d4a6","webpack://WebUiCore/./src/forms/FormButtonGroup/FormButtonGroup.pcss?6817","webpack://WebUiCore/./src/forms/FormButton/FormButton-Themes.pcss?9aaf","webpack://WebUiCore/./src/forms/FormButton/FormButton-Variations.pcss?4f4d","webpack://WebUiCore/./src/forms/FormButton/FormButton.pcss?aa97","webpack://WebUiCore/./src/forms/FormContainer/FormContainer.pcss?40c0","webpack://WebUiCore/./src/forms/FormDateRangeSingleBox/FormDateRangeSingleBox.pcss?8f7d","webpack://WebUiCore/./src/forms/FormDateRange/FormDateRange.pcss?4d95","webpack://WebUiCore/./src/forms/FormDateTime/FormDateTime.pcss?9ff0","webpack://WebUiCore/./src/forms/FormDelim/FormDelim.pcss?c35d","webpack://WebUiCore/./src/forms/FormGroup/FormGroup-Layout.pcss?10f7","webpack://WebUiCore/./src/forms/FormGroup/FormGroup-Variations.pcss?4f7e","webpack://WebUiCore/./src/forms/FormGroup/FormGroup.pcss?d086","webpack://WebUiCore/./src/forms/FormInputGroup/FormInputGroup.pcss?7d9c","webpack://WebUiCore/./src/forms/FormItemDummy/FormItemDummy.pcss?48da","webpack://WebUiCore/./src/forms/FormItemHOC/FormItemHOC.pcss?a2e9","webpack://WebUiCore/./src/forms/FormLabel/FormLabel.pcss?58a8","webpack://WebUiCore/./src/forms/FormPager/FormPager.pcss?2a06","webpack://WebUiCore/./src/forms/FormPasswordInput/FormPasswordInput.pcss?971b","webpack://WebUiCore/./src/forms/FormRadio/FormRadio-Themes.pcss?8651","webpack://WebUiCore/./src/forms/FormRadio/FormRadio.pcss?7018","webpack://WebUiCore/./src/forms/FormSelect/FormSelect.pcss?182a","webpack://WebUiCore/./src/forms/FormSeparator/FormSeparator.pcss?6dbb","webpack://WebUiCore/./src/forms/FormSpacer/FormSpacer.pcss?ceb2","webpack://WebUiCore/./src/forms/FormTextInput/FormTextInput.pcss?026f","webpack://WebUiCore/./src/forms/FormText/FormText.pcss?b829","webpack://WebUiCore/./node_modules/object-assign/index.js","webpack://WebUiCore/./node_modules/prop-types/checkPropTypes.js","webpack://WebUiCore/./node_modules/prop-types/factoryWithTypeCheckers.js","webpack://WebUiCore/./node_modules/prop-types/index.js","webpack://WebUiCore/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://WebUiCore/./node_modules/react-is/cjs/react-is.development.js","webpack://WebUiCore/./node_modules/react-is/index.js","webpack://WebUiCore/./node_modules/react-redux/lib/components/connectAdvanced.js","webpack://WebUiCore/./node_modules/react-redux/lib/connect/connect.js","webpack://WebUiCore/./node_modules/react-redux/lib/connect/mapDispatchToProps.js","webpack://WebUiCore/./node_modules/react-redux/lib/connect/mapStateToProps.js","webpack://WebUiCore/./node_modules/react-redux/lib/connect/mergeProps.js","webpack://WebUiCore/./node_modules/react-redux/lib/connect/selectorFactory.js","webpack://WebUiCore/./node_modules/react-redux/lib/connect/verifySubselectors.js","webpack://WebUiCore/./node_modules/react-redux/lib/connect/wrapMapToProps.js","webpack://WebUiCore/./node_modules/react-redux/lib/utils/PropTypes.js","webpack://WebUiCore/./node_modules/react-redux/lib/utils/Subscription.js","webpack://WebUiCore/./node_modules/react-redux/lib/utils/isPlainObject.js","webpack://WebUiCore/./node_modules/react-redux/lib/utils/shallowEqual.js","webpack://WebUiCore/./node_modules/react-redux/lib/utils/verifyPlainObject.js","webpack://WebUiCore/./node_modules/react-redux/lib/utils/warning.js","webpack://WebUiCore/./src/demo/Hello/Hello.tsx","webpack://WebUiCore/./src/demo/Hello/index.ts","webpack://WebUiCore/./src/elements/DateTimeSelector/index.ts","webpack://WebUiCore/./src/elements/InlineIcon/index.ts","webpack://WebUiCore/./src/elements/Loader/index.ts","webpack://WebUiCore/./src/elements/MenuItemSeparator/index.ts","webpack://WebUiCore/./src/elements/MenuItem/index.ts","webpack://WebUiCore/./src/elements/Menu/index.ts","webpack://WebUiCore/./src/elements/ModalPopup/index.ts","webpack://WebUiCore/./src/elements/ModalPortal/index.ts","webpack://WebUiCore/./src/elements/ModalWindow/index.ts","webpack://WebUiCore/./src/elements/ModalsController/index.ts","webpack://WebUiCore/./src/elements/ModalsProxy/index.ts","webpack://WebUiCore/./src/forms/FormActions/index.ts","webpack://WebUiCore/./src/forms/FormBooleanHOC/index.ts","webpack://WebUiCore/./src/forms/FormButtonGroup/index.ts","webpack://WebUiCore/./src/forms/FormButton/index.ts","webpack://WebUiCore/./src/forms/FormContainer/index.ts","webpack://WebUiCore/./src/forms/FormDateRangeSingleBox/index.ts","webpack://WebUiCore/./src/forms/FormDateRange/index.ts","webpack://WebUiCore/./src/forms/FormDateTime/index.ts","webpack://WebUiCore/./src/forms/FormDelim/index.ts","webpack://WebUiCore/./src/forms/FormGroup/index.ts","webpack://WebUiCore/./src/forms/FormInputGroup/index.ts","webpack://WebUiCore/./src/forms/FormInteractiveItemHOC/index.ts","webpack://WebUiCore/./src/forms/FormItemDummy/index.ts","webpack://WebUiCore/./src/forms/FormItemHOC/index.ts","webpack://WebUiCore/./src/forms/FormLabel/index.ts","webpack://WebUiCore/./src/forms/FormLabeledGroup/index.ts","webpack://WebUiCore/./src/forms/FormPager/index.ts","webpack://WebUiCore/./src/forms/FormPasswordInput/index.ts","webpack://WebUiCore/./src/forms/FormRadio/index.ts","webpack://WebUiCore/./src/forms/FormSelect/index.ts","webpack://WebUiCore/./src/forms/FormSeparator/index.ts","webpack://WebUiCore/./src/forms/FormSpacer/index.ts","webpack://WebUiCore/./src/forms/FormTextInput/index.ts","webpack://WebUiCore/./src/forms/FormText/index.ts","webpack://WebUiCore/./src/demo/Hello/img/LockColor2.svg","webpack://WebUiCore/external \"@bem-react/classname\"","webpack://WebUiCore/external \"@fortawesome/free-brands-svg-icons\"","webpack://WebUiCore/external \"@fortawesome/free-regular-svg-icons\"","webpack://WebUiCore/external \"@fortawesome/free-solid-svg-icons\"","webpack://WebUiCore/external \"@fortawesome/react-fontawesome\"","webpack://WebUiCore/external \"date-fns\"","webpack://WebUiCore/external \"moment\"","webpack://WebUiCore/external \"react\"","webpack://WebUiCore/external \"react-datepicker\"","webpack://WebUiCore/external \"react-error-boundary\"","webpack://WebUiCore/external \"react-portal\"","webpack://WebUiCore/external \"react-transition-group\"","webpack://WebUiCore/external \"redux\"","webpack://WebUiCore/external \"throttle-debounce\"","webpack://WebUiCore/webpack/bootstrap","webpack://WebUiCore/webpack/runtime/compat get default export","webpack://WebUiCore/webpack/runtime/define property getters","webpack://WebUiCore/webpack/runtime/global","webpack://WebUiCore/webpack/runtime/hasOwnProperty shorthand","webpack://WebUiCore/webpack/runtime/make namespace object","webpack://WebUiCore/./src/build.jsx"],"names":["module","exports","defaultPageSize","useCssModules","cssMappings","lang","defaultLocale","store","DEBUG","process","DEV_DEBUG","THEME","buildTag","timestamp","timetag","version","dateFormat","timeFormat","timeSecFormat","timeMsFormat","dateTimeFormat","dateTimeSecFormat","dateTimeMsFormat","dateRangeDelim","timeIntervals","dayTicks","weekTicks","theme","require","defaultFontSize","textColor","defaultTransitionTime","defaultAnimateTime","primaryDarkColor","primaryColor","primaryLightColor","primaryContrastColor","secondaryDarkColor","secondaryColor","secondaryLightColor","secondaryContrastColor","errorColor","warnColor","successColor","infoColor","confirmColor","selectColor","cssConfig","specialContrastColor","defaultTextColor","neutralSuperDarkestColor","neutralDarkestColor","neutralExtraDarkColor","neutralSuperDarkColor","neutralDarkColor","neutralTintedDarkColor","neutralShadedColor","neutralColor","neutralTintedColor","neutralLightColor","neutralSuperLightColor","neutralExtraLightColor","bootstrapDarkColor","bodyBgColor","bodyTextColor","layoutBgColor","layoutLightBgColor","layoutBorderColor","themeColors","primary","secondary","neutral","error","warn","success","info","confirm","select","maroon","red","purple","fuchsia","green","olive","navy","blue","teal","orange","blueviolet","brown","cadetblue","darkblue","darkcyan","darkgoldenrod","darkorange","darkorchid","darkred","darkslateblue","darkslategray","defaultFont","fontSize","fontSizeM","fontSizeSm","fontSizeXs","fontSizeLg","fontSizeXl","fontSizeXxl","titleFontSize","defaultLineHeight","defaultFontWeight","bk_xs","bk_sm_pre","bk_sm","bk_md_pre","bk_md","bk_lg_pre","bk_lg","bk_xl_pre","bk_xl","bm_xs","bm_sm_pre","bm_sm","bm_md_pre","bm_md","bm_lg_pre","bm_lg","bm_xl_pre","bm_xl","modalMinWidth","modalWindowPadding","modalSizes","xs","sm","md","lg","xl","xxl","innerPadding","itemPadding","containerPadding","blockPadding","transitionTime","animateTime","modalAnimateTime","modalWindowAnimateTime","modalContainerPosition","modalPortalPosition","formItemSpacing","formItemHeight","formItemBorderSize","formItemInnerHeight","Object","assign","formItemBorderRadius","formItemOuterGlow","formItemGlowColor","formItemBorderColor","formItemActorColor","formItemBgColor","formItemTextColor","formItemPlaceholderColor","formItemInnerPaddingH","formItemDisabledOpacity","formPlaceholderColor","menuVPadding","menuSeparatorVPadding","menuSeparatorHPadding","defaultIconSize","smallIconSize","popupVerticalOffset","popupWindowOffset","config","app","build","constants","css","modals","ui","userAgent","modalsConfig","containerId","controller","undefined","isInited","__initPromise","__initPromiseResolve","initPromise","Promise","resolve","defaultIcons","cssAgentPrefix","hasOwnProperty","prototype","detectSafari","isSafari","test","String","global","HTMLElement","notificationObject","safari","pushNotification","detectUserAgent","agentString","navigator","document","body","ua","ANTGalio","indexOf","WebKit","Opera","opr","addons","opera","Firefox","InstallTrigger","Safari","IE","documentMode","Edge","StyleMedia","Chrome","chrome","webstore","runtime","Blink","CSS","agentData","agentsList","cssAgentClasses","key","call","push","className","registerLocale","ru","cnDateTimeSelector","cn","defaultDateType","DateTimeSelector","props","showTime","isEndDate","domNodeRef","items","getElementsByClassName","forEach","item","text","innerText","split","map","Number","hours","mins","Math","ceil","resultText","stringUtils","node","value","selectsRange","onChange","dateType","state","setParams","selectedStart","selectsStart","startDate","endDate","Array","isArray","id","selectsEnd","setState","cbParams","date","isEndDateCombined","dateObj","dateUtils","inputId","componentDidMount","setTimeout","updateTimeListItems","componentDidUpdate","prevProps","checkDateKeys","hasStateChanges","getClassName","classList","render","calendarClassName","minDate","maxDate","now","langUtils","langComponents","components","locale","calendarLang","calendar","datePickerProps","inline","selected","showTimeSelect","timeCaption","previousYearButtonLabel","nextYearButtonLabel","previousMonthButtonLabel","nextMonthButtonLabel","setDomRef","React","PropTypes","disabled","Date","title","cnErrorContainer","ErrorContainer","getErrorContent","Error","message","strings","errors","children","console","PureComponent","iconGroups","solid","solidIcons","regular","regularIcons","brands","brandsIcons","cnInlineIcon","InlineIcon","getIconComponent","iconId","icons","matchGroup","match","groupId","nextId","component","tag","icon","onClick","iconType","iconComponent","content","iconName","renderProps","tagName","element","cnLoader","Loader","mode","show","onCancel","cancelText","actions","includes","getCommonLangText","thisClassName","showText","cnMenuItemSeparator","MenuItemSeparator","cnMenuItem","MenuItem","val","actionsContextNode","data","hasOnClick","actionProps","result","onAction","then","active","mounted","componentWillUnmount","checkable","hasIcon","checked","checkedTheme","wrap","renderIconContent","iconContent","renderTextContent","htmlId","ref","textContent","compose","withActionsContext","FormItemHOC","hoverable","focusable","cnMenu","uniqIdCount","Menu","layout","createItemElement","n","singleChoice","itemTheme","checkedItemTheme","wrapContent","propsSelected","isObject","isElement","isMenuItem","type","isRawObject","itemProps","selectable","newProps","onMenuItemClick","getId","setChildrenItemsFromProps","selectedList","filter","updateChildrenItems","checkedValStates","checkedVal","params","length","createUniqId","passProps","menuId","setSelected","prevChildren","renderContent","cnModalPopup","cnModalPopupControl","doDebug","debouncedUpdateGeometryTimeout","updateGeometryTimerDelay","domNodeGeometryKeys","verticalGeometryKeys","horizontalGeometryKeys","axisKeys","vertical","viewSize","viewPos","controlPos","controlSize","contentPos","contentSize","contentStylePos","contentStyleSize","contentStyleMaxSize","storedContentSize","horizontal","globalScrollEventName","globalResizeEventName","ModalPopup","open","fullWidth","controlGeometry","getDomNodeGeometry","controlDomNode","contentGeometry","windowDomNode","globalGeometry","getGlobalGeometry","geometry","updatedGeometryKeys","getUpdatedGeometryKeys","changedHorizontalKeys","some","changedVerticalKeys","updateOneAxisContentPos","updateContentWidth","ModalPortal","close","toggle","isVisible","updateGeometryInstant","hasControlClicked","clearContentGeometry","updateOpenOrCloseWithState","handleOpenState","controlNode","domNode","contentDomNode","registerGlobalHandlers","unregisterGlobalHandlers","handlePortalOpen","handlePortalClose","isOutsideClickWaiting","noCloseOnControlClick","nextOpen","blur","onControlClick","portalProps","wrapperDomNode","popupContent","contentClassName","cnCtx","setContentDomRef","updateGeometry","debounce","rect","getBoundingClientRect","reduce","resultKey","origGeometry","updatedKeys","entries","width","controlWidth","setWidth","style","contentWidth","storedContentWidth","axis","keys","isVertical","contentMaxSize","viewStart","viewEnd","controlScreenPos","controlScreenEnd","posNormal","posReverted","spaceAfter","spaceBefore","isntFitBefore","isntFitAfter","isMoreSpaceBefore","placeBefore","isntFit","fitSize","contentPosValue","fitContentSize","cssContentPos","isContentPosChanged","cssContentStyleMaxSize","origContentStyleMaxSize","isContentStyleMaxSizeChanged","globalHandlersRegistered","addEventListener","window","updateGeometryTimer","setInterval","removeEventListener","clearInterval","startsWith","renderControl","popupControl","controlClassName","setControlDomRef","setNodeRef","setControlNodeRef","passModalPortalProps","onActivate","onDeactivate","wrapperTheme","startOutsideClickWaiting","stopOutsideClickWaiting","preventCloseOnOutsideClick","renderPortalContent","closeOnClickOutside","closeOnEscPressed","isRequired","setModalPopupNodeRef","noWrapper","FormItemModalPopup","cnModalPortal","mouseDownEvent","mouseUpEvent","mouseLeaveEvent","globalKeyPressEventName","delayedHandlerTimeout","selfCloseActionId","externalCloseActionId","cb","modalId","activated","done","resolveResult","prevOpen","resolvingResult","activate","onOpen","onClose","deactivate","popupsInited","actionId","autoClose","closeOnCancelAction","setResult","modalPortalId","event","keyCode","charCode","onEscPressed","loading","isEscPressed","cbProps","isTopmost","stopOutsideClickWaitingDelayedHandler","clearTimeout","globalDomNode","onOutsideClickCatchedDelayed","onClickOutside","preventClose","stopOutsideClickWaitingDelayed","onOutsideClickCatchedDelayedHandler","onOutsideClickCatched","closeWithCloseButton","onCloseButtonClick","onPopupsInited","modalType","setPortalNode","prevState","updateShowWithState","onKeyPress","cbData","cbName","renderWindow","onChildAction","windowWidth","windowTheme","windowClassName","childrenProps","childrenType","isFunction","setWindowDomRef","renderLoader","loaderTheme","handleLoaderCancel","renderModalPortal","wrapperClassName","useLoader","realWrapperTheme","setRootDomRef","setWrapperDomRef","toDisplay","ModalProxifiedWindow","__deactivateStateHandler","bind","ModalsProxy","__updateTimer","__newProps","__newState","__updateCbQueue","shift","__render","__activateStateHandler","__restartUpdateTimer","passStateToProps","mapStateToProps","stateProps","hasChanges","setProps","onStateChangeHandler","__registered_onStateChangeHandler","getState","updateProps","__mounted","__update","cnModalWindow","ModalWindow","renderContentError","x","str","replace","renderHeader","renderLeftContent","renderActions","onComponentDidUpdate","renderHeaderIcon","iconTheme","showIcon","renderHeaderTitle","renderHeaderCloseButton","showCloseButton","headerTheme","Boolean","hasHeader","leftContent","errorContent","handlerKeys","cnModalsController","ModalsController","errorMessage","reason","modal","modalsStack","idx","splice","topmost","getTopmostVisibleModal","PortalProxy","proxyModalNodes","modalNode","onRemove","proxyModalsList","__saved_onunhandledrejection","onunhandledrejection","__saved_onerror","onerror","onCatchedError","getDomNode","updateProxyModalsList","renderProxyModal","modalData","saveProxyModalNode","renderProxyModals","renderModalsController","setRef","setPortalProxyRef","usePortal","getProxyModalNode","_modalsController","_proxyModalsList","_inited","_initStore","_storeHandlers","getModal","__saved__OnDeactivate","onModalDeactivate","removeModal","getInitPromise","initialize","getModalsController","subscribe","_onStoreChange","addStoreChangesHandler","removeStoreChangesHandler","addModal","concat","removeProxyModalNode","found","find","isModalExists","updateModal","options","newModals","ModalsProxySingleton","cnFormActions","defaultActionButtonProps","FormActions","actionsId","popupNode","setPopupNodeRef","withMenu","mods","renderActionItem","renderMenu","menu","menuButtonTheme","menuElement","menuProps","onMenuAction","menuPopup","restProps","cnFormBooleanHOC","wrapFormBooleanHOC","WrappedComponent","stateValue","inputDomElem","name","prevValue","propsValue","updateValueWithState","handleChange","setInputDomRef","FormBooleanHOC","classNameModifiers","cnFormButtonGroup","FormButtonGroup","cnFormButton","defaultTag","FormButton","formItemNode","focus","hasText","onlyIcon","largeIcon","onDark","plain","rightIcon","rotatedIcon","variation","staticMods","renderIcon","newIcon","renderText","iconElem","textElem","tabIndex","framed","cnFormContainer","FormContainer","spaced","cnFormDateRangeSingleBox","FormDateRangeSingleBox","startDateObj","endDateObj","valueObj","closeOnSelect","onStartDateChange","onEndDateChange","displayValue","getDisplayValue","getItemsText","join","renderControlContent","placeholder","controlButtonTheme","faCalendarCheck","faCalendar","buttonText","renderPopupContent","dateSelectorProps","popupProps","setPopupRef","cnFormDateRange","FormDateRange","stateParams","valueId","uniqFormId","formUtils","prefix","startNow","endNow","startLabel","endLabel","startPlaceholder","endPlaceholder","allowEmpty","flow","uniqStartId","uniqEndId","startLabelText","endLabelText","startPlaceholderText","endPlaceholderText","commonProps","cnFormDateTime","FormDateTime","renderDateSelectorContent","controlContent","dateSelectorContent","FormDelim","cnFormGroup","FormGroup","separated","withContainer","align","alignItems","noSpace","noWrap","padded","shaded","stack","cnFormInputGroup","FormInputGroup","wrapFormInteractiveItemHOC","FormInteractiveItem","code","onEnterPressed","onSpacePressed","formContextNode","isEnterPressed","isSpacePressed","registeredKeyPressHandlers","stopPropagation","onInputEnterPressed","handler","addEventListeners","removeEventListeners","addedEventListeners","registerKeyPressHandler","withFormContext","FormInteractiveItemHOC","cnFormItemDummy","FormItemDummy","clickable","getDerivedStateFromProps","iconImg","cnFormItem","classNameExpectedModifierTypes","defaultState","props2State","deriveState","sets","set","wrapFormItemHOC","getStateOrPropOrParam","formItemDomRef","handleFocusIn","handleFocusOut","hovered","focused","domRef","hoverableInited","handleMouseOver","handleMouseOut","focusableInited","setFormItemNodeRef","pressed","cnFormLabel","FormLabel","fixed","firstInBlock","htmlFor","FormLabeledGroup","innerFlex","cnFormPager","visibleRadius","visibleItemsCount","FormPagerItem","action","FormPager","page","showPage","onPageSelect","prevPropsPage","currPropsPage","totalPages","startPage","max","endPage","pages","current","onPageClick","showPrev","showNext","showFirst","showLast","showPrevGroup","prevGroupPage","showNextGroup","nextGroupPage","groupProps","faAngleDoubleLeft","faAngleLeft","faAngleRight","faAngleDoubleRight","language","connect","cnFormPasswordInput","FormPasswordInput","setType","prevType","propsType","stateType","onTypeIconClick","cnFormRadio","FormRadio","renderInput","inputProps","cnFormSelect","FormSelect","setId","maxWidth","renderMenuContent","onMenuChange","menuContent","FormSeparator","FormSpacer","cnFormTextInput","FormTextInput","target","origValue","getCorrectedValue","numericValue","backgroundColor","onFocusIn","onFocusOut","defaultValue","prevPropsValue","prevStateValue","parseInt","isNaN","hasValue","hasClear","hasClearActive","renderClearIcon","clearIcon","clearIconTitle","onClearClick","iconTitle","onIconClick","inputElem","cnFormText","FormText","ActionsContext","ActionsContextProvider","Provider","ActionsContextConsumer","Consumer","FormContext","FormContextProvider","FormContextConsumer","form","configMap","getConfigMap","scopeId","scopeObj","keyId","setConfigOptions","scopes","scope","obj","cssMapping","classNames","classNamesList","s","trim","resultList","pos","minPos","min","apply","base","substr","rest","baseClassName","args","bemReactCn","cnCssMapping","res","msDatePrefix","msDatePostfix","detectDateValueType","moment","convertToDateObject","toDate","toMicrosoftDateTime","toString","offset","format","getTime","convertDateToType","targetType","formatDateToString","fmt","opt","formatDateTimeToString","adjustDateValue","origDate","toEnd","toTime","setHours","setMilliseconds","setSeconds","minutes","getMinutes","extraMinutes","setMinutes","startOfTheDay","endOfTheDay","getDocumentDomNodeByTag","getElementsByTagName","toUpperCase","hasClassName","contains","addClassName","add","removeClassName","remove","uniqCounter","getUniqFormId","setLang","getLang","defaultText","propsLang","common","reverseKeyAndValue","reverseDataHash","hash","toNumber","toBoolean","typeTransforms","getCommonLength","a","b","maxLen","commonLen","len","ucFirst","charAt","slice","toType","methodName","randomHexString","i","floor","random","html2string","html","splitMultiline","textClassName","lineClassName","lines","line","padNumber","num","size","padStart","periodizeNumber","periodChar","humanizeId","WebUiCoreRoot","autoModalsController"],"mappings":"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lB;AACA,SAAKga,4BAAL,GAAoC7J,MAAM,CAAC8J,oBAA3C,CACA,KAAKC,eAAL,GAAuB/J,MAAM,CAACgK,OAA9B,CACAhK,MAAM,CAAC8J,oBAAP,GAA8B,KAAKG,cAAnC,CACAjK,MAAM,CAACgK,OAAP,GAAiB,KAAKC,cAAtB,CALkB,CAOlB;AACA;AACA,QAAI,OAAOnhB,yEAAP,IAA6C,UAAjD,EAA6D,CAC3DA,yEAAA,GACD,CACDA,6DAAA,GAAyB,IAAzB,CACAA,+DAAA,GAA2B,IAA3B,CAbkB,CAclB;AACJ;AACA;AACA;AACA;AACA;AACA,OACG,C,QAEDgN,oB,GAAA,gCAAuB,CACrB;AAEA;AACAkK,UAAM,CAAC8J,oBAAP,GAA8B,KAAKD,4BAAnC,CACA7J,MAAM,CAACgK,OAAP,GAAiB,KAAKD,eAAtB,CACD,C,CAED;IAiBA;SAEAG,U,GAAA,sBAAa,CAAE;AACb,WAAO,KAAK7N,OAAL,IAAgBrR,QAAQ,CAACC,IAAhC,CACD,C,EAoDD;SAEAkf,qB,GAAA,+BAAsBP,eAAtB,EAAuC,CACrC,KAAKta,QAAL,CAAc,EAAEsa,eAAe,EAAfA,eAAF,EAAd,EACD,C,CAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I,QAiCEQ,gB,GAAA,0BAAiBC,SAAjB,CAA0B,SAA1B,EAAqC,CACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAO,iDAAC,2DAAD,8EAAiBA,SAAjB,IAA4B,GAAG,EAAE,KAAKC,kBAAtC,IAAP,CACD,C,QAED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;;;;;;;;;;ACjDe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;;AAE3B;AACA,gDAAgD,OAAO,UAAU;AACjE,GAAG;AACH,8CAA8C,OAAO,UAAU;AAC/D,GAAG;AACH,4CAA4C,OAAO;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,OAAO;AAC3C,kCAAkC,OAAO;AACzC,gCAAgC,OAAO;AACvC,KAAK;AACL;AACA;AACA,+CAA+C,OAAO;AACtD,6CAA6C,OAAO;AACpD,2CAA2C,OAAO;AAClD;AACA,GAAG;AACH;AACA;AACA,6BAA6B,OAAO;AACpC,2BAA2B,OAAO;AAClC,yBAAyB,OAAO;AAChC,KAAK;AACL;AACA,6BAA6B,OAAO;AACpC,2BAA2B,OAAO;AAClC,yBAAyB,OAAO;AAChC,KAAK;AACL;AACA,mCAAmC,OAAO;AAC1C,iCAAiC,OAAO;AACxC,+BAA+B,OAAO;AACtC;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,oCAAoC,OAAO;AAC3C,kCAAkC,OAAO;AACzC,gCAAgC,OAAO;AACvC,KAAK;AACL;AACA;AACA,+CAA+C,OAAO;AACtD,6CAA6C,OAAO;AACpD,2CAA2C,OAAO;AAClD;AACA,GAAG;AACH;AACA;AACA,6BAA6B,OAAO;AACpC,2BAA2B,OAAO;AAClC,yBAAyB,OAAO;AAChC,KAAK;AACL;AACA,6BAA6B,OAAO;AACpC,2BAA2B,OAAO;AAClC,yBAAyB,OAAO;AAChC,KAAK;AACL;AACA,mCAAmC,OAAO;AAC1C,iCAAiC,OAAO;AACxC,+BAA+B,OAAO;AACtC;AACA,GAAG;AACH;AACA;AACA,mCAAmC,OAAO;AAC1C,iCAAiC,OAAO;AACxC,+BAA+B,OAAO;AACtC,KAAK;AACL;AACA,kDAAkD,OAAO;AACzD,gDAAgD,OAAO;AACvD,8CAA8C,OAAO;AACrD;AACA,GAAG;AACH;AACA;AACA,6BAA6B,OAAO;AACpC,2BAA2B,OAAO;AAClC,yBAAyB,OAAO;AAChC;AACA,GAAG;AACH;AACA;AACA,6BAA6B,OAAO;AACpC,2BAA2B,OAAO;AAClC,yBAAyB,OAAO;AAChC;AACA,GAAG;AACH;AACA;AACA,mCAAmC,OAAO;AAC1C,iCAAiC,OAAO;AACxC,+BAA+B,OAAO;AACtC,KAAK;AACL;AACA,kDAAkD,OAAO;AACzD,gDAAgD,OAAO;AACvD,8CAA8C,OAAO;AACrD;AACA,GAAG;AACH;AACA;AACA,6BAA6B,OAAO;AACpC,2BAA2B,OAAO;AAClC,yBAAyB,OAAO;AAChC;AACA,GAAG;AACH;AACA;AACA,mCAAmC,OAAO;AAC1C,iCAAiC,OAAO;AACxC,+BAA+B,OAAO;AACtC,KAAK;AACL;AACA,kDAAkD,OAAO;AACzD,gDAAgD,OAAO;AACvD,8CAA8C,OAAO;AACrD;AACA,GAAG;AACH;AACA;AACA,6BAA6B,OAAO;AACpC,2BAA2B,OAAO;AAClC,yBAAyB,OAAO;AAChC;AACA,GAAG;AACH;AACA;AACA,mCAAmC,OAAO;AAC1C,iCAAiC,OAAO;AACxC,+BAA+B,OAAO;AACtC,KAAK;AACL;AACA,kDAAkD,OAAO;AACzD,gDAAgD,OAAO;AACvD,8CAA8C,OAAO;AACrD;AACA,GAAG;AACH;AACA;AACA,6BAA6B,OAAO;AACpC,2BAA2B,OAAO;AAClC,yBAAyB,OAAO;AAChC;AACA,GAAG;AACH;AACA;AACA,oCAAoC,OAAO;AAC3C,kCAAkC,OAAO;AACzC,gCAAgC,OAAO;AACvC,KAAK;AACL;AACA,+CAA+C,OAAO;AACtD,6CAA6C,OAAO;AACpD,2CAA2C,OAAO;AAClD;AACA,GAAG;AACH;AACA;AACA,mCAAmC,OAAO;AAC1C,iCAAiC,OAAO;AACxC,+BAA+B,OAAO;AACtC,KAAK;AACL;AACA,yCAAyC,OAAO;AAChD,uCAAuC,OAAO;AAC9C,qCAAqC,OAAO;AAC5C;AACA,GAAG;AACH;AACe;AACf;AACA;AACA,C;;;;;;;;;;;;;ACjOyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,MAAM,IAAI,MAAM;AAC1B;AACA;AACA,QAAQ,wEAAiB;AACzB;AACA;AACA,GAAG;AACH,QAAQ,wEAAiB;AACzB;AACA;AACA,GAAG;AACH,YAAY,wEAAiB;AAC7B;AACA;AACA,GAAG;AACH;AACA,+DAAe,UAAU,E;;;;;;;;;;;;;;;;AC9B2C;AACpE;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,QAAQ,oEAAa;AACrB;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,QAAQ,oEAAa;AACrB;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACe;AACf;;AAEA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;;ACrFqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO,sEAAe;AACtB;AACA;AACA,GAAG;AACH,WAAW,sEAAe;AAC1B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,SAAS,sEAAe;AACxB;AACA;AACA;AACA;AACA,GAAG;AACH,OAAO,sEAAe;AACtB;AACA;AACA,GAAG;AACH,aAAa,sEAAe;AAC5B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,+DAAe,QAAQ,E;;;;;;;;;;;;;;AC1IsD;AACd;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,0EAAmB;AACpC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,OAAO,mEAAY;AACnB;AACA;AACA;AACA;AACA,GAAG;AACH,WAAW,mEAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,SAAS,mEAAY;AACrB;AACA;AACA;AACA;AACA,GAAG;AACH,OAAO,mEAAY;AACnB;AACA;AACA;AACA;AACA,GAAG;AACH,aAAa,mEAAY;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,+DAAe,KAAK,E;;;;;;;;;;;;;;;;;AClGwC;AACR;AACQ;AACZ;AACN;AAC1C;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,oCAAoC;AACpC,mCAAmC;AACnC;;AAEA;AACA;AACA,kBAAkB,iEAAc;AAChC,cAAc,6DAAU;AACxB,kBAAkB,iEAAc;AAChC,YAAY,2DAAQ;AACpB,SAAS,wDAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAAe,MAAM,E;;;;;;;;;;;;;;;;AC7BoC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa,KAAK;AAClB,YAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf,EAAE,mEAAY;AACd,wDAAwD;;AAExD;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,uKAAuK;;AAEvK;AACA;;AAEA;AACA;AACA,C;;;;;;;;;;;ACnDa;;AAEb,cAAc,mBAAO,CAAC,kDAAU;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACtGA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,0CAA0C,yBAAyB,EAAE;AACrE;AACA;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;;AAEA;;;;;;;;;;;;;AChDA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,IAAI,IAAqC;AACzC,6BAA6B,mBAAO,CAAC,yFAA4B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA4G;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;;AAEA;;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,kDAAU;AAChC,aAAa,mBAAO,CAAC,4DAAe;;AAEpC,2BAA2B,mBAAO,CAAC,yFAA4B;AAC/D,qBAAqB,mBAAO,CAAC,qEAAkB;;AAE/C;AACA;;AAEA,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,6BAA6B;AAC7B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,KAAqC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,IAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,KAAqC,4FAA4F,CAAM;AAC7I;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;AC9kBA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,IAAqC;AACzC,gBAAgB,mBAAO,CAAC,kDAAU;;AAElC;AACA;AACA;AACA,mBAAmB,mBAAO,CAAC,uFAA2B;AACtD,CAAC,MAAM,EAIN;;;;;;;;;;;;AClBD;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;;;AAIb,IAAI,IAAqC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;;AAEhD;AACA;AACA;AACA,iDAAiD;;AAEjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB,sBAAsB;AACtB,uBAAuB;AACvB,uBAAuB;AACvB,eAAe;AACf,kBAAkB;AAClB,gBAAgB;AAChB,YAAY;AACZ,YAAY;AACZ,cAAc;AACd,gBAAgB;AAChB,kBAAkB;AAClB,gBAAgB;AAChB,mBAAmB;AACnB,wBAAwB;AACxB,yBAAyB;AACzB,yBAAyB;AACzB,iBAAiB;AACjB,oBAAoB;AACpB,kBAAkB;AAClB,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,kBAAkB;AAClB,oBAAoB;AACpB,kBAAkB;AAClB,0BAA0B;AAC1B,cAAc;AACd,GAAG;AACH;;;;;;;;;;;;ACpLa;;AAEb,IAAI,KAAqC,EAAE,EAE1C;AACD,EAAE,gIAAyD;AAC3D;;;;;;;;;;;;ACNa;;AAEb,8BAA8B,mBAAO,CAAC,sHAA+C;;AAErF,6BAA6B,mBAAO,CAAC,oHAA8C;;AAEnF,kBAAkB;AAClB,eAAe;;AAEf,6CAA6C,mBAAO,CAAC,oGAAsC;;AAE3F,qDAAqD,mBAAO,CAAC,oHAA8C;;AAE3G,uCAAuC,mBAAO,CAAC,wFAAgC;;AAE/E,4DAA4D,mBAAO,CAAC,kIAAqD;;AAEzH,mDAAmD,mBAAO,CAAC,2GAAyB;;AAEpF,wCAAwC,mBAAO,CAAC,sDAAW;;AAE3D,qCAAqC,mBAAO,CAAC,oBAAO;;AAEpD,eAAe,mBAAO,CAAC,kDAAU;;AAEjC,2CAA2C,mBAAO,CAAC,mFAAuB;;AAE1E,iBAAiB,mBAAO,CAAC,6EAAoB;;AAE7C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,kDAAkD;AAClD;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,wEAAwE;AACxE;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qGAAqG,gBAAgB;AACrH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C;AAC9C;;AAEA;AACA,4GAA4G;AAC5G;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iGAAiG;AACjG;AACA;AACA;;AAEA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,IAAqC;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,uCAAuC;AACvC;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA,C;;;;;;;;;;;AC/Ta;;AAEb,6BAA6B,mBAAO,CAAC,oHAA8C;;AAEnF,kBAAkB;AA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BAAO,CAAC,6FAA4B;;AAEpF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,MAAM;;;AAGN;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,UAAU,IAAqC;AAC/C;AACA;;AAEA;AACA;AACA,C;;;;;;;;;;;AC3Ea;;AAEb,6BAA6B,mBAAO,CAAC,oHAA8C;;AAEnF,kBAAkB;AAClB,kBAAkB,GAAG,yBAAyB;;AAE9C,wCAAwC,mBAAO,CAAC,sDAAY;;AAE5D;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA,CAAC;;AAED,kBAAkB,c;;;;;;;;;;;ACxBL;;AAEb,kBAAkB;AAClB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,sBAAsB;AAC3C;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED,eAAe,gB;;;;;;;;;;;AC3FF;;AAEb,kBAAkB;AAClB,eAAe;;AAEf;AACA,WAAW,IAAI;AACf,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;ACpBa;;AAEb,kBAAkB;AAClB,eAAe;AACf;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;AChCa;;AAEb,6BAA6B,mBAAO,CAAC,oHAA8C;;AAEnF,kBAAkB;AAClB,eAAe;;AAEf,4CAA4C,mBAAO,CAAC,8EAAiB;;AAErE,sCAAsC,mBAAO,CAAC,kEAAW;;AAEzD;AACA;AACA;AACA;AACA,C;;;;;;;;;;;ACfa;;AAEb,kBAAkB;AAClB,eAAe;;AAEf;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA,C;;;;;;;;;;;;;;;;;AC5BA;;;GAGG;AAEuB;AACW;AACrC,8BAA8B;AAER;AAEuB;AAC7C,2DAA2D;AAE3D,IAAM,OAAO,GAAG,mDAAE,CAAC,OAAO,CAAC,CAAC;AAE5B,IAAM,KAAK,GAAG,UAAC,EAAwC;QAAtC,gBAAqB,EAArB,QAAQ,mBAAG,UAAU,OAAE,YAAa,EAAb,IAAI,mBAAG,MAAM;IACnD,IAAM,SAAS,GAAG,OAAO,EAAE,CAAC;IAC5B,IAAM,GAAG,GAAG,aAAa,CAAC;IAC1B,oCAAoC;IACpC,YAAY;IACZ,OAAO,CACL,oEAAK,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG;QACnC,mEAAI,SAAS,EAAE,OAAO,CAAC,OAAO,CAAC;YAAG,QAAQ;;YAAI,IAAI;gBAAO;QACzD,oEAAK,SAAS,EAAE,OAAO,CAAC,WAAW,CAAC;YAClC,oEAAK,GAAG,EAAE,wDAAS,GAAI,CACnB,CACF,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,+DAAe,KAAK,EAAC;;;;;;;;;;;;;;;;;AC/BrB,6CAA6C;AACX;AAClC,+BAA+B;AAC/B,0BAA0B;;;;;;;;;;;;;;;;;ACHmB;;;;;;;;;;;;;;;;;ACAN;;;;;;;;;;;;;;;;;ACAJ;;;;;;;;;;;;;;;;;ACAW;;;;;;;;;;;;;;;;;ACAT;;;;;;;;;;;;;;;;;ACAJ;;;;;;;;;;;;;;;;;ACAM;;;;;;;;;;;;;;;;;;ACAuB;;;;;;;;;;;;;;;;;ACAtB;;;;;;;;;;;;;;;;;ACAK;AAC7C,6CAA6C;AAC7C,qDAAqD;AACrD,mCAAmC;;;;;;;;;;;;;;;;;ACHK;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;ACAG;;;;;;;;;;;;;;;;;ACAC;;;;;;;;;;;;;;;;;ACAL;;;;;;;;;;;;;;;;;ACAG;;;;;;;;;;;;;;;;;ACAS;;;;;;;;;;;;;;;;;ACAT;;;;;;;;;;;;;;;;;ACAD;;;;;;;;;;;;;;;;;ACAH;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;ACAK;;;;;;;;;;;;;;;;;ACAQ;;;;;;;;;;;;;;;;;ACAT;;;;;;;;;;;;;;;;;ACAF;;;;;;;;;;;;;;;;;ACAF;;;;;;;;;;;;;;;;;ACAO;;;;;;;;;;;;;;;;;ACAP;;;;;;;;;;;;;;;;;ACAQ;;;;;;;;;;;;;;;;;ACAR;;;;;;;;;;;;;;;;;ACAC;;;;;;;;;;;;;;;;;ACAG;;;;;;;;;;;;;;;;;ACAH;;;;;;;;;;;;;;;;;ACAG;;;;;;;;;;;;;;;;;ACAL;;;;;;;;;;;;;ACArC,+DAAe,oBAAoB,4rF;;;;;;;;;;;ACAnC,kD;;;;;;;;;;;ACAA,gE;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,+D;;;;;;;;;;;ACAA,4D;;;;;;;;;;;ACAA,sC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,8C;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,+C;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,cAAc,0BAA0B,EAAE;WAC1C,cAAc,eAAe;WAC7B,gCAAgC,YAAY;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;WACA,CAAC,I;;;;;WCPD,6CAA6C,wDAAwD,E;;;;;WCArG;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAIA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,IAAMwb,aAAa,GAAG,SAAhBA,aAAgB;;;;;;AAMhB,KAFJ9wB,QAEI,QAFJA,QAEI,CADJ+wB,oBACI,QADJA,oBACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE,+DAAC,uDAAD;AACG/wB,YADH;AAEG+wB,wBAAoB,iBAAI,2DAAC,wEAAD,OAF3B,CADF;;;AAMD,CApBD;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAAeD,aAAf,E","file":"bundle.js","sourcesContent":["function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inheritsLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/** @module config.app\n *  @description Core app config\n *  @since 2019.09.10, 14:25\n *  @changed 2021.01.24, 21:42\n *\n *  NOTE: All config params may be updated with `utils.configure.setConfigOptions`, eg:\n *  ```\n *  WebUiCoreUtils.configure.setConfigOptions({ useCssModules: true, cssMappings: webUiCoreCssMappings, store });\n *  ```\n */\n\nmodule.exports = { // Common-used app variables...\n\n  defaultPageSize: 20, // Number of entries per page\n\n  useCssModules: false, // To use css-module mappings (see `cssMappings` below)\n\n  // Css-modules mappings in format `{ [originalClassName]: transformedClassName }`.\n  // Set it with `WebUiCore.utils.setFactoryOptions(React, { useCssModules: true, cssMappings })`\n  cssMappings: null,\n\n  // cssModulePrefix: 'WebUiCore', // UNUSED\n\n  lang: null, // i18n language texts provider (from target project) // TODO\n  // Mostly using texts from `lang.components.common`\n\n  defaultLocale: 'ru-RU', // One of: 'ru-RU', 'en-US'\n\n  store: null, // Target app redux store (???)\n\n};\n","/** @module config.build\n *  @description Build management config\n *  @since 2019.09.10, 14:25\n *  @changed 2019.09.10, 14:25\n */\n\nconst DEBUG = process.env.DEBUG;\nconst DEV_DEBUG = process.env.DEV_DEBUG;\n\nmodule.exports = { // Common-used build variables...\n\n  DEBUG: DEBUG,\n  DEV_DEBUG: DEV_DEBUG,\n\n  THEME: process.env.THEME,\n  buildTag: process.env.buildTag,\n  timestamp: process.env.timestamp,\n  timetag: process.env.timetag,\n  version: process.env.version,\n\n};\n","/** @module config.constants\n *  @description Basic constants\n *  @since 2019.09.10, 14:25\n *  @changed 2021.05.14, 15:33\n */\n\n/** Date conversion & presentation templates... */\n\n// Date/time formats for use in DatePicker, see https://date-fns.org/v2.16.1/docs/format\n// export const dateFormat = 'DD.MM.YYYY HH:mm';\n// export const timeFormat = 'HH:mm';\nexport const dateFormat = 'dd.MM.yyyy';\nexport const timeFormat = 'HH:mm';\nexport const timeSecFormat = 'HH:mm:ss';\nexport const timeMsFormat = 'HH:mm:ss:SSS';\nexport const dateTimeFormat = dateFormat + ' ' + timeFormat;\nexport const dateTimeSecFormat = dateFormat + ' ' + timeSecFormat;\nexport const dateTimeMsFormat = dateFormat + ' ' + timeMsFormat;\nexport const dateRangeDelim = '  ';\n\nexport const timeIntervals = 60;\nexport const dayTicks = 1000 * 60 * 60 * 24;\nexport const weekTicks = dayTicks *7;\n\n// dateStringFormat: 'yyyy.mm.dd HH:MM:ss',\n// dateTagFormat: 'yymmdd-HHMM',\n\n/** App title parts delimiter */\n// export const pageDelim = '  ' // en-dash\n","/** @module config.css\n *  @description Global styles config\n *  @since 2019.08.29, 10:28\n *  @changed 2021.07.07, 19:55\n */\n\n// Theme...\nconst THEME = process.env.THEME;\nconst theme = require(process.env.THEME_FILE);\n// const themes = require('./css-themes');\n// const theme = themes[THEME];\n\n// Some reusable parameters...\nconst defaultFontSize = theme.defaultFontSize || 16;\nconst textColor = theme.textColor || '#444';\n\nconst defaultTransitionTime = 250;\nconst defaultAnimateTime = 500;\n\nconst primaryDarkColor = theme.primaryDarkColor || '#06d';\nconst primaryColor = theme.primaryColor || '#07f';\nconst primaryLightColor = theme.primaryLightColor || '#6af';\nconst primaryContrastColor = theme.primaryContrastColor || '#fff';\n\nconst secondaryDarkColor = theme.secondaryDarkColor || '#233';\nconst secondaryColor = theme.secondaryColor || '#677';\nconst secondaryLightColor = theme.secondaryLightColor || '#abb';\nconst secondaryContrastColor = theme.secondaryContrastColor || '#fff';\n\n// theme\\.\\(primaryDarkColor\\|primaryColor\\|primaryLightColor\\|primaryContrastColor\\|secondaryDarkColor\\|secondaryColor\\|secondaryLightColor\\|secondaryContrastColor\\)\\>\n\nconst errorColor = theme.errorColor || '#c33';\nconst warnColor = theme.warnColor || '#f73'; // '#f96'\nconst successColor = theme.successColor || '#593'; // '#ac9'\nconst infoColor = theme.infoColor || primaryColor; // '#29a' // '#9bd'\nconst confirmColor = theme.confirmColor /* || primaryColor || textColor */ || '#891'; // '#07f'\nconst selectColor = theme.selectColor || '#05b';\n\n// module.exports = { // Common-used css variables...\nconst cssConfig = { // Common-used css variables...\n\n  THEME: THEME,\n\n  primaryColor: primaryColor,\n  primaryLightColor: primaryLightColor,\n  primaryDarkColor: primaryDarkColor,\n  primaryContrastColor: primaryContrastColor || '#fff',\n\n  secondaryColor: secondaryColor,\n  secondaryLightColor: secondaryLightColor,\n  secondaryDarkColor: secondaryDarkColor,\n  secondaryContrastColor: secondaryContrastColor || '#fff',\n\n  // Colors...\n\n  // Colors for dialogs styles\n  errorColor, // theme.errorColor || '#c33',\n  warnColor, // theme.warnColor || '#f73', // '#f96',\n  successColor, // theme.successColor || '#593', // '#ac9',\n  infoColor, // theme.infoColor || '#29a', // '#9bd',\n  confirmColor, // theme.confirmColor /* || primaryColor || textColor */ || '#891', // '#07f',\n  selectColor, // theme.selectColor || '#05b',\n\n  specialContrastColor: '#fff', // Generic contrast for accenting colors\n\n  textColor,\n  defaultTextColor: textColor,\n\n  // Neutral colors...\n\n  neutralSuperDarkestColor: '#222',\n  neutralDarkestColor: '#333',\n  neutralExtraDarkColor: '#666',\n  neutralSuperDarkColor: '#777',\n  neutralDarkColor: '#999',\n  neutralTintedDarkColor: '#aaa',\n  neutralShadedColor: '#bbb',\n  neutralColor: '#ccc',\n  neutralTintedColor: '#d0d0d0',\n  neutralLightColor: '#e0e0e0',\n  neutralSuperLightColor: '#eee',\n  neutralExtraLightColor: '#f0f0f0',\n\n  bootstrapDarkColor: '#212529',\n\n  // Theme colors...\n\n  bodyBgColor: theme.bodyBgColor || '#fff',\n  bodyTextColor: theme.bodyTextColor || '#333',\n  layoutBgColor: theme.layoutBgColor || '#f0f0f0',\n  layoutLightBgColor: theme.layoutLightBgColor || '#f7f7f7',\n\n  layoutBorderColor: theme.layoutBorderColor || '#ccc',\n\n  themeColors: { // Generic theming colors...\n\n    // ??? TODO: See buttons themes\n    primary: primaryColor,\n    secondary: secondaryColor,\n\n    neutral: '#666',\n\n    error: errorColor,\n    warn: warnColor,\n    success: successColor,\n    info: infoColor,\n    confirm: confirmColor,\n    select: selectColor,\n\n    // red: '#c33',\n    // orange: '#f73',\n    // green: '#593',\n    // grassGreen: '#891',\n    // Blue: '#05b',\n    // lightBue: '#29a',\n\n    maroon: '#800000',\n    red: '#ff0000',\n    purple: '#800080',\n    fuchsia: '#ff00ff',\n    green: '#008000',\n    // lime: '#00ff00',\n    olive: '#808000',\n    // yellow: '#ffff00',\n    navy: '#000080',\n    blue: '#0000ff',\n    teal: '#008080',\n    // aqua: '#00ffff',\n    orange: '#ffa500',\n\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    cadetblue: '#5f9ea0',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n\n  },\n\n  // Fonts...\n\n  defaultFont: theme.defaultFont || '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\n\n  defaultFontSize,\n  fontSize: defaultFontSize,\n  fontSizeM: defaultFontSize,\n  fontSizeSm: defaultFontSize - 2,\n  fontSizeXs: defaultFontSize - 4,\n  fontSizeLg: defaultFontSize + 2,\n  fontSizeXl: defaultFontSize + 4,\n  fontSizeXxl: defaultFontSize + 8,\n  titleFontSize: defaultFontSize + 8,\n  defaultLineHeight: 1.3,\n  // defaultFontWeight: 400,\n  defaultFontWeight: 'normal',\n  // defaultFontWeight: 500,\n  // defaultBemFontSize: defaultFontSize,\n\n  // Breakpoints (from bootstrap)\n  bk_xs: 0,\n  bk_sm_pre: 575.98,\n  bk_sm: 576,\n  bk_md_pre: 767.98,\n  bk_md: 768,\n  bk_lg_pre: 991.98,\n  bk_lg: 992,\n  bk_xl_pre: 1199.98,\n  bk_xl: 1200,\n\n  // Median breakpoints (breakpoints between popular screen sizes\n  bm_xs: 0,\n  bm_sm_pre: 399.98,\n  bm_sm: 400,\n  bm_md_pre: 699.98,\n  bm_md: 700,\n  bm_lg_pre: 799.98,\n  bm_lg: 800,\n  bm_xl_pre: 1099.98,\n  bm_xl: 1100,\n\n  // Modal sizes...\n  modalMinWidth: 300, // Minimal width for 'auto' mode\n  modalWindowPadding: 20, // Windows padding\n  modalSizes: { // Generic theming colors...\n    xs: 200,\n    sm: 400,\n    md: 600,\n    lg: 800,\n    xl: 1000,\n    xxl: 1200,\n  },\n\n  // Spacings & paddings...\n\n  innerPadding: 5,\n  itemPadding: 10,\n  containerPadding: 15,\n  blockPadding: 20,\n\n  // Timeouts & delays...\n\n  transitionTime: defaultTransitionTime, // ms\n  animateTime: defaultAnimateTime, // ms\n\n  // Modals parameters...\n\n  modalAnimateTime: defaultAnimateTime,\n  modalWindowAnimateTime: defaultTransitionTime,\n\n  // NOTE 2021.01.12, 13:54 -- `absolute` required for modal windows, `fixed` required for popups -- ???\n  modalContainerPosition: 'absolute',\n  modalPortalPosition: 'absolute',\n  // modalContainerPosition: 'fixed',\n  // modalPortalPosition: 'fixed',\n\n  // Parameters...\n\n  // // Use global flex container & in page components scrolls\n  // // NOTE: 2019.06.14, 13:14 -- Not used. Using `html.Clippable` dynamically creating selectors.\n  // useGlobalClipping: true,\n\n};\n\nconst formItemSpacing = 4;\nconst formItemHeight = 32; // px\nconst formItemBorderSize = 1; // px\nconst formItemInnerHeight = formItemHeight; // - formItemBorderSize * 2; // px -- if used css border\n\nObject.assign(cssConfig, { // Form properties...\n\n  // Forms...\n\n  formItemSpacing, // px\n  formItemHeight, // px\n  formItemBorderSize, // px\n  formItemInnerHeight, // px\n\n  formItemBorderRadius: 3, // px\n  formItemOuterGlow: 4, // px\n  formItemGlowColor: cssConfig.primaryColor, // cssConfig.neutralColor,\n  formItemBorderColor: cssConfig.neutralColor,\n  formItemActorColor: cssConfig.neutralDarkColor,\n  formItemBgColor: '#fff',\n  formItemTextColor: cssConfig.defaultTextColor,\n  formItemPlaceholderColor: cssConfig.neutralColor,\n  formItemInnerPaddingH: 8,\n  formItemDisabledOpacity: .5,\n\n  formPlaceholderColor: '#ccc',\n\n  // Menu...\n\n  menuVPadding: 8,\n  menuSeparatorVPadding: 4,\n  menuSeparatorHPadding: 4,\n\n  // tableBorderWidth: 2,\n\n  defaultIconSize: 24,\n  smallIconSize: 16,\n\n  popupVerticalOffset: 4,\n  popupWindowOffset: 10,\n\n});\n\nmodule.exports = cssConfig;\n","/** @module config\n *  @description App config\n *  @since 2019.08.29, 10:28\n *  @changed 2020.12.22, 00:32\n */\n\nconst config = {\n  app: require('./app'),\n  build: require('./build'),\n  constants: require('./constants'),\n  css: require('./css'),\n  modals: require('./modals'),\n  ui: require('./ui'),\n  userAgent: require('./userAgent'),\n};\n\nmodule.exports = config;\n","/** @module config.modals\n *  @description Core app config\n *  @since 2019.09.10, 14:25\n *  @changed 2020.12.22, 00:32\n */\n\nconst modalsConfig = { // Common-used app variables...\n\n  // Id for modals & modals wrapper\n  containerId: 'ModalsController',\n\n  // Controller reference (`ModalsController` instance)\n  controller: undefined, // Was (before 2021.03.18): `containerNode`\n\n  // Initialized flag\n  isInited: false,\n\n  __initPromise: undefined, // See `initPromise` below\n  __initPromiseResolve: undefined,\n\n};\n\n\n// Delayed initialization (resolving in `ModalsController`)...\nmodalsConfig.initPromise = new Promise(function(resolve) {\n  modalsConfig.__initPromiseResolve = resolve;\n});\n\nmodule.exports = modalsConfig;\n","/** @module config.themes.default\n *  @desc App theme css parameters\n *  @since 2019.09.06, 11:23\n *  @changed 2019.09.06, 11:24\n */\n\nmodule.exports = {\n\n  primaryDarkColor:  '#06d', // '#c90'\n  primaryColor:      '#07f', // '#fc0'\n  primaryLightColor: '#6af', // '#fe8'\n  primaryContrastColor: '#fff',\n\n  secondaryDarkColor:  '#233',\n  secondaryColor:      '#677',\n  secondaryLightColor: '#abb',\n  secondaryContrastColor: '#fff',\n\n};\n","/** @module config.ui\n *  @description Basic UI constants\n *  @since 2020.12.24, 21:01\n *  @changed 2020.12.24, 21:01\n */\n\nexport const defaultIcons = {\n  error: 'faExclamationCircle',\n  warn: 'faBolt',\n  success: 'faCheckCircle',\n  info: 'faInfoCircle',\n  confirm: 'faQuestionCircle',\n  select: 'faListOl',\n};\n","/** @module config.build\n *  @description Build management config\n *  @since 2019.09.10, 14:25\n *  @changed 2020.05.17, 04:12\n *\n * Detecting next browser features (see `detectUserAgent` function):\n *\n *  - ANTGalio\n *  - WebKit\n *  - Opera\n *  - Firefox\n *  - Safari\n *  - IE\n *  - Edge\n *  - Chrome\n *  - Blink\n *\n * NOTE: All config submodules uses only ES5 syntax (no webpack/babel poly/overfills for avoid compatibility issues)\n */\n\n/** Prefix to add for each body agent class.\n * Adding `{cssAgentPrefix}BrowserId` class for each detected browser feature).\n * E.g.: 'ua_Chrome', 'ua_IE' etc...\n */\nvar cssAgentPrefix = 'ua_';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction detectSafari() {\n  var isSafari = false;\n  try {\n    isSafari = /constructor/i.test(String(global.HTMLElement));\n  }\n  catch (error) {} // eslint-disable-line no-empty\n  if (!isSafari) {\n    var notificationObject = global.safari && (typeof global.safari !== 'undefined' && global.safari.pushNotification);\n    isSafari = !!notificationObject && (String(notificationObject) === '[object SafariRemoteNotification]');\n  }\n  return isSafari;\n}\n\nfunction detectUserAgent() {\n\n  var agentString = String(global.navigator && global.navigator.userAgent || 'none');\n  // var agentString = getAgentString()\n  var document = global.document;\n  var body = (document && document.body/*  || {} */);\n\n  var ua = {};\n\n  ua.ANTGalio = agentString.indexOf('ANTGalio') !== -1;\n  ua.WebKit = agentString.indexOf('WebKit') !== -1;\n\n  ua.Opera = (!!global.opr && !!global.opr.addons) || !!global.opera || agentString.indexOf(' OPR/') != -1;\n\n  // Firefox 1.0+\n  ua.Firefox = typeof InstallTrigger !== 'undefined';\n\n  // // Safari 3.0+ \"[object HTMLElementConstructor]\"\n  // ua.Safari = /constructor/i.test(global.HTMLElement) || (function (p) { return p.toString() === \"[object SafariRemoteNotification]\" })(!global.safari || (typeof global.safari !== 'undefined' && global.safari.pushNotification))\n  ua.Safari = detectSafari();\n\n  ua.IE = /*@cc_on!@*/!!(document && document.documentMode);\n\n  // Edge 20+\n  ua.Edge = !ua.IE && !!global.StyleMedia;\n\n  // Chrome 1 - 71\n  ua.Chrome = !!global.chrome && (!!global.chrome.webstore || !!global.chrome.runtime);\n\n  // Blink engine detection\n  ua.Blink = (ua.Chrome || ua.Opera) && !!global.CSS;\n\n  var agentData = {\n    agentString: agentString,\n    agentsList: [],\n  };\n  var cssAgentClasses = '';\n  for (var key in ua) { // Filter non-false agent keys, construct agentsList...\n    if (hasOwnProperty.call(ua, key) && ua[key]) {\n      agentData[key] = ua[key];\n      agentData.agentsList.push(key);\n      cssAgentClasses += (cssAgentClasses ? ' ' : '') + cssAgentPrefix + key;\n    }\n  }\n\n  if (body) { // Add agent classes to body class\n    body.className = (body.className ? body.className + ' ' : '') + cssAgentClasses;\n  }\n\n  return agentData;\n\n}\n\nvar userAgent = detectUserAgent();\n\nmodule.exports = userAgent;\n","/** @module DateTimeSelector\n *  @class DateTimeSelector\n *  @since 2021.01.23, 19:44\n *  @changed 2021.03.17, 15:25\n *\n *  TODO 2020.12.16, 23:07 -- Add hidden html form element (for form submission)\n */\n/* eslint-disable react/require-default-props */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { cn } from 'utils/configure';\n\nimport config from 'config';\n\nimport * as langUtils from 'utils/lang';\n// // langUtils.getCommonLangText('cancelButton', 'Cancel', lang)\n\nimport DatePicker from 'react-datepicker';\n\nimport * as dateUtils from 'utils/dates';\nimport * as stringUtils from 'utils/strings';\n\nimport { ru } from 'date-fns/esm/locale';\nimport { registerLocale } from 'react-datepicker';\n// Initialize locales...\nregisterLocale('ru-RU', ru);\n// TDDO: Register locales in target project (using config data)?\n\nimport 'react-datepicker/dist/react-datepicker.css';\n\nimport './DateTimeSelector.pcss';\n\nconst cnDateTimeSelector = cn('DateTimeSelector');\n\nconst defaultDateType = 'number';\n\nclass DateTimeSelector extends React.PureComponent /** @lends @DateTimeSelector.prototype */ {\n\n  static propTypes = {\n    calendarClassName: PropTypes.string,\n    disabled: PropTypes.bool,\n    endDate: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date) ]),\n    id: PropTypes.string,\n    inputId: PropTypes.string,\n    onChange: PropTypes.func,\n    selectsEnd: PropTypes.bool,\n    selectsRange: PropTypes.bool,\n    selectsStart: PropTypes.bool,\n    showTime: PropTypes.bool,\n    startDate: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date) ]),\n    timeIntervals: PropTypes.number,\n    title: PropTypes.string,\n    value: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date) ]),\n  }\n\n  static defaultProps = {\n    timeIntervals: 60,\n  };\n\n  // Lifecycle methods...\n\n  constructor(props) {\n    super(props);\n    const {\n      value,\n      startDate,\n      endDate,\n      selectsRange,\n      showTime,\n      timeIntervals,\n    } = props;\n    this.id = props.id || props.inputId/*  || props.name */;\n    const dateType = props.dateType || dateUtils.detectDateValueType(value || startDate || endDate) || defaultDateType;\n    const selectsStart = (selectsRange && props.selectsStart == null) ? true : props.selectsStart;\n    const selectsEnd = (selectsRange && props.selectsEnd == null) ? !selectsStart : props.selectsEnd;\n    this.state = {\n      dateType,\n      // value: value && dateUtils.convertToDateObject(value),\n      value: value && dateUtils.adjustDateValue(dateUtils.convertToDateObject(value), false, showTime, timeIntervals),\n      startDate: startDate && dateUtils.convertToDateObject(startDate),\n      endDate: endDate && dateUtils.convertToDateObject(endDate),\n      selectsStart,\n      selectsEnd,\n    };\n  }\n\n  updateTimeListItems = () => { // Update time values to period ends (eg, '00:00' -> '00:59' for 1-hour intervals\n    const {\n      // value,\n      // startDate,\n      // endDate,\n      // selectsRange,\n      showTime,\n      timeIntervals,\n      isEndDate,\n    } = this.props;\n    const { domNodeRef } = this;\n    if (!isEndDate || !showTime || !domNodeRef) { // Do nothing\n      return;\n    }\n    const items = domNodeRef.getElementsByClassName('react-datepicker__time-list-item');\n    // console.log('DateTimeSelector:updateTimeListItems', {\n    //   showTime,\n    //   timeIntervals,\n    //   isEndDate,\n    //   domNodeRef,\n    //   items,\n    // });\n    items.forEach((item) => {\n      const text = item.innerText;\n      let [ hours, mins ] = text.split(':').map(Number);\n      mins += timeIntervals - 1;\n      if (mins >= 60) {\n        hours += Math.ceil(mins - 60);\n        mins = mins % 60;\n      }\n      const resultText = stringUtils.padNumber(hours, 2) + ':' + stringUtils.padNumber(mins, 2);\n      item.innerText = resultText;\n    });\n  }\n\n  componentDidMount() {\n    const {\n      showTime,\n      isEndDate,\n    } = this.props;\n    if (isEndDate && showTime) {\n      setTimeout(this.updateTimeListItems, 0); // Delayed update\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const checkDateKeys = [\n      'value',\n      'startDate',\n      'endDate',\n    ];\n    let hasStateChanges = 0;\n    const setState = {};\n    checkDateKeys.forEach(key => {\n      if (this.props[key] !== prevProps[key]) {\n        setState[key] = this.props[key] && dateUtils.convertToDateObject(this.props[key]);\n        hasStateChanges++;\n      }\n    });\n    // console.log('DateTimeSelector:componentDidUpdate', {\n    //   hasStateChanges,\n    //   prevProps,\n    //   props: this.props,\n    // });\n    if (hasStateChanges) {\n      this.setState(setState);\n    }\n  }\n\n  // Helper methods...\n\n  getClassName() {\n    const { id } = this;\n    const classList = cnDateTimeSelector({\n      id,\n    }, [this.props.className]);\n    return classList;\n  }\n\n  // Handlers...\n\n  setDomRef = (node) => {\n    this.domNodeRef = node;\n    // console.log(node);\n    // debugger;\n  }\n\n  onChange = (value) => {\n    // const origValue = value;\n    const {\n      selectsRange,\n      onChange,\n      showTime,\n      timeIntervals,\n      isEndDate,\n    } = this.props;\n    const {\n      dateType,\n    } = this.state;\n    let setParams;\n    let selectedStart = this.state.selectsStart;\n    if (selectsRange) {\n      let startDate = this.state.startDate;\n      let endDate = this.state.endDate;\n      if (Array.isArray(value)) { // datepicker v.3: array -- changed day, single value -- changed time\n        value = value[0]; // ???\n      }\n      else {\n        selectedStart = !selectedStart; // Re-revert start/end switch\n      }\n      if (selectedStart) {\n        startDate = value;\n      }\n      else {\n        endDate = value;\n      }\n      setParams = {\n        id: this.id,\n        startDate: startDate || this.state.startDate,\n        endDate: endDate || this.state.endDate,\n        selectedStart,\n        selectsStart: !selectedStart,\n        selectsEnd: selectedStart,\n        value,\n      };\n    }\n    else {\n      setParams = {\n        id: this.id,\n        value,\n      };\n      if (this.state.selectsStart) {\n        setParams.startDate = value;\n      }\n      if (this.state.selectsEnd) {\n        setParams.endDate = value;\n      }\n    }\n    // console.log('DateTimeSelector:onChange', selectsStart ? 'start' : 'end', origValue, setParams);\n    this.setState(setParams);\n    if (typeof onChange === 'function') {\n      const cbParams = { ...setParams }; // Convert date values to target date type...\n      [ 'value', 'startDate', 'endDate'].forEach(id => {\n        const date = cbParams[id];\n        if (date) {\n          const isEndDateCombined = (id === 'endDate') || (id === 'value' && isEndDate);\n          const dateObj = dateUtils.adjustDateValue(date, isEndDateCombined, showTime, timeIntervals);\n          cbParams[id + 'Obj'] = dateObj;\n          cbParams[id] = dateUtils.convertDateToType(dateObj, dateType);\n        }\n      });\n      // console.log('DateTimeSelector:onChange', cbParams);\n      onChange(cbParams);\n    }\n  }\n\n  // Render...\n\n  render() {\n    const {\n      value,\n      startDate,\n      endDate,\n      selectsStart,\n      selectsEnd,\n    } = this.state;\n    const {\n      showTime,\n      timeIntervals,\n      selectsRange,\n      calendarClassName,\n      minDate,\n      maxDate,\n      now,\n    } = this.props;\n    const lang = langUtils.getLang();\n    const langComponents = lang && lang.components || {};\n    const locale = langComponents.lang || config.app.defaultLocale; // TODO?\n    const calendarLang = langComponents.calendar || {};\n    // console.log('DateTimeSelector:render', {\n    //   value,\n    //   startDate,\n    //   endDate,\n    // });\n    // @see https://reactdatepicker.com/\n    // @see https://github.com/Hacker0x01/react-datepicker\n    const datePickerProps = {\n      id: this.id,\n      inline: true,\n      calendarClassName,\n      locale, // Causes exception `A locale object was not found for the provided string` (use `registerLocale`)\n      timeIntervals,\n      timeFormat: config.constants.timeFormat,\n      dateFormat: config.constants.dateFormat,\n      onChange: this.onChange,\n      selected: value,\n      startDate,\n      endDate,\n      minDate,\n      maxDate,\n      now,\n      showTimeSelect: showTime,\n      selectsRange,\n      selectsStart,\n      selectsEnd,\n      // TODO: Fetch labels from lang data (lang.components.calendar)...\n      timeCaption: calendarLang.timeCaption || 'Time',\n      previousYearButtonLabel: calendarLang.previousYearButtonLabel || 'Previous Year',\n      nextYearButtonLabel: calendarLang.nextYearButtonLabel || 'Next Year',\n      previousMonthButtonLabel: calendarLang.previousMonthButtonLabel || 'Previous Month',\n      nextMonthButtonLabel: calendarLang.nextMonthButtonLabel || 'Next Month',\n      // onCalendarOpen: this.updateTimeListItems,\n      // ref: this.setRef,\n    };\n    return (\n      <div className={this.getClassName()} ref={this.setDomRef}>\n        <DatePicker {...datePickerProps} />\n      </div>\n    );\n  }\n\n}\n\nexport default DateTimeSelector;\n","/** @module ErrorContainer\n *  @desc Displays error messages\n *  @since 2021.05.07, 14:10\n *  @changed 2021.05.07, 14:10\n */\n\nimport React, { PureComponent } from 'react';\n// import { cn } from '@bem-react/classname';\nimport { cn } from 'utils/configure';\nimport * as strings from 'utils/strings';\n\nimport './ErrorContainer.pcss';\n\nconst cnErrorContainer = cn('ErrorContainer');\n\nclass ErrorContainer extends PureComponent {\n\n  getErrorContent(error) {\n    // const _origError = error;\n    if (Array.isArray(error)) {\n      error = error.map(this.getErrorContent, this);\n    }\n    else if (typeof error !== 'object' || !React.isValidElement(error)) { // If not react element...\n      // ...prepare text...\n      if (error instanceof Error && error.message) {\n        error = error.message;\n      }\n      if (error && typeof error !== 'string') {\n        error = String(error);\n      }\n      if (!error) { // Default message\n        error = 'Undefined error'; // TODO: To get error text from languages\n      }\n      // TODO: To process html text?\n      // `strings.html2string`?\n      error = strings.splitMultiline(error);\n    }\n    return error;\n  }\n\n  render() {\n    const errors = this.props.error || this.props.message || this.props.children;\n    if (errors) {\n      console.error('ErrorContainer: error', errors); // eslint-disable-line no-console\n      // debugger; // eslint-disable-line no-debugger\n    }\n    const error = this.getErrorContent(errors);\n    const className = cnErrorContainer(null, [this.props.className]); // null, ['col-12 bg-danger p-2 mt-2 text-light']);\n    return (\n      <div className={className}>\n        {error}\n      </div>\n    );\n  }\n}\n\nexport default ErrorContainer;\n","/** @module InlineIcon\n *  @class InlineIcon\n *  @since 2020.10.07, 02:08\n *  @changed 2021.01.25, 03:35\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport * as solidIcons from '@fortawesome/free-solid-svg-icons';\nimport * as regularIcons from '@fortawesome/free-regular-svg-icons';\nimport * as brandsIcons from '@fortawesome/free-brands-svg-icons';\n\nconst iconGroups = {\n  solid: solidIcons,\n  regular: regularIcons,\n  brands: brandsIcons,\n};\n\nimport './InlineIcon.pcss';\n\nconst cnInlineIcon = cn('InlineIcon');\n\nclass InlineIcon extends React.PureComponent /** @lends @InlineIcon.prototype */ {\n\n  static propTypes = {\n    id: PropTypes.string,\n    theme: PropTypes.string,\n    tag: PropTypes.string,\n    title: PropTypes.string,\n    icon: PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]),\n    onClick: PropTypes.func,\n  }\n\n  getClassName() {\n    const {\n      id,\n      theme,\n    } = this.props;\n    const className = cnInlineIcon({\n      id,\n      theme,\n    }, [this.props.className]);\n    return className;\n  }\n\n  getIconComponent(id) {\n    let iconId = id;\n    let icons = solidIcons;\n    const matchGroup = iconId.match(/^(\\w+):(.*)/);\n    if (matchGroup) {\n      const [, groupId, nextId] = matchGroup;\n      if (groupId && iconGroups[groupId] && nextId) {\n        icons = iconGroups[groupId];\n        iconId = nextId;\n      }\n    }\n    const component = icons && icons[iconId] || icons['faQuestionCircle'];\n    return component;\n  }\n\n  render() {\n\n    const {\n      id,\n      tag,\n      title,\n      icon,\n      onClick,\n      // key,\n    } = this.props;\n\n    const iconType = typeof icon;\n    // if (iconType !== 'string') {\n    //   debugger\n    // }\n\n    // Create fortawesome icon element if passed icon image (svg icon)\n    const iconComponent = (icon && iconType === 'string') ? this.getIconComponent(icon) : icon;\n    const content = (iconComponent && iconComponent.iconName) ? <FontAwesomeIcon className={cnInlineIcon('IconImg')} icon={iconComponent} /> : iconComponent;\n\n    const renderProps = {\n      id,\n      className: this.getClassName(),\n      title,\n      onClick,\n      // key,\n    };\n\n    const tagName = tag || 'span';\n    const element = React.createElement(tagName, renderProps, content);\n    return element;\n  }\n\n}\n\nexport default InlineIcon;\n","/** @module Loader\n *  @since 2020.10.27, 00:39\n *  @changed 2021.04.22, 00:24\n *\n *  TODO: Place block (and local?) loaders into `ModalsController`?\n */\n\nimport React from 'react';\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\nimport { getCommonLangText } from 'utils/lang';\nimport { // Form items...\n  FormButton,\n  FormGroup,\n  // utils as WebUiCoreUtils, // Moved to root index\n} from 'forms';\n\nconst cnLoader = cn('Loader');\n\nimport './Loader.pcss';\nimport './Loader-animation.pcss';\nimport './Loader-modes.pcss';\nimport './Loader-themes.pcss';\n\n// eslint-disable-next-line react/prefer-stateless-function\n// export default class Loader extends React.PureComponent [>* @lends @Modal.prototype <] {\n\n/** Loader component (FC)\n * @param {Boolean} [show]\n * @param {String} [theme] - Component theme (Light, none)\n * @param {Object} commonLang - Mapped language component\n */\nconst Loader = (props) => {\n  const {\n    id,\n    lang,\n    className/*  = 'preloader' */,\n    mode,\n    show,\n    theme,\n    // commonLang,\n    text,\n    onCancel,\n    cancelText,\n  } = props;\n  const actions = (typeof onCancel === 'function') && (\n    <div className={cnLoader('Actions')}>\n      <FormGroup flow alignItems=\"center\">\n        <FormButton\n          plain\n          onDark={theme && theme.includes('Dark')}\n          text={cancelText || getCommonLangText('cancelButton', 'Cancel', lang)}\n          icon=\"faTimes\"\n          onClick={onCancel}\n        />\n      </FormGroup>\n    </div>\n  );\n  const thisClassName = cnLoader({ mode, theme, show }, [ className, /* showClass */ ]);\n  const showText = (text != null) ? text : getCommonLangText('loading', 'Loading...', lang);\n  return (\n    <div id={id} className={thisClassName}>\n      <div className={cnLoader('Container')}>\n        <div className={cnLoader('Spinner')} />\n        <div className={cnLoader('Text')}>{showText}</div>\n        {actions}\n      </div>\n    </div>\n  );\n};\nexport default Loader;\n","/** @module MenuItemSeparator\n *  @class MenuItemSeparator\n *  @since 2021.02.20, 14:33\n *  @changed 2021.02.20, 14:33\n */\n\nimport React from 'react';\nimport { cn } from 'utils/configure';\n\nimport './MenuItemSeparator.pcss';\n\nconst cnMenuItemSeparator = cn('MenuItemSeparator');\n\nconst MenuItemSeparator = (props) => {\n  return (\n    <div className={cnMenuItemSeparator(null, [props.className])} />\n  );\n};\n\nexport default MenuItemSeparator;\n","/** @module MenuItem\n *  @class MenuItem\n *  @since 2020.10.27, 03:05\n *  @changed 2021.04.20, 12:30\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\n// import connect from 'react-redux/es/connect/connect';\nimport { cn } from 'utils/configure';\nimport config from 'config';\nimport { withActionsContext } from 'helpers/ActionsContext';\n\nimport InlineIcon from 'elements/InlineIcon';\n\nimport FormItemHOC from 'forms/FormItemHOC';\n\nimport './MenuItem.pcss';\n\nconst cnMenuItem = cn('MenuItem');\n\nclass MenuItem extends React.PureComponent /** @lends @MenuItem.prototype */ {\n\n  static propTypes = {\n    // setNodeRef: PropTypes.func, // ??? use ref in parent component\n    checkable: PropTypes.bool,\n    checked: PropTypes.bool,\n    checkedTheme: PropTypes.string,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    hasIcon: PropTypes.bool,\n    htmlId: PropTypes.string, // ???\n    icon: PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]),\n    id: PropTypes.string,\n    onClick: PropTypes.func,\n    setDomRef: PropTypes.func, // From FormItemHOC\n    text: PropTypes.string,\n    theme: PropTypes.string,\n    val: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]),\n    wrap: PropTypes.bool,\n  }\n\n  // Lifecycle...\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.mounted = true;\n    // if (props.setNodeRef) {\n    //   props.setNodeRef(this);\n    // }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  // Event handlers...\n\n  onClick = (/* event */) => {\n    const {\n      id,\n      val,\n      onClick,\n      actionsContextNode, // ActionsContext Provider\n      disabled,\n      data,\n    } = this.props;\n    if (!disabled) {\n      // console.log('MenuItem:onClick', {\n      //   id,\n      //   val,\n      //   onClick,\n      //   actionsContextNode, // ActionsContext Provider\n      //   disabled,\n      // });\n      // debugger;\n      const hasOnClick = onClick && typeof onClick === 'function';\n      const actionProps = {\n        // ...event,\n        id: id || val,\n        val,\n        component: this,\n        data,\n      };\n      const result = hasOnClick ? onClick(actionProps) : undefined; // true;\n      if (result !== false && actionsContextNode && typeof actionsContextNode.onAction === 'function') {\n        Promise.resolve(result).then((result) => {\n          if (result !== false) { // Check for non-false value\n            actionsContextNode.onAction({ ...actionProps, result });\n          }\n        });\n      }\n      this.setState({ active: true });\n      setTimeout(() => {\n        if (this.mounted) {\n          this.setState({ active: false });\n        }\n      }, config.css.transitionTime);\n    }\n  }\n\n  // Helper methods...\n\n  getClassName() {\n    const {\n      id,\n      checkable,\n      hasIcon,\n      icon,\n      checked,\n      disabled,\n      theme,\n      checkedTheme,\n      wrap,\n    } = this.props;\n    const className = cnMenuItem({\n      id,\n      checkable,\n      hasIcon: !!(hasIcon || icon || checkable),\n      // hasIcon,\n      checked,\n      disabled,\n      theme: (checked && checkedTheme) ? checkedTheme : theme,\n      wrap,\n    }, [this.props.className]);\n    return className;\n  }\n\n  // Render...\n\n  renderIconContent() {\n    const {\n      hasIcon,\n      checkable,\n      checked,\n      icon,\n    } = this.props;\n    if (((hasIcon || !checkable) && icon) || (checkable && checked)) {\n      const iconContent = icon || 'faCheck';\n      return iconContent && <InlineIcon icon={iconContent} className={cnMenuItem('Icon')} />;\n    }\n  }\n\n  renderTextContent() {\n    const {\n      children,\n      text,\n    } = this.props;\n    return (\n      <div className={cnMenuItem('Text')}>\n        {children || text}\n      </div>\n    );\n  }\n\n  render() {\n\n    const {\n      id,\n      htmlId,\n      setDomRef, // From FormItemHOC\n    } = this.props;\n\n    const renderProps = {\n      // id,\n      id: htmlId || id,\n      className: this.getClassName(),\n      onClick: this.onClick,\n      ref: setDomRef, // Init ref for FormItemHOC\n    };\n\n    const iconContent = this.renderIconContent();\n    const textContent = this.renderTextContent();\n\n    // console.log('MenuItem:render', val)\n\n    return (\n      <div {...renderProps}>\n        {iconContent}\n        {textContent}\n      </div>\n    );\n  }\n\n}\n\nexport default compose(\n  withActionsContext,\n  FormItemHOC({ solid: true, hoverable: true, focusable: true }),\n)(MenuItem);\n","/** @module Menu\n *  @class Menu\n *  @since 2020.10.27, 02:58\n *  @changed 2021.02.15, 18:28\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\n// import connect from 'react-redux/es/connect/connect';\nimport { cn } from 'utils/configure';\nimport { // ActionsContext...\n  ActionsContextProvider,\n  withActionsContext,\n} from 'helpers/ActionsContext';\n\nimport MenuItem from '../MenuItem';\nimport MenuItemSeparator from '../MenuItemSeparator';\n\nimport './Menu.pcss';\n\nconst cnMenu = cn('Menu');\n\n// Unique id counter\nlet uniqIdCount = 1;\n\nclass Menu extends React.PureComponent /** @lends @Menu.prototype */ {\n\n  static propTypes = {\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    id: PropTypes.string,\n    checkedItemTheme: PropTypes.string,\n    itemTheme: PropTypes.string,\n    layout: PropTypes.string,\n    mode: PropTypes.string, // ???\n    onChange: PropTypes.func,\n    onClick: PropTypes.func,\n    selectable: PropTypes.bool,\n    selected: PropTypes.arrayOf(PropTypes.oneOfType([ PropTypes.string, PropTypes.number ])),\n    setDomRef: PropTypes.func,\n    singleChoice: PropTypes.oneOfType([ PropTypes.string, PropTypes.bool ]), // false, true, 'forced'\n    value: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]), // ???\n    wrapContent: PropTypes.bool,\n  }\n\n  // Helper fuctions...\n\n  getClassName() {\n    // const id = this.getId()\n    const {\n      id,\n      disabled,\n      mode,\n      layout,\n    } = this.props;\n    const className = cnMenu({\n      id,\n      disabled,\n      mode,\n      layout,\n    }, [this.props.className]);\n    return className;\n  }\n\n  createItemElement(item, n) {\n    if (item && item.id === 'separator') {\n      return <MenuItemSeparator key={'separator' + n} />;\n    }\n    const {\n      singleChoice,\n      value,\n      selected,\n      itemTheme,\n      checkedItemTheme,\n      wrapContent,\n    } = this.props;\n    const propsSelected = (singleChoice && value != null) ? [value] : selected;\n    const isArray = !!item && Array.isArray(item);\n    const isObject = !!item && typeof item ==='object' && !isArray; // Array.isArray(item)\n    const isElement = isObject && React.isValidElement(item);\n    const isMenuItem = isElement && item.type === MenuItem;\n    const isRawObject = isObject && !isElement;\n    if (isRawObject || isMenuItem) {\n      const itemProps = isRawObject ? item : item.props;\n      // Construct unique key values...\n      const val = itemProps.val;\n      const checked = Array.isArray(propsSelected) ? propsSelected.includes(val) : itemProps.checked;\n      const checkable = itemProps.checkable != null ? itemProps.checkable : this.props.selectable;\n      const newProps = {\n        theme: itemTheme,\n        checkedTheme: checkedItemTheme,\n        wrap: wrapContent,\n        text: /* itemProps.text || */ itemProps.id || itemProps.val, // Default value for text (overriding with itemProps.text value if specified)\n        ...itemProps,\n        onClick: itemProps.onClick || this.onMenuItemClick,\n        checkable,\n        checked,\n      };\n      if (isRawObject) { // Raw object -> create MenuItem\n        const key = item && item.key || this.getId() + '_Item_' + (itemProps.val || itemProps.id);\n        item = (<MenuItem {...newProps} key={key} />);\n      }\n      else if (isMenuItem) { // MenuItem -> Add onClick handler if handler is not defined\n        item = { ...item, props: newProps };\n      }\n    }\n    // TODO: Process arrays (subitems/groups)?\n    // console.log('Menu:setChildrenItemsFromProps:item', {\n    //   item,\n    //   isElement,\n    //   isArray,\n    //   isObject,\n    //   isMenuItem,\n    // });\n    return item;\n  }\n\n  setChildrenItemsFromProps() {\n    // console.log('Menu:setChildrenItemsFromProps', {\n    //   children,\n    // })\n    let children = this.props.children;\n    let selectedList;\n    if (Array.isArray(children)) {\n      children = children.map(this.createItemElement, this);\n      selectedList = children\n        .filter(({ props }) => {\n          return props.checked;\n        })\n        .map(({ props }) => {\n          return props.val;\n        })\n      ;\n    }\n    // else {} // If rendered react element?\n    this.setState({\n      items: children,\n      selectedList,\n    });\n    // return children\n  }\n\n  updateChildrenItems(checkedValStates) {\n    const { id, singleChoice, onChange } = this.props;\n    let { items } = this.state;\n    const selectedList = [];\n    if (Array.isArray(items)) {\n      items = items.map((item) => {\n        const isObject = !!item && typeof item ==='object';\n        const isElement = isObject && React.isValidElement(item);\n        const isMenuItem = isElement && item.type === MenuItem;\n        if (isMenuItem) {\n          const itemProps = item.props;\n          const { val, checked } = itemProps;\n          let checkedVal = checkedValStates[val];\n          if (checkedVal == null) { // Check out all other items if single mode\n            checkedVal = singleChoice ? false : checked;\n          }\n          if (checkedVal !== checked) {\n            // const theme = (checkedVal && checkedTheme) ? checkedTheme : itemTheme || itemProps.theme;\n            item = { ...item, props: { ...itemProps, checked: checkedVal /* , theme */ } };\n            // TODO: Use `React.cloneElement`?\n          }\n          if (checkedVal) { // && (!singleChoice || !selectedList.length)) {\n            selectedList.push(val);\n          }\n        }\n        return item;\n      });\n    }\n    this.setState({\n      items,\n      selectedList,\n    });\n    if (typeof onChange === 'function') {\n      const params = { id, selected: selectedList };\n      if (singleChoice && selectedList && selectedList.length) { // Add `val` param if singleChoice mode (and has selected)\n        params.value = selectedList[0];\n      }\n      onChange(params);\n    }\n  }\n\n  createUniqId() {\n    return 'Menu' + (uniqIdCount++);\n  }\n\n  getId(props) {\n    props = props || this.props;\n    return props.id || this.id || (this.id = this.createUniqId());\n  }\n\n  // Lifecycle...\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.setChildrenItemsFromProps();\n  }\n\n  componentDidUpdate(prevProps) {\n    const prevChildren = prevProps.children;\n    const children = this.props.children;\n    if (prevChildren !== children) {\n      // TODO: To update items states?\n      this.setChildrenItemsFromProps();\n    }\n  }\n\n  // Handlers...\n\n  onAction = (actionProps) => { // Event handler for ActionContext consumed children\n    const {\n      id,\n      actionsContextNode, // Using with `withActionsContext` only!\n      onAction,\n    } = this.props;\n    const passProps = { ...actionProps, menuId: id };\n    // console.log('Menu:onAction', id, actionProps, passProps);\n    // debugger;\n    if (typeof onAction === 'function') {\n      onAction(passProps);\n    }\n    // Using chained ActionsContext?\n    if (actionsContextNode && typeof actionsContextNode.onAction === 'function') {\n      actionsContextNode.onAction(passProps);\n    }\n  }\n\n  onMenuItemClick = ({ /* id, component, */ val }) => {\n    const { onClick, singleChoice, disabled } = this.props;\n    if (!disabled) {\n      const { selectedList } = this.state;\n      const setSelected = !selectedList.includes(val);\n      if (singleChoice === 'forced' && !setSelected) { // Don not made changes if single mode and clicked item was selected\n        return;\n      }\n      if (typeof onClick === 'function') { // Invoke onClick handler\n        onClick({ value: val });\n      }\n      this.updateChildrenItems({ [val]: setSelected }); // Apply items changes\n    }\n  }\n\n  // Render...\n\n  renderContent() {\n    const { items } = this.state;\n    return items;\n  }\n\n  render() {\n\n    const {\n      id,\n      setDomRef, // From FormItemHOC\n    } = this.props;\n\n    const renderProps = {\n      id,\n      className: this.getClassName(),\n      ref: setDomRef, // Init ref for FormItemHOC\n    };\n\n    const content = this.renderContent();\n\n    return (\n      <div {...renderProps}>\n        <ActionsContextProvider value={this}>\n          {content}\n        </ActionsContextProvider>\n      </div>\n    );\n  }\n\n}\n\nexport default compose(\n  withActionsContext,\n)(Menu);\n// export default Menu;\n","/** @module ModalPopup\n *  @class ModalPopup\n *  @since 2020.10.27, 00:39\n *  @changed 2020.12.18, 02:34\n *\n *  TODO 2020.12.18, 01:50 -- ModalPopup: Reset both `storedContentSize` if content changed (use registrable handler)?\n *  TODO 2020.12.18, 02:15 -- ModalPopup: Use static `ModalPopupStack` component and close same-level (from stack end to first `Modal` or stack begin) popups\n *  TODO 2020.12.19, 03:35 -- ModalPopup: Use nearest scrollable container ancestor as popup base? Or clip to it bounds? Or hide popup if countrol is (partially) out of this bounds?\n *\n *  External methods (for ModalPopupStack):\n *  - close\n *  - open\n *  - updateGeometry\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\nimport { strings } from 'utils';\nimport { debounce } from 'throttle-debounce';\nimport FormItemHOC from 'forms/FormItemHOC';\nimport ModalPortal, { passModalPortalProps } from 'elements/ModalPortal';\nimport config from 'config';\n\nimport './ModalPopup.pcss';\n\nconst cnModalPopup = cn('ModalPopup');\nconst cnModalPopupControl = cn('ModalPopupControl');\n\nconst doDebug = /*DEBUG*/ true && config.build.DEV_DEBUG || // DEBUG!\n  false;\n\n// Debounce delay\nconst debouncedUpdateGeometryTimeout = /*DEBUG*/ doDebug ? 500 :\n  15;\n\n// Update by timer (0 - disabled), must be above than debounce delay (`debouncedUpdateGeometryTimeout`, above)\nconst updateGeometryTimerDelay = /*DEBUG*/ doDebug ? 0 :\n  50; // 0\n\nconst domNodeGeometryKeys = [\n  /* // controlBouningBox sample:\n   * bottom: 642.8125\n   * height: 32\n   * left: 223.921875\n   * right: 551.515625\n   * top: 610.8125\n   * width: 327.59375\n   * x: 223.921875\n   * y: 610.8125\n   */\n  'left',\n  'top',\n  'width',\n  'height',\n  /* // Old values (for `node.style` keys)\n   * 'offsetLeft',\n   * 'offsetTop',\n   * 'offsetWidth',\n   * 'offsetHeight',\n   */\n];\nconst verticalGeometryKeys = [\n  'contentHeight',\n  'contentTop',\n  'controlHeight',\n  'controlTop',\n  'globalHeight',\n  'globalTop',\n  // 'scrollY',\n  // 'viewHeight',\n];\nconst horizontalGeometryKeys = [\n  'contentWidth',\n  'contentLeft',\n  'controlWidth',\n  'controlLeft',\n  'gloablWidth',\n  'gloablLeft',\n  // 'scrollX',\n  // 'viewWidth',\n];\n\n/* // UNUSED: globalGeometryKeys\n * const globalGeometryKeys = { // See `getGlobalGeometry`\n *   viewWidth: { obj: window, key: 'innerWidth' },\n *   viewHeight: { obj: window, key: 'innerHeight' },\n *   scrollX: { obj: window, key: 'pageXOffset' },\n *   scrollY: { obj: window, key: 'pageYOffset' },\n * }\n */\n\nconst axisKeys = { // Used in `updateOneAxisContentPos`\n  // Regexp to convert vertical axis keys to horizontal:\n  // '<,'>S/top/left/g | '<,'>S/bottom/right/g | '<,'>S/height/width/g | '<,'>S/vertical/horizontal/g\n  vertical: {\n    // viewSize: 'viewHeight',\n    viewSize: 'globalHeight',\n    viewPos: 'globalTop',\n    controlPos: 'controlTop',\n    controlSize: 'controlHeight',\n    contentPos: 'contentTop',\n    contentSize: 'contentHeight',\n    contentStylePos: 'top',\n    contentStyleSize: 'height',\n    contentStyleMaxSize: 'maxHeight',\n    // contentStyleMaxSize: 'max-height',\n    storedContentSize: 'storedContentHeight', // Stored in dom node\n  },\n  horizontal: {\n    // viewSize: 'viewWidth',\n    viewSize: 'globalWidth',\n    viewPos: 'globalLeft',\n    controlPos: 'controlLeft',\n    controlSize: 'controlWidth',\n    contentPos: 'contentLeft',\n    contentSize: 'contentWidth',\n    contentStylePos: 'left',\n    contentStyleSize: 'width',\n    contentStyleMaxSize: 'maxWidth',\n    // contentStyleMaxSize: 'max-width',\n    storedContentSize: 'storedContentWidth', // Stored in dom node\n  },\n};\n\n// const globalClickEventName = 'mousedown'\n// const globalKeyPressEventName = 'keydown'\nconst globalScrollEventName = 'scroll';\nconst globalResizeEventName = 'resize';\n\n/* // DEBUG: Demo for prevent closing underlaying popups. (Can be used for modal windows. See crrsp styles & html layout.)\n * const debugHide = document.getElementById('DebugHide')\n * setTimeout(() => {\n *   if (debugHide) {\n *     debugHide.style.display = 'block'\n *   }\n * }, 3000)\n * const debugHideListener = (ev) => {\n *   // ev.stopImmediatePropagation()\n *   ev.stopPropagation()\n * }\n * debugHide && debugHide.addEventListener('click', debugHideListener)\n */\n\nclass ModalPopup extends React.PureComponent /** @lends @ModalPopup.prototype */ {\n\n  static propTypes = {\n    // onEscPressed: PropTypes.func,\n    // onKeyPress: PropTypes.func,\n    // registerCallback: PropTypes.func, // registerCallback(handler = this.someMethod) -- handler stored by parent component and called when detected click on pulldown menu -- prevents popup content closing\n    className: PropTypes.string,\n    closeOnClickOutside: PropTypes.bool, // For ModalPortal\n    closeOnEscPressed: PropTypes.bool, // For ModalPortal\n    id: PropTypes.string,\n    onControlClick: PropTypes.func,\n    open: PropTypes.bool,\n    popupContent: PropTypes.oneOfType([ PropTypes.func, PropTypes.object ]).isRequired,\n    popupControl: PropTypes.oneOfType([ PropTypes.func, PropTypes.object ]).isRequired,\n    setModalPopupNodeRef: PropTypes.func,\n    noWrapper: PropTypes.bool, // For ModalPortal\n    noCloseOnControlClick: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    // onEscPressed: null,\n    // onKeyPress: null,\n    // popupContent: null,\n    // popupControl: null,\n    // registerCallback: null,\n    closeOnClickOutside: true, // For ModalPortal\n    closeOnEscPressed: true, // For ModalPortal\n    noWrapper: true,\n    open: false,\n  }\n\n  // Properties...\n\n  delayedClickTimerHandler = null;\n  globalHandlersRegistered = false;\n  controlNode = null;\n  controlDomNode = null;\n  contentDomNode = null;\n  geometry = {};\n\n  // From ModalPortal:\n  windowDomNode = null;\n  wrapperDomNode = null;\n  ModalPortal = null;\n\n  // Lifecycle...\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: null, // null -- uninitialized\n    };\n    this.updateGeometry = debounce(debouncedUpdateGeometryTimeout, this.updateGeometryInstant);\n  }\n\n  componentWillUnmount() {\n    this.unregisterGlobalHandlers();\n  }\n\n  // Helpers...\n\n  getDomNodeGeometry(domNode, id) {\n    id = id || 'default';\n    const rect = domNode && domNode.getBoundingClientRect();\n    /* // controlBouningBox sample:\n     * bottom: 642.8125\n     * height: 32\n     * left: 223.921875\n     * right: 551.515625\n     * top: 610.8125\n     * width: 327.59375\n     * x: 223.921875\n     * y: 610.8125\n     */\n    const geometry = rect && domNodeGeometryKeys.reduce((geometry, key) => {\n      // const val = domNode && domNode[key]\n      const val = rect && rect[key];\n      if (val != null) {\n        const resultKey = id + strings.ucFirst(key);\n        geometry[resultKey] = val;\n      }\n      return geometry;\n    }, {});\n    // if (this.props.id === 'withMenu' && id === 'control') {\n    //   console.log(domNode, rect, domNodeGeometryKeys, geometry)\n    //   debugger\n    // }\n    return geometry || {};\n  }\n\n  getGlobalGeometry() {\n    const domNode = config.modals.controller.getDomNode(); // containerNode\n    const globalGeometry = this.getDomNodeGeometry(domNode, 'global');\n    return globalGeometry;\n    // TODO!\n    // const rect = domNode && domNode.getBoundingClientRect && domNode.getBoundingClientRect()\n    /* // UNUSED: globalGeometryKeys\n     * const geometry = Object.entries(globalGeometryKeys).reduce((geometry, [id, descr]) => {\n     *   const obj = descr.obj\n     *   const key = descr.key || id\n     *   const val = obj[key]\n     *   return { ...geometry, [id]: val }\n     * }, {})\n     */\n    /*\n     * rect:\n     *\n     * - bottom: 467\n     * - height: 367\n     * - left: 0\n     * - right: 434\n     * - top: 100\n     * - width: 434\n     * - x: 0\n     * - y: 100\n     *\n     * geometry:\n     *\n     * - scrollX: 0\n     * - scrollY: 0\n     * - viewHeight: 667\n     * - viewWidth: 434\n     *\n     * globalGeometry:\n     *\n     * - globalHeight: 367\n     * - globalLeft: 0\n     * - globalTop: 100\n     * - globalWidth: 434\n     *\n     */\n    // console.log('ModalPopup:getGlobalGeometry', { domNode, rect, geometry, globalGeometry })\n  }\n\n  getUpdatedGeometryKeys(geometry) {\n    const origGeometry = this.geometry;\n    const updatedKeys = [];\n    Object.entries(geometry).forEach(([key, val]) => {\n      if (val !== origGeometry[key]) {\n        updatedKeys.push(key);\n      }\n    });\n    return updatedKeys;\n  }\n\n  updateContentWidth(geometry, updatedGeometryKeys) { // eslint-disable-line no-unused-vars\n    // if (updatedGeometryKeys.includes('controlWidth') || updatedGeometryKeys.includes('contentWidth')) {\n    const width = geometry.controlWidth;\n    const domNode = this.windowDomNode; // contentDomNode\n    if (!domNode) { // Error?\n      const error = new Error('ModalPopup:updateContentWidth: target dom node is undefined');\n      console.error(error); // eslint-disable-line no-console\n      debugger; // eslint-disable-line no-debugger\n      // throw error\n      return;\n    }\n    const setWidth = width + 'px';\n    /* // DEBUG\n     * console.log('ModalPopup:updateContentWidth', {\n     *   width,\n     *   'geometry.contentWidth': geometry.contentWidth,\n     *   // geometry,\n     *   updatedGeometryKeys,\n     * })\n     * debugger\n     */\n    if (domNode && domNode.style.width !== setWidth) {\n      geometry.contentWidth = width;\n      domNode.storedContentWidth = null; // Reset stored width\n      domNode.style.width = setWidth;\n    }\n    // }\n  }\n\n  /** updateOneAxisContentPos -- Calculate content position/size for one axis (horizontal, vertical)\n   * @param {String('horizontal'|'vertical')} axis\n   * @param {Object} geometry\n   * @param {String[]} updatedGeometryKeys\n   */\n  updateOneAxisContentPos(axis, geometry, updatedGeometryKeys) { // eslint-disable-line no-unused-vars\n    const domNode = this.windowDomNode; // contentDomNode\n    if (!domNode) { // Error?\n      const error = new Error('ModalPopup:updateOneAxisContentPos: target dom node is undefined');\n      console.error(error); // eslint-disable-line no-console\n      debugger; // eslint-disable-line no-debugger\n      // throw error\n      return;\n    }\n    const {\n      popupVerticalOffset,\n      popupWindowOffset,\n    } = config.css;\n    // const doubleContentModalPopupGap = popupVerticalOffset * 2 // UNUSED\n    const keys = axisKeys[axis];\n    const isVertical = (axis === 'vertical');\n\n    // Get coordinates...\n    const viewSize = geometry[keys.viewSize]; // globalHeight\n    const viewPos = geometry[keys.viewPos]; // globalTop\n    const controlPos = geometry[keys.controlPos]; // controlTop\n    const controlSize = geometry[keys.controlSize]; // controlHeight\n    const contentPos = geometry[keys.contentPos]; // contentTop\n    const contentSize = geometry[keys.contentSize]; // contentClientHeight\n\n    const storedContentSize = domNode[keys.storedContentSize];\n    const contentMaxSize = storedContentSize || contentSize;\n    if (!storedContentSize || contentSize > storedContentSize) { // Save (maximum) height\n      domNode[keys.storedContentSize] = contentSize;\n    }\n\n    // const viewStart = popupVerticalOffset\n    const viewStart = /* viewPos + */ popupWindowOffset; // popupVerticalOffset;\n    const viewEnd = viewStart + viewSize - popupWindowOffset * 2; // - popupVerticalOffset;\n\n    // Calculate control coordinates...\n    const controlScreenPos = controlPos;\n    const controlScreenEnd = controlScreenPos + controlSize;\n    const posNormal = isVertical ? controlScreenEnd + popupVerticalOffset : controlScreenPos;\n    const posReverted = isVertical ? controlScreenPos - popupVerticalOffset : controlScreenEnd;\n    const spaceAfter = viewEnd - posNormal;\n    const spaceBefore = posReverted - viewStart;\n\n    // Is it better to show content above control?\n    // TODO: Alternative calculations for horizontal axis\n    // const spaceBefore = isVertical ? controlScreenPos : controlScreenEnd\n    // // const spaceEnd = isVertical ? controlScreenAfter : controlScreenPos\n    // const spaceAfter = isVertical ? controlScreenAfter : controlScreenPos\n    const isntFitBefore = (contentMaxSize > spaceBefore);\n    const isntFitAfter = (contentMaxSize > spaceAfter);\n    const isMoreSpaceBefore = spaceBefore > spaceAfter;\n    const placeBefore = isMoreSpaceBefore && isntFitAfter;\n    const isntFit = placeBefore ? isntFitBefore : isntFitAfter;\n    const fitSize = (placeBefore ? spaceBefore : spaceAfter); // - doubleContentModalPopupGap\n\n    // Calculate `contentPos`...\n    let contentPosValue;\n    if (placeBefore) { // Down-up position: from control top -> up\n      const fitContentSize = isntFit ? fitSize : contentMaxSize;\n      contentPosValue = (posReverted - fitContentSize);\n      // contentPosValue = (controlScreenPos - fitContentSize - popupVerticalOffset)\n    }\n    else { // Normal position: from control bottom -> down\n      contentPosValue = posNormal;\n      // contentPosValue = (controlScreenEnd + popupVerticalOffset)\n    }\n    contentPosValue -= viewPos; // Relative to global view\n    const cssContentPos = contentPosValue + 'px';\n    const isContentPosChanged = (contentPosValue !== contentPos); // Is position changed?\n\n    // Calculate `contentStyleMaxSize`...\n    const cssContentStyleMaxSize = isntFit ? fitSize + 'px' : ''; // New value: pixels or auto (empty)\n    const origContentStyleMaxSize = domNode.style[keys.contentStyleMaxSize]; // Old value\n    const isContentStyleMaxSizeChanged = (cssContentStyleMaxSize !== origContentStyleMaxSize); // Is maxsize changed?\n    if (isContentPosChanged || isContentStyleMaxSizeChanged) { // Pos or size changed\n      domNode.style[keys.contentStylePos] = cssContentPos; // Update dom node css style\n      geometry[keys.contentPos] = contentPosValue; // Update geometry object\n      domNode.style[keys.contentStyleMaxSize] = cssContentStyleMaxSize; // Update dom node css style\n    }\n\n    // // DEBUG (use doDebug?)...\n    // console.log('ModalPopup:updateOneAxisContentPos', {\n    //   // Parameters...\n    //   axis,\n    //   placeBefore,\n    //   isntFit,\n    //   // Coordinates...\n    //   fitSize,\n    //   contentPos,\n    //   cssContentPos,\n    //   cssContentStyleMaxSize,\n    //   // controlScreenPos,\n    //   // controlScreenEnd,\n    //   // controlScreenAfter,\n    //   // General...\n    //   updatedGeometryKeys,\n    //   geometry: geometry,\n    //   'this.geometry': this.geometry,\n    //   'changed geometry': Object.entries(geometry).reduce((result, [key, val]) => {\n    //     return updatedGeometryKeys.includes(key) ? { ...result, [key]: val } : result;\n    //   }, {}),\n    //   'changed this.geometry': Object.entries(this.geometry).reduce((result, [key, val]) => {\n    //     return updatedGeometryKeys.includes(key) ? { ...result, [key]: val } : result;\n    //   }, {}),\n    // });\n  }\n\n  updateGeometryInstant = () => { // UNUSED? TODO? Update geometry\n    const { open } = this.state;\n    if (!open) { // Do nothing if popup is closed\n      // console.log('ModalPopup:updateGeometryInstant: SKIPED (closed)')\n      return;\n    }\n    const { /* id, */ fullWidth } = this.props;\n    // TODO: Call `updateGeometryInstant` on content update? How? Use timer?\n    const controlGeometry = this.getDomNodeGeometry(this.controlDomNode, 'control');\n    const contentGeometry = this.getDomNodeGeometry(this.windowDomNode, 'content');\n    // const contentGeometry = this.getDomNodeGeometry(this.contentDomNode, 'content')\n    // const windowGeometry = this.getDomNodeGeometry(this.windowDomNode, 'window')\n    const globalGeometry = this.getGlobalGeometry();\n    const geometry = {\n      ...globalGeometry,\n      ...controlGeometry,\n      ...contentGeometry,\n      // ...windowGeometry,\n    };\n    /* Sample geometry keys:\n     * contentHeight\n     * contentLeft\n     * contentTop\n     * contentWidth\n     * controlHeight\n     * controlLeft\n     * controlTop\n     * controlWidth\n     * scrollX\n     * scrollY\n     * viewHeight\n     * viewWidth\n     */\n    const updatedGeometryKeys = this.getUpdatedGeometryKeys(geometry);\n    const changedHorizontalKeys = horizontalGeometryKeys.some(key => updatedGeometryKeys.includes(key));\n    const changedVerticalKeys = verticalGeometryKeys.some(key => updatedGeometryKeys.includes(key));\n    /* // DEBUG (use doDebug?)...\n     * console.log('ModalPopup:updateGeometryInstant', {\n     *   globalGeometry,\n     *   controlGeometry,\n     *   contentGeometry,\n     *   updatedGeometryKeys,\n     *   changedHorizontalKeys,\n     *   changedVerticalKeys,\n     *   // geometry,\n     *   // 'this.geometry': this.geometry,\n     *   'changed geometry': Object.entries(geometry).reduce((result, [key, val]) => {\n     *     return updatedGeometryKeys.includes(key) ? { ...result, [key]: val } : result\n     *   }, {}),\n     *   'changed this.geometry': Object.entries(this.geometry).reduce((result, [key, val]) => {\n     *     return updatedGeometryKeys.includes(key) ? { ...result, [key]: val } : result\n     *   }, {}),\n     * })\n     */\n    if (!updatedGeometryKeys.length) { // Do nothing if no changes detected\n      return;\n    }\n    if (changedVerticalKeys) {\n      this.updateOneAxisContentPos('vertical', geometry, updatedGeometryKeys); // Update vertical position & size...\n    }\n    if (changedHorizontalKeys) {\n      if (fullWidth) { // TODO?\n        this.updateContentWidth(geometry, updatedGeometryKeys);\n      }\n      this.updateOneAxisContentPos('horizontal', geometry, updatedGeometryKeys); // Update horizontal position & size...\n    }\n    this.geometry = geometry;\n  }\n\n  registerGlobalHandlers() {\n    if (!this.globalHandlersRegistered) {\n      this.globalHandlersRegistered = true;\n      document.addEventListener(globalScrollEventName, this.updateGeometry);\n      window.addEventListener(globalResizeEventName, this.updateGeometry);\n      if (!this.updateGeometryTimer && updateGeometryTimerDelay) {\n        this.updateGeometryTimer = setInterval(this.updateGeometry, updateGeometryTimerDelay);\n      }\n    }\n  }\n  unregisterGlobalHandlers() {\n    if (this.globalHandlersRegistered) {\n      this.globalHandlersRegistered = false;\n      document.removeEventListener(globalScrollEventName, this.updateGeometry);\n      window.removeEventListener(globalResizeEventName, this.updateGeometry);\n      if (this.updateGeometryTimer) {\n        clearInterval(this.updateGeometryTimer);\n        this.updateGeometryTimer = null;\n      }\n    }\n  }\n\n  // Render helpers...\n\n  getClassName(params) {\n    const {\n      cnCtx,\n      className,\n    } = params;\n    const {\n      id,\n      fullWidth,\n    } = this.props;\n    const { open } = this.state;\n    return cnCtx && cnCtx({\n      id,\n      open,\n      fullWidth,\n    }, [/* this.props. */className]);\n  }\n\n  // External methods...\n\n  // Provide ModalPortal public methods...\n\n  open = () => this.ModalPortal && this.ModalPortal.open()\n  close = () => this.ModalPortal && this.ModalPortal.close()\n  toggle = (open) => this.ModalPortal && this.ModalPortal.toggle(open)\n  isVisible = () => this.ModalPortal && this.ModalPortal.isVisible()\n\n  // Handlers...\n\n  onActivate = () => {\n    // console.log('ModalPopup:onActivate');\n    setTimeout(this.updateGeometryInstant, 0);\n    this.hasControlClicked = false; // Reset state\n  }\n  onDeactivate = () => {\n    // console.log('ModalPopup:onDeactivate');\n    this.clearContentGeometry(); // Due to content is destroyed when hidden\n  }\n\n  handleOpenState = ({ open }) => {\n    // console.log('ModalPopup:handleOpenState', open);\n    this.setState({ open }, this.updateOpenOrCloseWithState); // Update own open state\n    const { id, handleOpenState } = this.props;\n    if (typeof handleOpenState === 'function') {\n      handleOpenState({ id, open });\n    }\n  }\n\n  setControlNodeRef = (node) => {\n    this.controlNode = node;\n  }\n  setControlDomRef = (domNode) => {\n    this.controlDomNode = domNode;\n  }\n  setContentDomRef = (domNode) => {\n    this.contentDomNode = domNode;\n  }\n\n  clearContentGeometry() { // UNUSED? Must be used on content update (using registrable callback; see example in constructor).\n    Object.keys(this.geometry).forEach(key => {\n      if (key.startsWith('content')) {\n        this.geometry[key] = null;\n      }\n    });\n  }\n\n  handlePortalOpen = () => {\n    // console.log('ModalPopup:handlePortalOpen');\n    // TODO: Register/unregister popup in `ModalPopupStack`\n    // this.updateGeometry()\n    this.registerGlobalHandlers();\n  }\n\n  handlePortalClose = () => {\n    // TODO: Register/unregister popup in `ModalPopupStack`\n    this.unregisterGlobalHandlers();\n    // this.clearContentGeometry() // Due to content is destroyed when hidden\n  }\n\n  updateOpenOrCloseWithState = () => {\n    if (this.state.open) {\n      this.handlePortalOpen();\n    }\n    else {\n      this.handlePortalClose();\n    }\n  }\n\n  startOutsideClickWaiting = () => {\n    this.isOutsideClickWaiting = true;\n    // console.log('ModalPopup:startOutsideClickWaiting');\n  }\n  stopOutsideClickWaiting = () => {\n    this.isOutsideClickWaiting = false;\n    this.hasControlClicked = false;\n    // console.log('ModalPopup:stopOutsideClickWaiting');\n  }\n\n  preventCloseOnOutsideClick = () => {\n    const {\n      // id,\n      noCloseOnControlClick,\n    } = this.props;\n    const {\n      hasControlClicked,\n    } = this;\n    const result = noCloseOnControlClick && hasControlClicked;\n    // console.log('ModalPopup:preventCloseOnOutsideClick', {\n    //   id,\n    //   noCloseOnControlClick,\n    //   hasControlClicked,\n    //   result,\n    // });\n    this.isOutsideClickWaiting = false;\n    return result;\n  }\n\n  onControlClick = (/* event */) => {\n    const { id, disabled } = this.props;\n    const { open } = this.state;\n    const { isOutsideClickWaiting } = this;\n    // console.log('ModalPopup:onControlClick: pre-check', { id, isOutsideClickWaiting, disabled });\n    if (!disabled) {\n      if (!isOutsideClickWaiting) { // Prevent re-opening on `closeOnClickOutside`\n        const nextOpen = !open;\n        // console.log('ModalPopup:onControlClick', { id, nextOpen, open });\n        if (nextOpen) {\n          if (this.controlNode) { // Move focus out of control element...\n            // this.controlNode.focus && this.controlNode.focus(); // Ensure focus isnt on other element (eg, selects' inner button).\n            // console.log('ModalPopup:onControlClick: blur');\n            this.controlNode.blur && this.controlNode.blur();\n          }\n          if (this.controlDomNode) { // Move focus out of control element...\n            // this.controlDomNode.focus && this.controlDomNode.focus(); // Ensure focus isnt on other element (eg, selects' inner button).\n            this.controlDomNode.blur && this.controlDomNode.blur();\n          }\n        }\n        this.setState({ open: nextOpen }, this.updateOpenOrCloseWithState); // Update own open state\n        // TODO: Notify `ModalsController` when popup opens for closing all other popups from same level (before first modal in popups stack). (Now user can open several popups at the same time.\n        const { onControlClick } = this.props;\n        if (typeof onControlClick === 'function') {\n          onControlClick({ id, open: nextOpen });\n        }\n      }\n      this.hasControlClicked = true;\n    }\n  }\n\n  // Render...\n\n  renderControl() {\n    const {\n      id,\n      popupControl,\n      className,\n    } = this.props;\n    const { open } = this.state;\n\n    const controlClassName = this.getClassName({ cnCtx: cnModalPopupControl, className });\n    const renderProps = {\n      id,\n      className: controlClassName,\n      setDomRef: this.setControlDomRef,\n      // ref: this.setControlDomRef, // For html element (div)\n    };\n\n    // TODO: Cache modified `popupControl` in state?\n    const content = React.cloneElement(popupControl, {\n      onClick: this.onControlClick,\n      checked: open,\n      // setDomRef: this.setControlDomRef,\n      // ref: this.setControlNodeRef,\n      setNodeRef: this.setControlNodeRef,\n      ...renderProps,\n    });\n\n    return content;\n  }\n\n  renderPortalContent = (portalProps) => {\n    const { ModalPortal, windowDomNode, wrapperDomNode } = portalProps;\n    if (ModalPortal) { // Save wrapping ModalPortal instance refernce\n      // console.log('ModalPopup:renderPortalContent: updated ModalPortal')\n      this.ModalPortal = ModalPortal; // Save ModalPortal handler (TODO)\n      this.windowDomNode = windowDomNode;\n      this.wrapperDomNode = wrapperDomNode;\n    }\n    const {\n      id,\n      popupContent,\n      contentClassName: className,\n    } = this.props;\n    const renderProps = {\n      id,\n      className: this.getClassName({ cnCtx: cnModalPopup, className }),\n      ref: this.setContentDomRef, // Will be used windowDomNode from ModalPortal\n    };\n    // console.log('ModalPopup:renderPortalContent', {\n    //   renderProps,\n    //   popupContent,\n    // });\n    return (\n      <div {...renderProps}>\n        {popupContent}\n      </div>\n    );\n  }\n\n  renderContent() {\n    const portalProps = passModalPortalProps.reduce((data, id) => {\n      return { ...data, [id]: this.props[id] };\n    }, {});\n    if (this.state.open != null) {\n      portalProps.open = this.state.open;\n    }\n    Object.assign(portalProps, {\n      handleOpenState: this.handleOpenState,\n      onActivate: this.onActivate,\n      onDeactivate: this.onDeactivate,\n      wrapperTheme: 'SubtleDark',\n      startOutsideClickWaiting: this.startOutsideClickWaiting,\n      stopOutsideClickWaiting: this.stopOutsideClickWaiting,\n      preventCloseOnOutsideClick: this.preventCloseOnOutsideClick,\n    });\n    return (\n      <ModalPortal {...portalProps} type=\"Popup\">\n        {this.renderPortalContent}\n      </ModalPortal>\n    );\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.renderControl()}\n        {this.renderContent()}\n      </React.Fragment>\n    );\n  }\n\n}\n\nexport default ModalPopup;\n\nexport const FormItemModalPopup = FormItemHOC(ModalPopup);\n","/** @module ModalPortal\n *  @class ModalPortal\n *  @since 2020.12.21, 22:58\n *  @changed 2021.05.07, 14:49\n *\n *  External methods (for PopupStack, ModalWindow etc):\n *\n *  - activate\n *  - close\n *  - deactivate\n *  - isVisible\n *  - open\n *  - toggle\n *  - updateGeometry\n */\n/* --eslint-disable no-console */\n\n// TODO: Use ModalContext\n\nimport React from 'react';\n// import { compose } from 'redux'\nimport PropTypes from 'prop-types';\nimport { cn } from 'utils/configure';\nimport { Portal } from 'react-portal';\nimport { // Transitions...\n  // Transition,\n  CSSTransition,\n  // TransitionGroup,\n} from 'react-transition-group';\nimport config from 'config';\nimport * as stringUtils from 'utils/strings';\n\nimport { ActionsContextProvider } from 'helpers/ActionsContext';\n// import { withModalsContext } from 'helpers/ModalsContext';\n\n// import InlineIcon from 'elements/InlineIcon'\nimport Loader from 'elements/Loader';\n// import FormButton from 'forms/FormButton'\n\nimport './ModalPortal-Geometry.pcss';\nimport './ModalPortal-Themes.pcss';\nimport './ModalPortal-Transitions.pcss';\nimport './ModalPortal-Variants.pcss';\n\nconst cnModalPortal = cn('ModalPortal');\n\n// Event names...\nconst mouseDownEvent = 'mousedown';\nconst mouseUpEvent = 'mouseup';\nconst mouseLeaveEvent = 'mouseleave';\nconst globalKeyPressEventName = 'keydown';\n\nconst delayedHandlerTimeout = 50;\n\nexport const passModalPortalProps = [ // Used to pass external props (eg, from `ModalWindow`)\n  'id',\n  'modalId',\n  'className',\n  'closeOnClickOutside',\n  'closeOnEscPressed',\n  'handleLoaderCancel',\n  'useLoader',\n  'loaderTheme',\n  'loading',\n  'noWrapper',\n  // 'noCloseOnControlClick',\n  'onAction',\n  'onClickOutside',\n  'onCloseButtonClick',\n  'onEscPressed',\n  'onOpen',\n  'onClose',\n  'onActivate',\n  'onDeactivate',\n  'onChildAction',\n  // Additionally all other 'on...' handlers must/can be passed. See `resolveResult`.\n  'open',\n  'theme',\n  'windowClassName',\n  'windowWidth',\n  'wrapperClassName',\n  'wrapperTheme',\n  'width', // ???\n  'startOutsideClickWaiting',\n  'stopOutsideClickWaiting',\n  'preventCloseOnOutsideClick',\n];\n\nexport const selfCloseActionId = '--modal-portal-self-close--';\nexport const externalCloseActionId = '--modal-portal-external-close--';\n\nclass ModalPortal extends React.PureComponent /** @lends @ModalPortal.prototype */ {\n\n  // Props...\n\n  static propTypes = {\n    useLoader: PropTypes.bool, // Use loader (see `loading`)\n    loading: PropTypes.bool, // Show Loader flashback\n    onAction: PropTypes.func, // Event fired on action invoked (see `actions` prop)\n    // registerCallback: PropTypes.func, // ??? registerCallback(handler = this.someMethod) -- handler stored by parent component and called when detected click on pulldown menu -- prevents popup content closing\n    // setModalPortalNodeRef: PropTypes.func, // ??? Demo?\n    windowWidth: PropTypes.string, // (ModalWindow only?) ModalPortal window width (predefined variants: xs, sm, md, lg, xl, xxl)\n    handleLoaderCancel: PropTypes.func, // Loader onCancel event handler\n    closeOnClickOutside: PropTypes.bool, // Close (cancel) modal by click outside modal window (on 'curtain')\n    closeOnEscPressed: PropTypes.bool, // Close (cancel) modal on esc key pressed\n    closeWithCloseButton: PropTypes.bool, // Close (cancel) modal by click on header 'Close' button\n    id: PropTypes.string, // ModalPortal id\n    onActivate: PropTypes.func, // Event fired on activate (before open)\n    onClickOutside: PropTypes.func, // Event fired on click outside modal\n    onCloseButtonClick: PropTypes.func, // Event fired on header 'Close' button click\n    onDeactivate: PropTypes.func, // Event fired on deactivate (unmounting from dom)\n    onEscPressed: PropTypes.func, // Event fired on esc key pressed\n    onOpen: PropTypes.func, // Event fired on modal open\n    onClose: PropTypes.func, // Event fired on modal close\n    handleOpenState: PropTypes.func, // Event fired on modal open state change (update external open/close state) ({ open, id } => void)\n    open: PropTypes.bool, // Show modal by default\n    className: PropTypes.string, // ModalPortal class name\n    windowClassName: PropTypes.string, // ModalPortal window class name\n    wrapperClassName: PropTypes.string, // ModalPortal wrapper class name\n    theme: PropTypes.string, // ModalPortal theme (default theme for all other themed elements, see `*Theme`)\n    windowTheme: PropTypes.string, // Window theme (using `theme` if not specified)\n    wrapperTheme: PropTypes.string, // Wrapper (back-curtain) theme (using `theme` if not specified)\n    loaderTheme: PropTypes.string, // Loader theme ('MediumDark' is default)\n    setPortalNode: PropTypes.func, // Get reference to `ModalPortal` instance node\n    startOutsideClickWaiting: PropTypes.func,\n    stopOutsideClickWaiting: PropTypes.func,\n    preventCloseOnOutsideClick: PropTypes.func,\n    // onOutsideClickCatched: PropTypes.func,\n  }\n\n  static defaultProps = {\n    loaderTheme: 'MediumDark',\n  }\n\n  // Instance variables...\n  isOutsideClickWaiting = false\n  globalHandlersRegistered = false\n  globalDomNode = document\n  wrapperDomNode = null\n  windowDomNode = null\n  transitionTime = 0\n\n  resolvingResult = null // Resulting action\n\n  // Lifecycle...\n\n  // typeId = 'ModalPortal'\n\n  constructor(props) {\n    super(props);\n    // const popupsInited = config.modals.isInited\n    this.state = {\n      popupsInited: false,\n      activated: false,\n      open: false,\n    };\n    config.modals.initPromise.then(this.onPopupsInited);\n    this.transitionTime = config.css.modalAnimateTime;\n    this.modalType = props.type;\n    if (typeof props.setPortalNode === 'function') {\n      props.setPortalNode(this);\n    }\n    /* // UNUSED: Failed `ModalsContext` test implementation; TODO: See ActionsContext as example if required.\n     * const {\n     *   modalsContainerNode, // ModalsContext Provider\n     * } = props\n     * console.log(modalsContainerNode)\n     * debugger\n     */\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    if (!this.unregisterGlobalHandlers) {\n      const error = new Error('ModalPortal: unregisterGlobalHandlers method is undefined');\n      console.error(error); // eslint-disable-line no-console\n      /*DEBUG*/ debugger; // eslint-disable-line no-debugger\n      throw error; // ???\n    }\n    this.unregisterGlobalHandlers();\n    this.mounted = false;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const props = this.props;\n    const state = this.state;\n    // console.log('ModalPortal:componentDidUpdate', {\n    //   'props.open': props.open,\n    //   'state.open': state.open,\n    // })\n    if (props.open !== prevProps.open && props.open !== state.open) { // New open from props\n      if (props.open) {\n        this.activate(() => this.setState({ open: true }));\n      }\n      else {\n        this.setState({ open: false });\n      }\n    }\n    else if (state.open !== prevState.open) { // New open from state\n      if (!state.activated) { // Is it real case (changing `open` on inactive modal?\n        this.activate();\n      }\n      this.updateShowWithState();\n    }\n  }\n\n  // External methods...\n\n  getId = () => this.props.id\n  getType = () => this.props.type\n\n  isVisible = () => this.state.open\n\n  activate = (cb) => {\n    const { id, modalId, onActivate } = this.props;\n    const { activated } = this.state;\n    const done = () => {\n      if (typeof cb === 'function') {\n        cb({ id, modalId });\n      }\n      if (typeof onActivate === 'function') {\n        onActivate({ id, modalId });\n      }\n    };\n    if (!activated) {\n      // this.resolvingResult = null // Activating in `open` method\n      // console.log('ModalPortal:activate', id, activated)\n      this.setState({ activated: true }, done);\n      config.modals.controller.registerModal(this);\n    }\n    else {\n      done();\n    }\n  }\n\n  deactivate = () => {\n    const { id, modalId, onDeactivate } = this.props;\n    const { activated } = this.state;\n    if (activated) {\n      // console.log('ModalPortal:deactivate', id)\n      this.resolveResult(); // `resolvingResult` must be defined?\n      if (this.mounted) {\n        this.setState({ activated: false });\n      }\n      if (typeof onDeactivate === 'function') {\n        onDeactivate({ id, modalId });\n      }\n      config.modals.controller.unregisterModal(this);\n    }\n  }\n\n  toggle = (open) => { // External method for using in `ModalPortalStack`\n    // const { id } = this.props\n    // console.log('ModalPortal:toggle', this.props.id, open)\n    if (open == null) {\n      open = !this.state.open;\n    }\n    else if (open === this.state.open) {\n      return false;\n    }\n    if (open) {\n      this.open();\n    }\n    else {\n      this.close();\n    }\n  }\n\n  close = () => { // External method for using in `ModalPortalStack`\n    const { open: prevOpen } = this.state;\n    // console.log('ModalPortal:close', this.props.id, prevOpen)\n    if (prevOpen) {\n      this.setState({ open: false }); // , this.updateShowWithState);\n    }\n  }\n\n  open = () => { // External method for using in `ModalPortalStack`\n    const { open: prevOpen } = this.state;\n    // console.log('ModalPortal:open', this.props.id, prevOpen);\n    if (!prevOpen) {\n      const open = true;\n      this.resolvingResult = null; // Reset resolving action\n      // First activate portal then enter into opening animation\n      this.activate(() => {\n        this.setState({ open }); // , this.updateShowWithState);\n      });\n      // this.activate(() => this.setState({ open }, this.updateShowWithState)); // ??? WTF?\n    }\n  }\n\n  updateGeometry = () => null // External method stub? (For popups only?)\n\n  // Helpers...\n\n  registerGlobalHandlers() {\n    const { globalDomNode, windowDomNode } = this;\n    // const { closeOnClickOutside } = this.props\n    if (!this.globalHandlersRegistered) {\n      this.globalHandlersRegistered = true; // Set flag\n      // console.log('ModalPortal:registerGlobalHandlers')\n      if (!windowDomNode || !globalDomNode) {\n        const error = new Error('ModalPortal: dom nodes is undefined on registerGlobalHandlers');\n        console.error(error); // eslint-disable-line no-console\n        /*DEBUG*/ debugger; // eslint-disable-line no-debugger\n        throw error; // ???\n      }\n      /* // Update geometry (UNUSED)\n       * document.addEventListener(globalScrollEventName, this.updateGeometry)\n       * window.addEventListener(globalResizeEventName, this.updateGeometry)\n       * if (!this.updateGeometryTimer && updateGeometryTimerDelay) {\n       *   this.updateGeometryTimer = setInterval(this.updateGeometry, updateGeometryTimerDelay)\n       * }\n       */\n      document.addEventListener(globalKeyPressEventName, this.onKeyPress);\n      if (windowDomNode && globalDomNode) {\n        globalDomNode.addEventListener(mouseDownEvent, this.startOutsideClickWaiting);\n        windowDomNode.addEventListener(mouseUpEvent, this.stopOutsideClickWaitingDelayed);\n        // windowDomNode.addEventListener(mouseUpEvent, this.stopOutsideClickWaiting);\n      }\n    }\n  }\n\n  unregisterGlobalHandlers() {\n    const { globalDomNode, windowDomNode } = this;\n    // TODO: Check for dom nodes exists during close process\n    // const { closeOnClickOutside } = this.props\n    if (this.globalHandlersRegistered) {\n      this.globalHandlersRegistered = false; // Reset flag\n      // console.log('ModalPortal:unregisterGlobalHandlers')\n      // if (!windowDomNode || !globalDomNode) {\n      //   const error = new Error('ModalPortal: dom nodes is undefined on unregisterGlobalHandlers')\n      //   console.error(error) // eslint-disable-line no-console\n      //   [>DEBUG<] debugger // eslint-disable-line no-debugger\n      //   throw error // ???\n      // }\n      /* // Update geometry (UNUSED)\n       * document.removeEventListener(globalScrollEventName, this.updateGeometry)\n       * window.removeEventListener(globalResizeEventName, this.updateGeometry)\n       * if (!this.updateGeometryTimer && updateGeometryTimerDelay) {\n       *   this.updateGeometryTimer = setInterval(this.updateGeometry, updateGeometryTimerDelay)\n       * }\n       */\n      document.removeEventListener(globalKeyPressEventName, this.onKeyPress);\n      // if (windowDomNode && globalDomNode) {\n      this.stopOutsideClickWaiting();\n      globalDomNode && globalDomNode.removeEventListener(mouseDownEvent, this.startOutsideClickWaiting);\n      windowDomNode && windowDomNode.removeEventListener(mouseUpEvent, this.stopOutsideClickWaitingDelayed);\n      // windowDomNode && windowDomNode.removeEventListener(mouseUpEvent, this.stopOutsideClickWaiting);\n      // }\n    }\n  }\n\n  updateShowWithState = (state) => {\n    const { open } = state || this.state;\n    const { id, modalId, onOpen, onClose, handleOpenState } = this.props;\n    if (open) {\n      this.registerGlobalHandlers();\n      if (typeof onOpen === 'function') {\n        onOpen({ id, modalId });\n      }\n    }\n    else {\n      this.unregisterGlobalHandlers();\n      if (typeof onClose === 'function') {\n        onClose({ id, modalId });\n      }\n      setTimeout(this.deactivate, this.transitionTime); // TODO?\n    }\n    if (typeof handleOpenState === 'function') {\n      handleOpenState({ id, modalId, open });\n    }\n  }\n\n  onPopupsInited = () => {\n    this.setState({ popupsInited: true });\n    const { open } = this.props;\n    if (open) { // Immediately open if passed open status\n      // this.activate(() => this.setState({ open: true }))\n      this.activate(() => this.setState({ open: true })); // , this.updateShowWithState);\n    }\n  }\n\n  setResult(result) {\n    this.resolvingResult = result;\n  }\n\n  resolveResult() { // Final method on close or on action event with autoClose mode\n    const actionId = this.resolvingResult || externalCloseActionId;\n    /* // UNUSED: Throw an error if actionId is undefined\n     * if (!actionId) {\n     *   const error = new Error('ModalPortal: resolving action is undefined')\n     *   console.error(error) // eslint-disable-line no-console\n     *   debugger // eslint-disable-line no-debugger\n     *   throw error // ???\n     * }\n     */\n    const { id, modalId, onAction } = this.props;\n    const cbData = { id: actionId, modalId: modalId || id };\n    if (typeof onAction === 'function') {\n      onAction(cbData);\n    }\n    this.resolvingResult = null; // Reset action back\n    const cbName = 'on' + stringUtils.ucFirst(actionId);\n    const cb = this.props[cbName];\n    if (typeof cb === 'function') {\n      cb(cbData);\n    }\n  }\n\n  // Handlers...\n\n  onAction = (actionProps) => { // Event handler for ActionContext consumed children\n    const actionId = actionProps.id;\n    const { id, modalId, actionsContextNode, autoClose, closeOnCancelAction } = this.props;\n    this.setResult(actionId);\n    // console.log('ModalPortal:onAction', id, actionId)\n    if (autoClose || (closeOnCancelAction && actionId === 'cancel')) { // Close and call `resolveResult` when window is closed\n      this.close();\n    }\n    else { // ...Or all `resolveResult` immediatelly\n      this.resolveResult();\n    }\n    if (actionsContextNode && typeof actionsContextNode.onAction === 'function') { // Use chaining ActionsContext?\n      actionsContextNode.onAction({ ...actionProps, modalPortalId: id, modalId });\n    }\n  }\n\n  onKeyPress = (event) => {\n    var {\n      key,\n      keyCode,\n      charCode,\n    } = event;\n    const {\n      id,\n      modalId,\n      onEscPressed,\n      closeOnEscPressed,\n      loading,\n    } = this.props;\n    // @see https://keycode.info/\n    const isEscPressed = (key === 'Escape'); // (keyCode === 27);\n    const cbProps = { event, id, modalId, key, keyCode, charCode };\n    // console.log('ModalPortal:onKeyPress', cbProps);\n    if (isEscPressed && !loading) {\n      const isTopmost = config.modals.controller.isModalTopmostVisible(this);\n      // console.log('ModalPortal:onKeyPress', id, isTopmost)\n      if (isTopmost) {\n        // event.stopPropagation()\n        if (closeOnEscPressed) {\n          this.setResult(selfCloseActionId);\n          this.close();\n        }\n        if (typeof onEscPressed === 'function') {\n          onEscPressed(cbProps);\n        }\n      }\n    }\n  }\n\n  stopOutsideClickWaiting = (/* ev */) => { // Mouse released on window --> cancel waiting for mouse up on wrapper (don't close modal)\n    if (this.stopOutsideClickWaitingDelayedHandler) {\n      clearTimeout(this.stopOutsideClickWaitingDelayedHandler);\n      this.stopOutsideClickWaitingDelayedHandler = null;\n    }\n    const { globalDomNode, windowDomNode, mounted } = this;\n    const { stopOutsideClickWaiting/* , preventCloseOnOutsideClick */ } = this.props;\n    if (mounted, this.isOutsideClickWaiting /* && globalDomNode && windowDomNode */) {\n      // console.log('ModalPortal:stopOutsideClickWaiting'[> , { preventClose } <]);\n      globalDomNode && globalDomNode.removeEventListener(mouseUpEvent, this.onOutsideClickCatchedDelayed);\n      windowDomNode && windowDomNode.removeEventListener(mouseUpEvent, this.stopOutsideClickWaiting);\n      windowDomNode && windowDomNode.removeEventListener(mouseLeaveEvent, this.stopOutsideClickWaiting);\n      this.isOutsideClickWaiting = false;\n      if (typeof stopOutsideClickWaiting === 'function') {\n        setTimeout(stopOutsideClickWaiting, delayedHandlerTimeout);\n      }\n    }\n  }\n  stopOutsideClickWaitingDelayed = () => {\n    if (this.stopOutsideClickWaitingDelayedHandler) {\n      clearTimeout(this.stopOutsideClickWaitingDelayedHandler);\n    }\n    this.stopOutsideClickWaitingDelayedHandler = setTimeout(this.stopOutsideClickWaiting, delayedHandlerTimeout);\n  }\n  startOutsideClickWaiting = () => { // Start waiting for mouse up on wrapper (close modal) or window (continue working)\n    const { loading, startOutsideClickWaiting } = this.props;\n    const isTopmost = config.modals.controller.isModalTopmostVisible(this);\n    if (!loading && isTopmost) {\n      const { globalDomNode, windowDomNode } = this;\n      // console.log('ModalPortal:startOutsideClickWaiting');\n      if (!this.isOutsideClickWaiting && globalDomNode && windowDomNode) { // Start waiting for\n        this.isOutsideClickWaiting = true;\n        globalDomNode && globalDomNode.addEventListener(mouseUpEvent, this.onOutsideClickCatchedDelayed);\n        windowDomNode && windowDomNode.addEventListener(mouseUpEvent, this.stopOutsideClickWaiting);\n        windowDomNode && windowDomNode.addEventListener(mouseLeaveEvent, this.stopOutsideClickWaiting);\n        if (typeof startOutsideClickWaiting === 'function') {\n          startOutsideClickWaiting();\n        }\n      }\n    }\n  }\n  onOutsideClickCatched = () => { // Mouse released on wrapper --> close modal\n    const { id, modalId, closeOnClickOutside, onClickOutside, preventCloseOnOutsideClick } = this.props;\n    // console.log('ModalPortal:onOutsideClickCatched', id);\n    if (typeof onClickOutside === 'function') {\n      onClickOutside({ id, modalId });\n    }\n    if (closeOnClickOutside) {\n      const preventClose = (typeof preventCloseOnOutsideClick === 'function' && preventCloseOnOutsideClick());\n      // console.log('ModalPortal:onOutsideClickCatched: check', { id, preventClose });\n      if (preventClose !== true) {\n        this.setResult(selfCloseActionId);\n        this.close();\n      }\n    }\n    // setTimeout(this.stopOutsideClickWaiting, delayedHandlerTimeout);\n    this.stopOutsideClickWaitingDelayed();\n  }\n  onOutsideClickCatchedDelayed = () => {\n    if (this.onOutsideClickCatchedDelayedHandler) {\n      clearTimeout(this.onOutsideClickCatchedDelayedHandler);\n    }\n    this.onOutsideClickCatchedDelayedHandler = setTimeout(this.onOutsideClickCatched, delayedHandlerTimeout);\n  }\n\n  onCloseButtonClick = () => { // Mouse released on wrapper --> close modal\n    const { id, modalId, closeWithCloseButton, onCloseButtonClick } = this.props;\n    // console.log('ModalPortal:onCloseButtonClick')\n    if (closeWithCloseButton) {\n      this.setResult(selfCloseActionId);\n      this.close();\n    }\n    if (typeof onCloseButtonClick === 'function') {\n      onCloseButtonClick({ id, modalId });\n    }\n  }\n\n  setWindowDomRef = (domNode) => {\n    this.windowDomNode = domNode;\n  }\n\n  setWrapperDomRef = (domNode) => {\n    this.wrapperDomNode = domNode;\n  }\n\n  // Render...\n\n  renderWindow() {\n    const { onChildAction, windowWidth, windowTheme, theme, windowClassName, children } = this.props;\n    const { wrapperDomNode, windowDomNode } = this;\n    // console.log('ModalPortal:renderWindow', { windowWidth })\n    // TODO: Pass windowDomNode to children?\n    const childrenProps = {\n      ModalPortal: this,\n      windowDomNode,\n      wrapperDomNode,\n    };\n    const isElement = React.isValidElement(children);\n    const childrenType = typeof children;\n    const isFunction = childrenType === 'function';\n    // Extend element or call function with children' props\n    let content = isElement ? React.cloneElement(children, childrenProps) :\n      isFunction ? children(childrenProps) : children;\n    if (typeof onChildAction === 'function') {\n      content = (\n        <ActionsContextProvider value={{ onAction: onChildAction }}>\n          {content}\n        </ActionsContextProvider>\n      );\n    }\n    return (\n      <div\n        className={cnModalPortal('Window', { width: windowWidth, theme: windowTheme || theme }, [windowClassName])}\n        ref={this.setWindowDomRef}\n      >\n        {content}\n      </div>\n    );\n  }\n\n  renderLoader() {\n    const { loading, loaderTheme, handleLoaderCancel } = this.props;\n    return (\n      <Loader mode=\"local\" theme={loaderTheme} show={loading} onCancel={handleLoaderCancel} />\n    );\n  }\n\n  renderModalPortal() {\n    const { type,\n      id,\n      theme,\n      wrapperTheme,\n      className,\n      wrapperClassName,\n      useLoader,\n      loading,\n      noWrapper,\n    } = this.props;\n    if (loading && !useLoader) {\n      const error = new Error('ModalPortal: `useLoader` must be enabled for using `loading` prop');\n      console.error(error); // eslint-disable-line no-console\n      /*DEBUG*/ debugger; // eslint-disable-line no-debugger\n      throw error; // ???\n    }\n    const { open } = this.state;\n    const realWrapperTheme = noWrapper ? false : wrapperTheme || theme;\n    return (\n      <CSSTransition\n        key={id}\n        // id={id}\n        timeout={this.transitionTime}\n        in={open}\n        classNames={cnModalPortal()} // Generate animation classes\n      >\n        <div\n          key={id}\n          className={cnModalPortal({ type, id, noWrapper }, [className])} // Root node\n          ref={this.setRootDomRef}\n        >\n          <div\n            className={cnModalPortal('Wrapper', { theme: realWrapperTheme }, [wrapperClassName])}\n            ref={this.setWrapperDomRef}\n          >\n            {this.renderWindow()}\n            {useLoader && this.renderLoader()}\n          </div>\n        </div>\n      </CSSTransition>\n    );\n  }\n\n  render() {\n    const { popupsInited, activated } = this.state;\n    const toDisplay = popupsInited && activated;\n    if (!toDisplay) {\n      return null;\n    }\n    const node = config.modals.controller.getDomNode();\n    if (!node) {\n      const error = new Error('ModalPortal: Modals domNode is undefined. Don\\'t forget to use WebUiCoreRoot with autoModalsController mode or render ModalsController manually.');\n      console.error(error); // eslint-disable-line no-console\n      /*DEBUG*/ debugger; // eslint-disable-line no-debugger\n      throw error; // ???\n    }\n    // console.log('ModalPortal:render', this.props.children)\n    return (\n      <Portal node={node}>\n        {this.renderModalPortal()}\n      </Portal>\n    );\n  }\n\n}\n\nexport default ModalPortal;\n/* // UNUSED: Failed `ModalsContext` test implementation\n * export default compose(\n *   withModalsContext,\n * )(ModalPortal)\n */\n","/** @module ModalProxifiedWindow\n *  @class ModalProxifiedWindow\n *  @since 2021.05.27, 14:44\n *  @changed 2021.05.27, 16:57\n */\n\nimport ModalsProxy from 'elements/ModalsProxy';\n\nimport config from 'config';\n\nclass ModalProxifiedWindow {\n\n  __updateTimer = [];\n  __updateCbQueue = [];\n  __newProps = undefined; // Unused (no way to receive new props)?\n  __newState = undefined;\n  __mounted = false;\n\n  constructor(props) {\n    this.props = props || {};\n    this.modalId = this.props.modalId || this.props.id || this.modalId;\n    // console.log('ModalProxifiedWindow:constructor', {\n    //   modalId: this.modalId,\n    //   props,\n    // });\n    setTimeout(this.__activateStateHandler.bind(this), 0); // Initialize state change handler after constructor finished\n    this.__restartUpdateTimer(); // Start initial update timer\n  }\n\n  onDeactivate = (params) => {\n    this.__deactivateStateHandler();\n    // console.log('ModalProxifiedWindow:onDeactivate', { modalId: this.modalId });\n    if (typeof this.componentWillUnmount == 'function') {\n      setTimeout(this.componentWillUnmount.bind(this), 0);\n    }\n    const { onDeactivate } = this.props;\n    if (typeof onDeactivate === 'function') {\n      // setTimeout(onDeactivate, 0, params);\n      onDeactivate(params);\n    }\n    ModalsProxy.removeModal(this.modalId);\n  }\n\n  // Store state control...\n\n  passStateToProps(state, mapStateToProps) {\n    if (typeof mapStateToProps !== 'function') {\n      return;\n    }\n    const stateProps = mapStateToProps.call(this, state);\n    const { props } = this;\n    // Detect changes...\n    let hasChanges = false;\n    for (let id in stateProps) {\n      if (stateProps[id] !== props[id]) {\n        hasChanges = true;\n        break;\n      }\n    }\n    // console.log('ModalProxifiedWindow:passStateToProps', {\n    //   modalId: this.modalId,\n    //   state,\n    //   props,\n    //   hasChanges,\n    //   stateProps,\n    // });\n    if (hasChanges) {\n      this.setProps(stateProps);\n    }\n  }\n\n  onStateChangeHandler(state) {\n    // console.log('ModalProxifiedWindow:onStateChangeHandler', {\n    //   modalId: this.modalId,\n    //   mapStateToProps: this.mapStateToProps,\n    //   state,\n    // });\n    this.passStateToProps(state, this.mapStateToProps);\n  }\n\n  __activateStateHandler() {\n    const { store } = config.app;\n    // console.log('ModalProxifiedWindow:__activateStateHandler', {\n    //   store,\n    //   modalId: this.modalId,\n    //   mapStateToProps: this.mapStateToProps,\n    // });\n    if (typeof this.mapStateToProps === 'function') {\n      // Register update handler...\n      this.__registered_onStateChangeHandler = this.onStateChangeHandler.bind(this);\n      ModalsProxy.addStoreChangesHandler(this.__registered_onStateChangeHandler);\n      // Set initial state props...\n      if (store) {\n        const state = store.getState();\n        this.passStateToProps(state, this.mapStateToProps);\n      }\n    }\n  }\n\n  __deactivateStateHandler() {\n    // console.log('ModalProxifiedWindow:__activateStateHandler', {\n    //   modalId: this.modalId,\n    //   __registered_onStateChangeHandler: this.__registered_onStateChangeHandler,\n    // });\n    if (this.__registered_onStateChangeHandler) {\n      ModalsProxy.removeStoreChangesHandler(this.__registered_onStateChangeHandler);\n    }\n  }\n\n  // Render...\n\n  __render() {\n    let children;\n    if (typeof this.render === 'function') {\n      children = this.render();\n    }\n    const updateProps = {\n      ...this.props,\n      onDeactivate: this.onDeactivate,\n      children,\n    };\n    // console.log('ModalProxifiedWindow:__render', {\n    //   modalId: this.modalId,\n    //   props: this.props,\n    //   updateProps,\n    // });\n    if (!this.__mounted) {\n      ModalsProxy.addModal(updateProps);\n      // TODO: Use `ModalsProxy.getProxyModalNode(modalId)` & overrided `onComponentDidUpdate`?\n      if (typeof this.componentDidMount === 'function') {\n        setTimeout(this.componentDidMount.bind(this), 0);\n      }\n      this.__mounted = true;\n    }\n    else {\n      ModalsProxy.updateModal(this.modalId, updateProps);\n    }\n  }\n\n  // Update...\n\n  __update = () => {\n    // Reset timer...\n    if (this.__updateTimer) {\n      clearTimeout(this.__updateTimer);\n      this.__updateTimer = null;\n    }\n    // Save old & set new props...\n    const prevProps = this.props;\n    if (this.__newProps) {\n      this.props = { ...prevProps, ...this.__newProps };\n      this.__newProps = undefined;\n    }\n    // Save old & set new state...\n    const prevState = this.state;\n    if (this.__newState) {\n      this.state = { ...prevState, ...this.__newState };\n      this.__newState = undefined;\n    }\n    // console.log('ModalProxifiedWindow:__update', {\n    //   modalId: this.modalId,\n    //   props: this.props,\n    //   prevProps,\n    //   state: this.state,\n    //   prevState,\n    // });\n    // Call all callbacks...\n    let cb;\n    while ((cb = this.__updateCbQueue.shift()) != null) {\n      setTimeout(cb, 0);\n    }\n    // Call update handler...\n    if (typeof this.componentDidUpdate === 'function') {\n      this.componentDidUpdate(prevProps, prevState); // TODO: Use `bind`, use `setTimeout`?\n    }\n    // Make render...\n    this.__render();\n  }\n\n  __restartUpdateTimer() {\n    // TODO: Control multiple subsequenced timer restarts? (Force update for n sequential restarts?)\n    if (this.__updateTimer) {\n      clearTimeout(this.__updateTimer);\n      this.__updateTimer = null;\n    }\n    this.__updateTimer = setTimeout(this.__update, 20);\n  }\n\n  setState(data, cb) {\n    // console.log('ModalProxifiedWindow:setState', { modalId: this.modalId, data, cb });\n    if (typeof data === 'function') {\n      data = data(this.state);\n    }\n    Object.assign(this.__newState || (this.__newState = {}), data);\n    if (typeof cb === 'function') {\n      this.__updateCbQueue.push(cb);\n    }\n    this.__restartUpdateTimer();\n  }\n\n  setProps(data, cb) {\n    // console.log('ModalProxifiedWindow:setProps', { modalId: this.modalId, data, cb });\n    if (typeof data === 'function') {\n      data = data(this.props);\n    }\n    Object.assign(this.__newProps || (this.__newProps = {}), data);\n    if (typeof cb === 'function') {\n      this.__updateCbQueue.push(cb);\n    }\n    this.__restartUpdateTimer();\n  }\n\n}\n\nexport default ModalProxifiedWindow;\n","/** @module ModalWindow\n *  @class ModalWindow\n *  @since 2020.12.21, 22:58\n *  @changed 2021.05.17, 15:33\n *\n *  External methods (for PopupStack):\n *  - close\n *  - open\n *  - updateGeometry\n *\n *  TODO 2020.12.29, 21:51 -- Use level mod (increase margins)\n */\n/* --eslint-disable no-console */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { cn } from 'utils/configure';\nimport config from 'config';\n\nimport ModalPortal, { passModalPortalProps } from 'elements/ModalPortal';\n\n// import { Provider } from 'react-redux';\n// import { app as appConfig } from 'config';\n\nimport InlineIcon from 'elements/InlineIcon';\nimport FormButton from 'forms/FormButton';\nimport FormActions from 'forms/FormActions';\n\nimport { ActionsContextProvider } from 'helpers/ActionsContext';\n\nimport './ModalWindow-Geometry.pcss';\nimport './ModalWindow-Themes.pcss';\nimport './ModalWindow-Errors.pcss';\n// import './ModalWindow-Transitions.pcss'\n\nconst cnModalWindow = cn('ModalWindow');\n\n// const doDebug = [>DEBUG<] false && config.build.DEV_DEBUG || // DEBUG!\n//   false\n\nexport const selfCloseActionId = 'modalSelfClose';\nexport const externalCloseActionId = 'modalExternalClose';\n\nclass ModalWindow extends React.PureComponent /** @lends @ModalWindow.prototype */ {\n\n  // Props...\n\n  static propTypes = {\n    // registerCallback: PropTypes.func, // ??? registerCallback(handler = this.someMethod) -- handler stored by parent component and called when detected click on pulldown menu -- prevents popup content closing\n    // setModalNodeRef: PropTypes.func, // ??? Demo?\n    actions: PropTypes.oneOfType([ PropTypes.array, PropTypes.object ]), // Actions component(s) (TODO: `ActionsContext` must be used)\n    className: PropTypes.string, // ModalWindow class name\n    closeOnCancelAction: PropTypes.bool, // Auto-close on `cancel` action event\n    closeOnClickOutside: PropTypes.bool, // Close (cancel) modal by click outside modal window (on 'curtain')\n    closeOnEscPressed: PropTypes.bool, // Close (cancel) modal on esc key pressed\n    closeWithCloseButton: PropTypes.bool, // Close (cancel) modal by click on header 'Close' button\n    contentClassName: PropTypes.string, // Content element class name\n    error: PropTypes.oneOfType([ PropTypes.string, PropTypes.arrayOf(PropTypes.string) ]), // Error(s) strings to display above content\n    handleLoaderCancel: PropTypes.func, // Loader onCancel event handler\n    handleOpenState: PropTypes.func, // Event fired on modal open state change (update external open/close state) ({ open, id } => void)\n    headerTheme: PropTypes.string, // Header theme (using `theme` if not specified)\n    icon: PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]), // Show icon in header\n    iconTheme: PropTypes.string, // Icon theme (using `theme` if not specified)\n    id: PropTypes.string, // ModalWindow id\n    leftContent: PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]), // Content at left of main content and actions (ideal place for large visual icon)\n    loaderTheme: PropTypes.string, // Loader theme ('MediumDark' is default)\n    loading: PropTypes.bool, // Show Loader flashback\n    onAction: PropTypes.func, // Event fired on action invoked (see `actions` prop)\n    onActivate: PropTypes.func, // Event fired on activate (before open)\n    onClickOutside: PropTypes.func, // Event fired on click outside modal\n    onClose: PropTypes.func, // Event fired on modal close\n    onCloseButtonClick: PropTypes.func, // Event fired on header 'Close' button click\n    onDeactivate: PropTypes.func, // Event fired on deactivate (unmounting from dom)\n    onEscPressed: PropTypes.func, // Event fired on esc key pressed\n    onOpen: PropTypes.func, // Event fired on modal open\n    open: PropTypes.bool, // Show modal by default\n    showCloseButton: PropTypes.bool, // Display close button in header\n    theme: PropTypes.string, // ModalWindow theme (default theme for all other themed elements, see `*Theme`)\n    title: PropTypes.string, // ModalWindow title\n    useLoader: PropTypes.bool,\n    width: PropTypes.string, // ModalWindow window width (predefined variants: xs, sm, md, lg, xl, xxl)\n    windowClassName: PropTypes.string, // ModalWindow window class name\n    windowTheme: PropTypes.string, // Window theme (using `theme` if not specified)\n    wrapperClassName: PropTypes.string, // ModalWindow wrapper class name\n    wrapperTheme: PropTypes.string, // Wrapper (back-curtain) theme (using `theme` if not specified)\n  }\n\n  static defaultProps = {\n    closeOnClickOutside: true, // Close (with `selfCloseActionId` action id) modal by outisde-click.\n    closeOnEscPressed: true, // Close (with `selfCloseActionId` action id) modal by esc-key.\n    closeWithCloseButton: true, // Close (with `selfCloseActionId` action id) with 'Close button' (if present in layout -- see `showCloseButton`)\n    loaderTheme: 'MediumDark',\n    loading: false,\n    open: false,\n    showCloseButton: false, // Display 'Close button'?\n    useLoader: false,\n    wrapperTheme: 'MediumDark',\n  }\n\n  // Properties...\n\n  // From ModalPortal:\n  ModalPortal = null\n\n  // Lifecycle...\n\n  componentDidUpdate(prevProps, prevState) {\n    const node = this;\n    const { props, state } = this;\n    const { onComponentDidUpdate } = this.props;\n    if (typeof onComponentDidUpdate === 'function') {\n      onComponentDidUpdate({ node, props, state, prevProps, prevState });\n    }\n  }\n\n  // Helpers...\n\n  // Handlers...\n\n  handleOpenState = ({ open }) => {\n    // this.setState({ open })\n    const { id, handleOpenState } = this.props;\n    if (typeof handleOpenState === 'function') {\n      handleOpenState({ id, open });\n    }\n  }\n\n  onAction = (actionProps) => { // Event handler for ActionContext consumed children\n    const { ModalPortal } = this;\n    if (!ModalPortal) {\n      const error = new Error('ModalWindow:onAction: ModalPortal must be defined');\n      console.error(error); // eslint-disable-line no-console\n      /*DEBUG*/ debugger; // eslint-disable-line no-debugger\n      throw error; // ???\n    }\n    const actionId = actionProps.id;\n    const { open, actionsContextNode, autoClose, closeOnCancelAction } = this.props;\n    // console.log('ModalWindow:onAction', this.props.id, actionId);\n    ModalPortal.setResult(actionId);\n    if (open && (autoClose || (closeOnCancelAction && actionId === 'cancel'))) { // Close and call `resolveResult` when window is closed\n      ModalPortal.close();\n    }\n    else { // ...Or all `resolveResult` immediatelly\n      ModalPortal.resolveResult();\n    }\n    if (actionsContextNode && typeof actionsContextNode.onAction === 'function') {\n      actionsContextNode.onAction(actionProps);\n    }\n  }\n\n  onCloseButtonClick = () => { // Mouse released on wrapper --> close modal\n    const { ModalPortal } = this;\n    if (!ModalPortal) {\n      const error = new Error('ModalWindow:onCloseButtonClick: ModalPortal must be defined');\n      console.error(error); // eslint-disable-line no-console\n      /*DEBUG*/ debugger; // eslint-disable-line no-debugger\n      throw error; // ???\n    }\n    const { id, closeWithCloseButton, onCloseButtonClick } = this.props;\n    // console.log('ModalWindow: onCloseButtonClick', id)\n    // debugger;\n    if (closeWithCloseButton) {\n      ModalPortal.setResult(selfCloseActionId);\n      ModalPortal.close();\n    }\n    if (typeof onCloseButtonClick === 'function') {\n      onCloseButtonClick({ id });\n    }\n  }\n\n  setPortalNode = (node) => { // Save reference to ModalPortal node\n    this.ModalPortal = node;\n  }\n\n  // Provide ModalPortal public methods...\n\n  open = () => this.ModalPortal && this.ModalPortal.open()\n  close = () => this.ModalPortal && this.ModalPortal.close()\n  toggle = (open) => this.ModalPortal && this.ModalPortal.toggle(open)\n  isVisible = () => this.ModalPortal && this.ModalPortal.isVisible()\n\n  // Render helpers...\n\n  // Render...\n\n  renderHeaderIcon() {\n    const { icon, iconTheme } = this.props;\n    const theme = iconTheme || this.props.theme;\n    const showIcon = icon || theme && config.ui.defaultIcons[theme];\n    return showIcon && (\n      <div key=\"HeaderIcon\" className={cnModalWindow('HeaderIcon', { theme })}>\n        <InlineIcon theme={theme} icon={showIcon} />\n      </div>\n    );\n  }\n  renderHeaderTitle() {\n    const { title } = this.props;\n    return title && (\n      <div key=\"HeaderTitle\" className={cnModalWindow('HeaderTitle')}>\n        {title}\n      </div>\n    );\n  }\n  renderHeaderCloseButton() {\n    const { showCloseButton } = this.props;\n    return showCloseButton && (\n      <div key=\"HeaderCloseButton\" className={cnModalWindow('HeaderCloseButton')}>\n        <FormButton\n          icon=\"faTimes\"\n          largeIcon\n          plain\n          title=\"Close window\" // TODO; Translate?\n          onClick={this.onCloseButtonClick}\n        />\n        {/* <InlineIcon icon=\"faTimes\" /> */}\n      </div>\n    );\n  }\n\n  renderHeader() {\n    const { headerTheme, theme } = this.props;\n    const content = [\n      this.renderHeaderIcon(),\n      this.renderHeaderTitle(),\n      this.renderHeaderCloseButton(),\n    ].filter(Boolean);\n    const hasHeader = !!(content && content.length);\n    return hasHeader && (\n      <div className={cnModalWindow('Header', { theme: headerTheme || theme })}>\n        {content}\n      </div>\n    );\n  }\n\n  renderLeftContent() {\n    const { leftContent } = this.props;\n    return leftContent && (\n      <div className={cnModalWindow('LeftContent')}>\n        {leftContent}\n      </div>\n    );\n  }\n\n  renderContentError = (error) => {\n    if (Array.isArray(error)) {\n      return error\n        .map(this.renderContentError)\n        .filter(x => x)\n        .map((str, n) => {\n          const key = 'error' + n;\n          return <div key={key} className={cnModalWindow('ErrorItem')}>{str}</div>;\n        });\n    }\n    if (!error) {\n      return null;\n    }\n    if (error instanceof Error) {\n      return String(error).replace(/^Error:\\s*/, '');\n    }\n    if (typeof error !== 'string') {\n      return String(error);\n    }\n    return error;\n  }\n\n  renderContent() {\n    const {\n      children,\n      contentClassName,\n      error,\n    } = this.props;\n    // console.log('ModalWindow:renderContent', children)\n    // debugger\n    const errorContent = error && (<div className={cnModalWindow('Error')}>{this.renderContentError(error)}</div>);\n    return children && (\n      <div className={cnModalWindow('Content', [ contentClassName ])}>\n        {errorContent}\n        {children}\n      </div>\n    );\n  }\n\n  renderActions() {\n    const { actions } = this.props;\n    // Allow to treat actions as ids/texts/ list see `FromActions`.\n    return actions && (\n      <ActionsContextProvider value={this}>\n        <FormActions className={cnModalWindow('Actions')}>\n          {actions}\n        </FormActions>\n      </ActionsContextProvider>\n    );\n  }\n\n  renderWindow = (/* portalProps */) => {\n    // const { ModalPortal } = portalProps || {} // !!!\n    // this.ModalPortal = ModalPortal // Save ModalPortal handler\n    // console.log('ModalWindow:renderWindow', this.props.children)\n    let content = (\n      <React.Fragment>\n        {this.renderHeader()}\n        <div className={cnModalWindow('Layout')}>\n          {this.renderLeftContent()}\n          <div className={cnModalWindow('Main')}>\n            {this.renderContent()}\n            {this.renderActions()}\n          </div>\n          {/* renderRightContent? */}\n        </div>\n      </React.Fragment>\n    );\n    // // XXX: Wrap with redux provider?\n    // const { store } = appConfig; // TODO: Move to `ModalPortal`?\n    // if (store) {\n    //   content = <Provider store={store}>{content}</Provider>;\n    // }\n    return content;\n  }\n\n  render() {\n    // Add all custom handler props ('on*')...\n    const handlerKeys = Object.keys(this.props)\n      .filter(id => id.startsWith('on') && !passModalPortalProps.includes(id))\n    ;\n    const portalProps = passModalPortalProps.concat(handlerKeys).reduce((data, id) => {\n      return { ...data, [id]: this.props[id] };\n    }, {});\n    Object.keys(this.props)\n      .filter(id => id.startsWith('on'))\n      .forEach(id => {\n        portalProps[id] = this.props[id];\n      })\n    ;\n    Object.assign(portalProps, {\n      handleOpenState: this.handleOpenState,\n      // onActivate: this.onActivate,\n      // onDeactivate: this.onDeactivate,\n      // wrapperTheme: 'SubtleDark',\n    });\n    // console.log('ModalWindow:render', this.props.children)\n    // NOTE: Use arrow function to force update modal content\n    return (\n      <ModalPortal {...portalProps} type=\"Window\" setPortalNode={this.setPortalNode}>\n        {this.renderWindow()}\n      </ModalPortal>\n    );\n  }\n\n}\n\nexport default ModalWindow;\n","/** @module ModalsController\n *  @class ModalsController\n *  @desc Modals dom container & controller interface object\n *  @since 2020.12.21, 23:37\n *  @changed 2021.05.27, 14:03\n */\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Portal } from 'react-portal';\nimport { cn } from 'utils/configure';\nimport * as config from 'config';\nimport ErrorContainer from 'elements/ErrorContainer';\nimport { ErrorBoundary } from 'react-error-boundary';\n// import { Provider } from 'react-redux';\n// import { app as appConfig } from 'config';\n\nimport ModalWindow from 'elements/ModalWindow';\n\nimport './ModalsController.pcss';\n\nconst cnModalsController = cn('ModalsController');\n\n// const doDebug = false // DEBUG!\n\nclass ModalsController extends React.PureComponent /** @lends @ModalsController.prototype */ {\n\n  static propTypes = {\n    usePortal: PropTypes.bool, // Render container at end of dom tree root level\n  }\n\n  // Internal variables...\n\n  domNode = undefined;\n  modalsStack = [];\n  modalWindows = [];\n  proxyModalNodes = {};\n\n  // Lifecycle...\n\n  // UNUSED lifecycle methods\n  constructor(props) {\n    super(props);\n    this.state = {\n      proxyModalsList: [], // Active proxy modals list; see `...ProxyModal...` functionality below\n    };\n  }\n\n  componentDidMount() {\n    // Uncaught errors handler...\n    this.__saved_onunhandledrejection = window.onunhandledrejection;\n    this.__saved_onerror = window.onerror;\n    window.onunhandledrejection = this.onCatchedError;\n    window.onerror = this.onCatchedError;\n\n    // this.registerGlobalHandlers()\n    // Initialize global references & parameters...\n    if (typeof config.modals.__initPromiseResolve == 'function') {\n      config.modals.__initPromiseResolve();\n    }\n    config.modals.isInited = true;\n    config.modals.controller = this;\n    /* // UNUSED: Old method to obtain dom node re3ference (see setRef below).\n     * // eslint-disable-next-line react/no-find-dom-node\n     * const domNode = ReactDOM.findDOMNode(this); // TODO: Find alternate legal method to get dom node? (refs doesn't works due to high-level element (`TransitionGroup`) rendering)\n     * // console.log('ModalsController:componentDidMount', { domNode });\n     * this.domNode = domNode;\n     * config.modals.domNode = domNode;\n     */\n  }\n\n  componentWillUnmount() {\n    // this.unregisterGlobalHandlers()\n\n    // Reset uncaught errors handler...\n    window.onunhandledrejection = this.__saved_onunhandledrejection;\n    window.onerror = this.__saved_onerror;\n  }\n\n  // Handlers...\n\n  setRef = (domNode) => { // Get dom node reference. Used as portals root (with `config.modals.controller.getDomNode()`).\n    // console.log('ModalsController:setRef', { domNode });\n    this.domNode = domNode;\n    // config.modals.domNode = domNode;\n  }\n\n  onCatchedError = (error) => { // Error handler\n    const errorMessage = error && (error.message || error.reason);\n    console.error('ModalsController:onCatchedError', errorMessage, error); // eslint-disable-line no-console\n    debugger; // eslint-disable-line no-debugger\n    // this.setState({ errors: error });\n    // this.props.setErrorNotify(error);\n    throw error;\n  }\n\n  // External methods...\n\n  getDomNode() { // Get dom node\n    return this.domNode || document.body;\n  }\n\n  registerModal = (modal/*: React.ReactNode*/) => { // Add item to modals stack\n    // console.log('ModalsController:registerModal', modal.props.type, modal.props.id);\n    // debugger;\n    if (!this.modalsStack.includes(modal)) { // Add to stack if not exist\n      this.modalsStack.push(modal);\n    }\n  }\n\n  unregisterModal = (modal/*: React.ReactNode*/) => { // Remove item from modals stack\n    // console.log('ModalsController:unregisterModal', modal.props.type, modal.props.id)\n    // debugger;\n    const idx = this.modalsStack.indexOf(modal);\n    if (idx !== -1) { // Remove if found...\n      this.modalsStack.splice(idx, 1);\n    }\n  }\n\n  getModalById/*: React.ReactNode*/ = (id) => {\n    for (let n = this.modalsStack.length - 1; n >= 0; n--) {\n      const modal = this.modalsStack[n];\n      const modalId = modal && modal.props && modal.props.id;\n      if (modalId && modalId === id) {\n        return modal;\n      }\n    }\n    return true;\n  }\n\n  getTopmostVisibleModal = () => { // Get topmost modal element\n    // Look for items from last (topmost) to first (bottommost) for first visible\n    for (let n = this.modalsStack.length - 1; n >= 0; n--) {\n      const modal = this.modalsStack[n];\n      const isVisible = modal.isVisible();\n      if (isVisible) {\n        return modal;\n      }\n    }\n  }\n\n  isModalTopmostVisible = (modal) => { // Is modal modal element is top-most visible?\n    const topmost = this.getTopmostVisibleModal();\n    return (modal === topmost);\n  }\n\n  // Proxy modals functionality...\n\n  setPortalProxyRef = (ref) => {\n    this.PortalProxy = ref;\n  }\n\n  // External proxy methods...\n\n  updateProxyModalsList(proxyModalsList) {\n    this.setState({ proxyModalsList });\n  }\n\n  /* DEPRECATED: Moved to ModalProxy...\n  addProxyModal(modalData) {\n    modalData = {\n      key: id,\n      id: id,\n      ...modalData,\n      onDeactivate: this.onProxyModalDeactivate,\n    };\n    const id = modalData.modalId; // || 'modal' + n;\n    // TODO: Check not-empty id and id uniqueness\n    if (!id || this.getProxyModal(id)) {\n      const error = new Error('An unique modalId must be specified');\n      console.error('ModalsController:addProxyModal: error', { error, modalData }); // eslint-disable-line no-console\n      debugger; // eslint-disable-line no-debugger\n      throw error;\n    }\n    this.setState(({ proxyModalsList }) => {\n      return { proxyModalsList: proxyModalsList.concat(modalData) };\n    });\n  }\n  removeProxyModal(modalId) {\n    // TODO: Call some actions (on close modal)?\n    this.setState(({ proxyModalsList }) => {\n      proxyModalsList = proxyModalsList.filter(modalData => modalData.modalId !== modalId);\n      return { proxyModalsList };\n    });\n  }\n  getProxyModal(modalId) {\n    const { proxyModalsList } = this.state;\n    const found = proxyModalsList.find(modalData => modalData.modalId === modalId);\n    return found;\n  }\n  isProxyModalExists(modalId) {\n    const found = this.getProxyModal(modalId);\n    return !!found;\n  }\n  updateProxyModal(modalId, options) {\n    this.setState(({ proxyModalsList }) => {\n      const foundIdx = proxyModalsList.findIndex(modalData => modalData.modalId === modalId);\n      if (foundIdx !== -1) {\n        const modalData = proxyModalsList[foundIdx];\n        // Clone array...\n        const newModals = proxyModalsList.slice();\n        const newModalData = { ...modalData, ...options };\n        newModals[foundIdx] = newModalData;\n        return { proxyModalsList: newModals };\n      }\n    });\n  }\n  onProxyModalDeactivate = (data) => {\n    let { modalId, id } = data;\n    modalId = modalId || id;\n    const modal = this.getProxyModal(modalId);\n    if (!modal) {\n      const error = new Error('Proxy modal not found for modalId=\"' + modalId + '\"');\n      console.error('ModalsController:onProxyModalDeactivate: error', { error, modalId }); // eslint-disable-line no-console\n      debugger; // eslint-disable-line no-debugger\n      throw error;\n    }\n    const { onDeactivate, onModalDeactivate } = modal;\n    console.log('RulesModals:onModalDeactivate', { modalId, modal });\n    // debugger;\n    this.removeProxyModal(modalId);\n    // Use try/catch?\n    if (typeof onDeactivate === 'function') {\n      onDeactivate(data);\n    }\n    if (typeof onModalDeactivate === 'function') {\n      onModalDeactivate(data);\n    }\n  }\n  */\n\n  saveProxyModalNode = (node) => {\n    const props = node && node.props || {};\n    const id = props.modalId || props.id;\n    if (id) {\n      this.proxyModalNodes[id] = node;\n    }\n    // console.log('ModalsController:saveProxyModalNode', id, node);\n    // debugger;\n  }\n\n  removeProxyModalNode = (id) => {\n    if (typeof id === 'object' && id.props) {\n      id = id.props.modalId || id.props.id;\n    }\n    // console.log('ModalsController:removeProxyModalNode', id);\n    // debugger;\n    const modalNode = this.proxyModalNodes[id];\n    if (modalNode) {\n      if (typeof modalNode.onRemove === 'function') {\n        modalNode.onRemove();\n      }\n      delete this.proxyModalNodes[id];\n    }\n  }\n\n  getProxyModalNode = (id) => {\n    if (this.proxyModalNodes[id]) {\n      return this.proxyModalNodes[id];\n    }\n  }\n\n  renderProxyModal(modalData/* , n */) {\n    // const id = modalData.modalId; // || 'modal' + n;\n    // // Non-empty unique id ensured in `addProxyModal`\n    // const modalProps = {\n    //   key: id,\n    //   id: id,\n    //   ...modalData,\n    //   onDeactivate: this.onProxyModalDeactivate,\n    // };\n    // return <ModalWindow {...modalProps} />;\n    return <ModalWindow {...modalData} ref={this.saveProxyModalNode} />;\n  }\n\n  renderProxyModals() {\n    const { proxyModalsList } = this.state;\n    return proxyModalsList.map(this.renderProxyModal, this);\n  }\n\n  // Render...\n\n  renderModalsController() {\n    const { containerId } = config.modals;\n    const className = cnModalsController(null, [this.props.className/* , cnModalsController('TransitionGroup') */]);\n    const renderProps = {\n      key: containerId || 'ModalsController',\n      id: containerId,\n      className,\n      ref: this.setRef, // Get dom node handler\n    };\n    /* // UNUSED: Failed `ModalsContext` test implementation\n     * return (\n     *   <ModalsContextProvider value={this}>\n     *     <div {...renderProps} />\n     *   </ModalsContextProvider>\n     * )\n     */\n    return (\n      <ErrorBoundary FallbackComponent={ErrorContainer} onError={this.onCatchedError}>\n        <div {...renderProps}>\n          <div className={cnModalsController('PortalProxy')} ref={this.setPortalProxyRef}>\n            {this.renderProxyModals()}\n          </div>\n        </div>\n      </ErrorBoundary>\n    );\n  }\n\n  render() {\n    let content = this.renderModalsController();\n    const { usePortal } = this.props;\n    // const { store } = appConfig;\n    // if (store) {\n    //   content = <Provider store={store}>{content}</Provider>;\n    // }\n    if (usePortal) {\n      // console.log('ModalsController:render', {\n      //   store,\n      //   Provider,\n      // });\n      const node = document.body; // Render as new node in top level of dom tree\n      content = <Portal node={node}>{content}</Portal>;\n    }\n    return content;\n  }\n\n}\n\nexport default ModalsController;\n","/** @module ModalsProxy\n *  @class ModalsProxy\n *  @since 2021.05.14, 14:38\n *  @changed 2021.05.31, 16:57\n */\n\nimport config from 'config';\n\nclass ModalsProxy {\n\n  _inited = false; // 'Was initialized' flag\n  _proxyModalsList = []; // List of modals (passed to `ModalsController` state to direct render\n  _modalsController = null; // Will be initialized with `ModalsController` instance reference promise in `config/modals`.\n  _storeHandlers = [];\n\n  getProxyModalNode(id) {\n    return this._modalsController.getProxyModalNode(id);\n  }\n\n  updateProxyModalsList() { // Using `this._modalsController.updateProxyModalsList`\n    if (this._modalsController) {\n      return this._modalsController.updateProxyModalsList(this._proxyModalsList);\n    }\n  }\n\n  initialize = () => {\n    this._modalsController = config.modals.controller;\n    this._inited = true;\n    if (this._proxyModalsList.length) {\n      this.updateProxyModalsList(); // Using `this._modalsController.updateProxyModalsList`\n    }\n    this._initStore();\n  }\n\n  constructor() {\n    const initPromise = this.getInitPromise();\n    initPromise.then(this.initialize);\n  }\n\n  getInitPromise() {\n    return config.modals.initPromise;\n  }\n\n  getModalsController() {\n    return this._modalsController;\n  }\n\n  // Store methods...\n\n  _initStore() {\n    const { store } = config.app;\n    if (store) {\n      store.subscribe(this._onStoreChange);\n    }\n  }\n\n  _onStoreChange = () => {\n    const { store } = config.app;\n    const state = store.getState();\n    this._storeHandlers.forEach(cb => {\n      (typeof cb === 'function') && cb(state);\n    });\n  }\n\n  addStoreChangesHandler(cb) {\n    this._storeHandlers.push(cb);\n  }\n\n  removeStoreChangesHandler(cb) {\n    const idx = this._storeHandlers.indexOf(cb);\n    if (idx !== -1) {\n      this._storeHandlers.splice(idx, 1);\n    }\n  }\n\n  /* External modal proxy interface...\n   *\n   * - addModal\n   * - removeModal\n   * - getModal\n   * - isModalExists\n   * - updateModal\n   *\n   * regexp: \\<\\(addModal\\|removeModal\\|getModal\\|isModalExists\\|updateModal\\)\\>\n   *\n   */\n\n  addModal(modalData) {\n    const modalId = modalData.modalId || modalData.id; // || 'modal' + n;\n    // Check not-empty id and id uniqueness\n    if (!modalId || this.getModal(modalId)) {\n      const error = new Error('An unique modalId must be specified');\n      console.error('ModalsController:addModal: error', { error, modalData }); // eslint-disable-line no-console\n      debugger; // eslint-disable-line no-debugger\n      throw error;\n    }\n    // Extend modal data...\n    modalData = {\n      key: modalId,\n      id: modalId,\n      ...modalData,\n      __saved__OnDeactivate: modalData.onDeactivate, // Save passed handler, using in `onModalDeactivate` handler, see below\n      onDeactivate: this.onModalDeactivate, // Overwrite with our own deactivate handler\n    };\n    // console.log('ModalsProxy:addModal', {\n    //   modalId,\n    //   modalData,\n    // });\n    this._proxyModalsList = this._proxyModalsList.concat(modalData);\n    this.updateProxyModalsList(); // Using `this._modalsController.updateProxyModalsList`\n  }\n  removeModal(modalId) {\n    // console.log('ModalsProxy:addModal', {\n    //   modalId,\n    //   'this._proxyModalsList': this._proxyModalsList,\n    // });\n    // TODO: Call some actions (on close modal)?\n    this._proxyModalsList = this._proxyModalsList.filter(modalData => modalData.modalId !== modalId);\n    this.updateProxyModalsList(); // Using `this._modalsController.updateProxyModalsList`\n    this._modalsController.removeProxyModalNode(modalId);\n  }\n  getModal(modalId) {\n    const { _proxyModalsList } = this;\n    const found = _proxyModalsList.find(modalData => modalData.modalId === modalId);\n    return found;\n  }\n  isModalExists(modalId) {\n    const found = this.getModal(modalId);\n    return !!found;\n  }\n  updateModal(modalId, options) {\n    const newModals = this._proxyModalsList.map(modalData => {\n      if (modalData.modalId === modalId) {\n        modalData = { ...modalData, ...options };\n      }\n      return modalData;\n    });\n    this._proxyModalsList = newModals;\n    this.updateProxyModalsList(); // Using `this._modalsController.updateProxyModalsList`\n  }\n  onModalDeactivate = (data) => {\n    let { modalId, id } = data;\n    modalId = modalId || id;\n    const modalData = this.getModal(modalId);\n    if (!modalData) {\n      const error = new Error('Proxy modal not found for modalId=\"' + modalId + '\"');\n      console.error('ModalsController:onModalDeactivate: error', { error, modalId }); // eslint-disable-line no-console\n      debugger; // eslint-disable-line no-debugger\n      throw error;\n    }\n    const {\n      __saved__OnDeactivate: onDeactivate,\n      onModalDeactivate,\n    } = modalData;\n    // console.log('ModalsProxy:onModalDeactivate', { modalId, modalData });\n    this.removeModal(modalId);\n    // Use try/catch?\n    if (typeof onDeactivate === 'function') {\n      onDeactivate(data);\n    }\n    if (typeof onModalDeactivate === 'function') {\n      onModalDeactivate(data);\n    }\n  }\n\n  // TODO: Implement `mapStateToProps` (as method of `ModalProxifiedWindow`?)\n\n}\n\nconst ModalsProxySingleton = new ModalsProxy();\nexport default ModalsProxySingleton;\n","/** @module elements\n *  @desc Basic elements\n *  @since 2020.10.07, 02:12\n *  @changed 2021.07.07, 18:24\n */\n\nexport { default as DateTimeSelector } from './DateTimeSelector';\nexport { default as ErrorContainer } from './ErrorContainer';\nexport { default as InlineIcon } from './InlineIcon';\nexport { default as Loader } from './Loader';\nexport { default as Menu } from './Menu';\nexport { default as MenuItem } from './MenuItem';\nexport { default as MenuItemSeparator } from './MenuItemSeparator';\nexport { default as ModalWindow } from './ModalWindow';\nexport { default as ModalProxifiedWindow } from './ModalProxifiedWindow';\nexport { default as ModalPopup } from './ModalPopup';\nexport { default as ModalPortal } from './ModalPortal';\nexport { default as ModalsProxy } from './ModalsProxy';\nexport { default as ModalsController } from './ModalsController';\n","/** @module FormActions\n *  @class FormActions\n *  @since 2021.02.15, 18:03\n *  @changed 2021.02.20, 16:43\n */\n/* eslint-disable react/require-default-props, react/no-unused-prop-types */\n\nimport React from 'react';\nimport { compose } from 'redux';\nimport PropTypes from 'prop-types';\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\n\nimport Menu from 'elements/Menu';\n\nimport FormItemHOC from '../FormItemHOC';\nimport FormGroup from '../FormGroup';\nimport FormButton from '../FormButton';\nimport FormSeparator from '../FormSeparator';\nimport ModalPopup from 'elements/ModalPopup';\n\nimport { // ActionsContext...\n  ActionsContextProvider,\n  withActionsContext,\n} from 'helpers/ActionsContext';\n\nimport './FormActions.pcss';\n\nconst cnFormActions = cn('FormActions');\n\nconst defaultActionButtonProps = {\n  theme: 'default',\n};\n\nclass FormActions extends React.PureComponent /** @lends @FormActions.prototype */ {\n\n  static propTypes = {\n    // children,\n    actions: PropTypes.oneOfType([ PropTypes.array, PropTypes.object ]),\n    actionsContextNode: PropTypes.oneOfType([ PropTypes.element, PropTypes.object ]), // ActionsContext Provider or object contained `onAction` method\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    id: PropTypes.string,\n    // layout: PropTypes.string,\n    menu: PropTypes.oneOfType([ PropTypes.array, PropTypes.object ]),\n    menuButtonTheme: PropTypes.string,\n    onAction: PropTypes.func,\n    withMenu: PropTypes.bool,\n    setPopupNodeRef: PropTypes.func,\n    // See props definitions for FormGroup\n  }\n\n  // Handlers...\n\n  onAction = (actionProps) => {\n    const {\n      id,\n      onAction,\n      actionsContextNode, // ActionsContext Provider\n      disabled,\n    } = this.props;\n    // Throw action up...\n    if (!disabled) {\n      if (id) {\n        actionProps = { ...actionProps, actionsId: id };\n      }\n      // console.log('FormActions:onAction', {\n      //   actionProps,\n      //   onAction,\n      //   actionsContextNode,\n      // });\n      // debugger;\n      if (actionsContextNode && typeof actionsContextNode.onAction === 'function') {\n        actionsContextNode.onAction(actionProps);\n      }\n      if (typeof onAction === 'function') {\n        onAction(actionProps);\n      }\n    }\n  }\n\n  onMenuAction = (actionProps) => {\n    const { popupNode } = this;\n    const { disabled } = this.props;\n    if (!disabled) {\n      // console.log('FormActions:onMenuAction', { actionProps, popupNode });\n      // debugger;\n      this.onAction(actionProps);\n      if (/* closeMenuOnAction && */ popupNode) {\n        popupNode.close();\n      }\n    }\n  }\n\n  setPopupNodeRef = (node) => {\n    const { setPopupNodeRef } = this.props;\n    this.popupNode = node;\n    if (setPopupNodeRef && typeof setPopupNodeRef === 'function') {\n      setPopupNodeRef(node);\n    }\n  }\n\n  // Render...\n\n  getClassName() {\n    const {\n      withMenu,\n      className,\n    } = this.props;\n    const mods = {\n      withMenu,\n    };\n    return cnFormActions(mods, [className]);\n  }\n\n  renderActionItem(data, n) {\n    if (React.isValidElement(data)) {\n      return data;\n    }\n    if (typeof data !== 'object') {\n      data = { text: String(data) };\n    }\n    else if (data.id === 'separator') {\n      return (<FormSeparator key={'separator' + n} />);\n    }\n    const id = data.id || 'item' + n;\n    const element = (\n      <FormButton\n        key={id}\n        id={id}\n        text={id} // Default text: would be overrided from `data` if exists\n        {...defaultActionButtonProps}\n        {...data}\n      />\n    );\n    return element;\n  }\n\n  renderMenu() {\n    const {\n      withMenu,\n      menu,\n      menuButtonTheme = 'plain',\n    } = this.props;\n    if (!withMenu && !menu) {\n      return null;\n    }\n    let menuElement;\n    const menuProps = {\n      // onClick: this.onMenuItemClick,\n      onAction: this.onMenuAction,\n    };\n    if (React.isValidElement(menu)) {\n      menuElement = React.cloneElement(menu, menuProps);\n    }\n    else {\n      menuElement = (\n        <ActionsContextProvider value={this}>\n          <Menu {...menuProps}>\n            {menu}\n          </Menu>\n        </ActionsContextProvider>\n      );\n    }\n    const popupControl = (\n      <FormButton\n        key=\"popupControl\"\n        id=\"popupControl\"\n        icon=\"faBars\"\n        theme={menuButtonTheme}\n      />\n    );\n    const menuPopup = (\n      <ModalPopup\n        key=\"menuPopup\"\n        id=\"menuPopup\"\n        popupControl={popupControl}\n        popupContent={menuElement}\n        ref={this.setPopupNodeRef}\n        // closeOnEscPressed\n      />\n    );\n    return (\n      <FormGroup\n        key=\"FormActionsMenu\"\n        id=\"FormActionsMenu\"\n        className={cnFormActions('Menu')}\n        align=\"right\"\n        flow\n      >\n        {menuPopup}\n      </FormGroup>\n    );\n  }\n\n  render() {\n    const {\n      actions,\n      children,\n      // Omit own props (do not pass to FormGroup)...\n      /* eslint-disable no-unused-vars */\n      className,\n      withMenu,\n      menu,\n      setPopupNodeRef,\n      // theme,\n      // layout,\n      /* eslint-enable no-unused-vars */\n      ...restProps\n    } = this.props;\n    let content = actions || children;\n    if (Array.isArray(content)) {\n      content = content.filter(Boolean).map(this.renderActionItem, this);\n    }\n    return (\n      <FormGroup {...restProps} className={this.getClassName()}>\n        <ActionsContextProvider value={this}>\n          {content}\n        </ActionsContextProvider>\n        {this.renderMenu()}\n      </FormGroup>\n    );\n  }\n\n}\n\nexport default compose(\n  withActionsContext,\n  FormItemHOC,\n)(FormActions);\n// export default FormItemHOC(FormActions);\n","/** @module FormBooleanHOC\n *  @class FormBooleanHOC\n *  @since 2020.12.10, 22:17\n *  @changed 2021.01.20, 23:28\n */\n/* eslint-disable react/require-default-props, react/jsx-max-depth */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { cn } from 'utils/configure';\nimport config from 'config';\n\nconst cnFormBooleanHOC = cn('FormBoolean');\n\nconst wrapFormBooleanHOC = (WrappedComponent, params = {}) => class FormBoolean extends React.Component {\n\n  static propTypes = {\n    id: PropTypes.string,\n    name: PropTypes.string,\n    value: PropTypes.bool,\n    disabled: PropTypes.bool,\n    onChange: PropTypes.func,\n  }\n\n  static defaultProps = {\n    id: params.id,\n    value: false,\n  }\n\n  // Lifecycle methods...\n\n  constructor(props) {\n    super(props);\n    // this.formItemRef = React.createRef()\n    const { value } = this.props;\n    this.id = props.id || params.id || props.inputId || props.name;\n    this.state = {\n      value,\n      active: false,\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    // this.afterUpdate();\n    /* // UNUSED: interactiveKeyPressHandler\n     * const { registerKeyPressHandler } = this.props;\n     * if (typeof registerKeyPressHandler === 'function') { // From `FormInteractiveItemHOC`\n     *   // Register callback with `FormInteractiveItemHOC`\n     *   registerKeyPressHandler(this.interactiveKeyPressHandler);\n     * }\n     */\n    // this.addEventListeners();\n  }\n\n  componentWillUnmount() {\n    // this.removeEventListeners();\n    this.mounted = false;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevValue = prevProps.value;\n    const propsValue = this.props.value;\n    const stateValue = this.state.value;\n    if (propsValue !== prevValue && propsValue !== stateValue) { // New value from props\n      this.setState({\n        value: propsValue,\n      }, this.updateValueWithState);\n    }\n    else if (stateValue !== prevState.value) { // New value from state\n      this.updateValueWithState(this.state);\n    }\n    // this.afterUpdate(); // ???\n  }\n\n  // Helper methods...\n\n  getClassName() {\n    const { id } = this;\n    // const { id } = this.props\n    const { value } = this.state;\n    const checked = !!value;\n    const mods = { id, checked };\n    const classList = cnFormBooleanHOC(mods, [this.props.className]);\n    return classList;\n  }\n\n  /* // focus, blur -- ???\n   * focus() { // Invoke containing input focus method\n   *   if (this.inputDomElem && typeof this.inputDomElem.focus == 'function') {\n   *     this.inputDomElem.focus()\n   *   }\n   * }\n   * blur() { // Invoke containing input blur method\n   *   if (this.inputDomElem && typeof this.inputDomElem.blur == 'function') {\n   *     this.inputDomElem.blur()\n   *   }\n   * }\n   */\n\n  updateValueWithState = (state) => {\n    const { onChange, disabled } = this.props;\n    if (!disabled && typeof onChange === 'function') {\n      const { value } = state;\n      onChange({ id: this.id, value });\n    }\n  }\n\n  // Events...\n\n  /* // UNUSED: interactiveKeyPressHandler\n   * interactiveKeyPressHandler = (params) => { // NOTE: State changed automatically by html input control. This code is redundant.\n   *   const { isSpacePressed } = params;\n   *   if (isSpacePressed) { // Toggle state if space pressed\n   *     // this.handleChange();\n   *     // To return false for cancel furher actions processing?\n   *   }\n   * }\n   */\n\n  handleChange = (params) => {\n    this.setState(({ value: stateValue }) => {\n      let value = params && params.value;\n      if (value == null) {\n        value = !stateValue;\n      }\n      return { active: true, value };\n    });\n    setTimeout(() => {\n      this.setState({ active: false });\n    }, config.css.transitionTime);\n  }\n\n  setDomRef = (inputDomElem) => {\n    this.inputDomElem = inputDomElem;\n    const { setDomRef } = this.props;\n    if (typeof setDomRef === 'function') {\n      setDomRef(inputDomElem);\n    }\n  }\n\n  // Render...\n\n  render() {\n    const {\n      id,\n      disabled,\n    } = this.props;\n    const { active, value } = this.state;\n    const renderProps = {\n      id,\n      className: this.getClassName(),\n      disabled,\n      value,\n      active,\n      handleChange: this.handleChange,\n      setDomRef: this.setDomRef,\n      setInputDomRef: this.setInputDomRef,\n    };\n    return (\n      <WrappedComponent\n        {...this.props}\n        {...renderProps}\n        // id={id}\n      />\n    );\n  }\n\n};\n\n/** Usage:\n * FormBooleanHOC(component)\n * FormBooleanHOC(params)(component)\n */\nconst FormBooleanHOC = (params) => {\n  if (typeof params === 'string') { // Passed identifier\n    params = { id: params };\n  }\n  if (typeof params === 'object') { // Params passed -> metafabric\n    return (component) => wrapFormBooleanHOC(component, params);\n  }\n  else { // Component passed -> simple fabric\n    return wrapFormBooleanHOC(params);\n  }\n};\n\n// export default FormItemHOC({ hoverable: true, focusable: true, framed: false })(FormBooleanHOC)\nexport default FormBooleanHOC;\n\n","/** @module FormButtonGroup\n *  @class FormButtonGroup\n *  @since 2020.10.21, 23:43\n *  @changed 2020.10.21, 23:43\n */\n/* eslint-disable react/require-default-props */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\n\nimport FormItemHOC from '../FormItemHOC';\nimport FormGroup from '../FormGroup';\n\nimport './FormButtonGroup.pcss';\n\nconst classNameModifiers = [\n  // Basic element properties\n  'id',\n  // Style-related modifiers...\n  // 'align',\n  // 'padded',\n  // 'background',\n  // 'flow',\n  // 'fullWidth',\n];\n\nconst cnFormButtonGroup = cn('FormButtonGroup');\n\nclass FormButtonGroup extends React.PureComponent /** @lends @FormButtonGroup.prototype */ {\n\n  static propTypes = {\n    id: PropTypes.string,\n    // flow: PropTypes.bool,\n  }\n\n  getClassName() {\n    const mods = classNameModifiers.reduce((mods, id) => {\n      const val = this.props[id];\n      if (val != null) {\n        return { ...mods, [id]: val };\n      }\n      return mods;\n    }, {});\n    return cnFormButtonGroup(mods, [this.props.className]);\n  }\n\n  // Render...\n\n  render() {\n    // const {\n    //   id,\n    //   // name,\n    //   // disabled,\n    //   children,\n    //   content,\n    // } = this.props\n    return (\n      <FormGroup {...this.props} className={this.getClassName()} />\n    );\n  }\n\n}\n\nexport default FormItemHOC(FormButtonGroup);\n","/** @module FormButton\n *  @class FormButton\n *  @since 2020.07.20, 19:07\n *  @changed 2021.07.07, 19:52\n */\n\nimport React from 'react';\nimport { compose } from 'redux';\nimport PropTypes from 'prop-types';\n// import connect from 'react-redux/es/connect/connect';\nimport { cn } from 'utils/configure';\nimport { withActionsContext } from 'helpers/ActionsContext';\nimport config from 'config';\n\nimport FormItemHOC from '../FormItemHOC';\n\nimport InlineIcon from 'elements/InlineIcon';\n\nimport './FormButton.pcss';\nimport './FormButton-Variations.pcss';\nimport './FormButton-Themes.pcss';\n\nconst cnFormButton = cn('FormButton');\n\nconst defaultTag = 'button'; // 'div'; // `button` element is 'labelable', @see `https://stackoverflow.com/questions/54792126/html-label-with-for-div-id-to-focus-a-contenteditable-div-does-label-label`\n\nclass FormButton extends React.PureComponent /** @lends @FormButton.prototype */ {\n\n  static propTypes = { // TODO!!!\n    // TODO: size: PropTypes.string, // Different form item sizes? (eg: md -- default, sm, xs, lg, xl, xxl)\n    checked: PropTypes.bool, // FormItem: Checked state\n    disabled: PropTypes.bool,\n    fullWidth: PropTypes.bool, // Occupies all horizontal space\n    hasIcon: PropTypes.bool, // Optional\n    hasText: PropTypes.bool, // Optional\n    icon: PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]), // Icon component. May be as image resource loaded with `file/url-loader` as `FontAwesomeIcon` component.\n    id: PropTypes.string,\n    inline: PropTypes.bool,\n    largeIcon: PropTypes.bool, // Large icon\n    onClick: PropTypes.func,\n    onDark:  PropTypes.bool, // On dark background\n    onlyIcon: PropTypes.bool, // Only icon\n    plain: PropTypes.bool, // ??? Plain icon (no border & background -- if no style specified, looks as link)\n    rightIcon: PropTypes.bool, // Icon placed at right side\n    text: PropTypes.string, // Text content (may be passed as node children)\n    theme: PropTypes.string, // Button style (plain, default, primary, secondary, error, warn, success, info, etc -- some are in progress -- see styles file)\n    style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    // setDomRef: PropTypes.func,\n    // setNodeRef: PropTypes.func,\n  }\n\n  // Lifecycle...\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.mounted = true;\n    if (props.setNodeRef) {\n      props.setNodeRef(this);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  // Helpers...\n\n  hasIcon() {\n    const { icon, hasIcon } = this.props;\n    return !!(hasIcon || icon);\n  }\n\n  hasText() {\n    const {\n      hasText,\n      onlyIcon,\n      children,\n      text,\n    } = this.props;\n    return !onlyIcon && !!(hasText || text || children);\n  }\n\n  getClassName() {\n    // TODO: Refactor properties!\n    const {\n      // plain,\n      checked,\n      fullWidth,\n      id,\n      inline,\n      largeIcon,\n      onDark,\n      onlyIcon,\n      plain,\n      rightIcon,\n      rotatedIcon,\n      theme,\n      type,\n      variation,\n    } = this.props;\n    const { active } = this.state;\n    const mods = {\n      // plain,\n      checked,\n      fullWidth,\n      id,\n      inline,\n      largeIcon,\n      onDark,\n      onlyIcon,\n      plain,\n      rightIcon,\n      rotatedIcon,\n      theme,\n      type,\n      variation,\n      // State..\n      active,\n    };\n    const staticMods = {\n      solid: true,\n    };\n    const classList = cnFormButton({\n      ...staticMods,\n      ...mods,\n      hasIcon: this.hasIcon(),\n      hasText: this.hasText(),\n    }, [this.props.className]);\n    return classList;\n  }\n\n  // Handlers...\n\n  focus = () => {\n    const { formItemNode } = this.props;\n    // console.log('FormButton:focus');\n    formItemNode && formItemNode.focus && formItemNode.focus();\n  }\n  blur = () => {\n    const { formItemNode } = this.props;\n    // console.log('FormButton:blur');\n    formItemNode && formItemNode.blur && formItemNode.blur();\n  }\n\n  onClick = (/* event */) => {\n    const {\n      id,\n      actionsContextNode, // ActionsContext Provider\n      disabled,\n      onClick,\n      // clickable,\n    } = this.props;\n    if (!disabled) {\n      const hasOnClick = onClick && typeof onClick === 'function';\n      const actionProps = {\n        // ...event,\n        id,\n      };\n      const result = hasOnClick ? onClick(actionProps) : undefined; // true;\n      if (result !== false && actionsContextNode && typeof actionsContextNode.onAction === 'function') {\n        Promise.resolve(result).then((result) => {\n          if (result !== false) { // Check for non-false value\n            actionsContextNode.onAction({ ...actionProps, result });\n          }\n        });\n      }\n      this.setState({ active: true });\n      setTimeout(() => {\n        if (this.mounted) {\n          this.setState({ active: false });\n        }\n      }, config.css.transitionTime);\n    }\n  }\n\n  // Render...\n\n  renderIcon() {\n    const hasIcon = this.hasIcon();\n    if (hasIcon) {\n      const { icon } = this.props;\n      if (icon && icon.type === InlineIcon) { // Already InlineIcon\n        // Extend with updated `className` props\n        const props = {\n          ...icon.props,\n          className: cnFormButton('Icon', [icon.props.className]),\n        };\n        const newIcon = { ...icon, props };\n        return newIcon;\n      }\n      return (\n        <InlineIcon icon={icon} className={cnFormButton('Icon')} />\n      );\n    }\n  }\n\n  renderText() {\n    const hasText = this.hasText(); // !onlyIcon && !!(hasText || text || children\n    if (hasText) {\n      const { text, children } = this.props;\n      return hasText && (\n        <span className={cnFormButton('Text')}>\n          {text || children}\n        </span>\n      );\n    }\n  }\n\n  render() {\n\n    const {\n      id,\n      inputId,\n      disabled,\n      tag,\n      type,\n      title,\n      setDomRef, // From FormItemHOC\n      // actionsContextNode,\n      style,\n    } = this.props;\n\n    const iconElem = this.renderIcon(); // Icon element\n    const textElem = this.renderText(); // Text element\n\n    // const basicRenderProps = this.getRenderProps() // Get from props not from overrided `super`\n    const renderProps = {\n      // ...basicRenderProps,\n      id: inputId || id,\n      className: this.getClassName(),\n      disabled,\n      title,\n      type,\n      onClick: this.onClick,\n      ref: setDomRef, // Init ref for FormItemHOC\n      tabIndex: 0,\n      style,\n    };\n\n    const content = (\n      <React.Fragment>\n        {iconElem}\n        {textElem}\n      </React.Fragment>\n    );\n\n    const tagName = tag || defaultTag;\n    const element = React.createElement(tagName, renderProps, content);\n    return element;\n  }\n\n}\n\n// export default FormItemHOC({ solid: true, hoverable: true, framed: true })(FormButton)\nexport default compose(\n  withActionsContext,\n  FormItemHOC({ solid: true, hoverable: true, focusable: true, framed: true }),\n)(FormButton);\n","/** @module FormContainer\n *  @class FormContainer\n *  @since 2021.02.20, 16:55\n *  @changed 2021.02.20, 16:56\n */\n\nimport React from 'react';\nimport { cn } from 'utils/configure';\n\nimport './FormContainer.pcss';\n\nconst cnFormContainer = cn('FormContainer');\n\nconst FormContainer = (props) => {\n  const {\n    children,\n    spaced,\n  } = props;\n  return (\n    <div className={cnFormContainer({ spaced })}>\n      {children}\n    </div>\n  );\n};\n\nexport default FormContainer;\n","/** @module FormDateRangeSingleBox\n *  @class FormDateRangeSingleBox\n *  @since 2021.01.26, 13:19\n *  @changed 2021.01.26, 13:19\n *\n *  TODO 2020.12.16, 23:07 -- Add hidden html form element (for form submission)\n */\n/* eslint-disable react/require-default-props */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\n\nimport config from 'config';\n\nimport FormItemHOC from '../FormItemHOC';\n\nimport ModalPopup from 'elements/ModalPopup';\nimport FormButton from 'forms/FormButton';\n\nimport DateTimeSelector from 'elements/DateTimeSelector';\n\n// import * as langUtils from 'utils/lang';\n// // getCommonLangText('cancelButton', 'Cancel', lang)}\n\nimport * as dateUtils from 'utils/dates';\n\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCalendarCheck } from '@fortawesome/free-solid-svg-icons';\nimport { faCalendar } from '@fortawesome/free-regular-svg-icons';\n\nimport './FormDateRangeSingleBox.pcss';\n\nconst cnFormDateRangeSingleBox = cn('FormDateRangeSingleBox');\n\n// const defaultDateType = 'number';\n\nclass FormDateRangeSingleBox extends React.PureComponent /** @lends @FormDateRangeSingleBox.prototype */ {\n\n  static propTypes = {\n    // selectsEnd: PropTypes.bool,\n    // selectsStart: PropTypes.bool,\n    // value: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date) ]),\n    calendarClassName: PropTypes.string,\n    className: PropTypes.string,\n    closeOnSelect: PropTypes.bool,\n    controlButtonTheme: PropTypes.string,\n    disabled: PropTypes.bool,\n    endDate: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date) ]),\n    fullWidth: PropTypes.bool,\n    id: PropTypes.string,\n    inputId: PropTypes.string,\n    onChange: PropTypes.func,\n    onStartDateChange: PropTypes.func,\n    onEndDateChange: PropTypes.func,\n    onControlClick: PropTypes.func,\n    open: PropTypes.bool,\n    placeholder: PropTypes.string,\n    setDomRef: PropTypes.func,\n    setPopupNodeRef: PropTypes.func,\n    showTime: PropTypes.bool,\n    startDate: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date) ]),\n    timeIntervals: PropTypes.number,\n    title: PropTypes.string,\n  }\n\n  // Lifecycle methods...\n\n  constructor(props) {\n    super(props);\n    const {\n      // value,\n      startDate,\n      endDate,\n      // selectsRange,\n    } = props;\n    this.id = props.id || props.inputId || props.name;\n    // const dateType = props.dateType || dateUtils.detectDateValueType(startDate || endDate) || defaultDateType;\n    this.state = {\n      // dateType,\n      startDate, // : startDate && dateUtils.convertToDateObject(startDate),\n      endDate, // : endDate && dateUtils.convertToDateObject(endDate),\n    };\n    this.state.displayValue = this.getDisplayValue(this.state);\n  }\n\n  // Helper methods...\n\n  getClassName() {\n    const { id } = this;\n    const classList = cnFormDateRangeSingleBox({\n      id,\n    }, [this.props.className]);\n    return classList;\n  }\n\n  getItemsText() {\n    const { displayValue } = this.state;\n    return displayValue;\n  }\n\n  // Handlers...\n\n  onControlClick = (params) => {\n    const { onControlClick } = this.props;\n    if (typeof onControlClick === 'function') {\n      onControlClick(params);\n    }\n  }\n\n  getDisplayValue(params) {\n    params = params || this.state;\n    const {\n      // value,\n      startDate,\n      endDate,\n    } = params;\n    const {\n      showTime,\n      // selectsRange,\n    } = this.props;\n    const dateFormat = showTime ? config.constants.dateTimeFormat : config.constants.dateFormat;\n    return [\n      startDate && dateUtils.formatDateToString(startDate, dateFormat),\n      endDate && dateUtils.formatDateToString(endDate, dateFormat),\n    ].filter(Boolean).join(config.constants.dateRangeDelim);\n  }\n\n  onChange = ({ startDate, startDateObj, endDate, endDateObj, value, valueObj, selectedStart }) => {\n    const {\n      onChange,\n      closeOnSelect,\n      onStartDateChange,\n      onEndDateChange,\n    } = this.props;\n    const setParams = { id: this.id, startDate, startDateObj, endDate, endDateObj, value, valueObj, selectedStart };\n    setParams.displayValue = this.getDisplayValue(setParams); // dateUtils.formatDateToString(value); // TODO: showTime option\n    // console.log('FormDateRangeSingleBox:onChange', setParams);\n    this.setState(setParams);\n    if (typeof onChange === 'function') {\n      onChange(setParams);\n    }\n    if (selectedStart && typeof onStartDateChange === 'function') {\n      onStartDateChange(setParams);\n    }\n    if (!selectedStart && typeof onEndDateChange === 'function') {\n      onEndDateChange(setParams);\n    }\n    if (closeOnSelect /* && lastRangeChanged && lastRangeChanged !== rangeId */ && this.popupNode) {\n      this.popupNode.close();\n    }\n  }\n\n  setPopupRef = (node) => {\n    const { setPopupNodeRef } = this.props;\n    this.popupNode = node;\n    if (setPopupNodeRef && typeof setPopupNodeRef === 'function') {\n      setPopupNodeRef(node);\n    }\n  }\n\n  handleOpenState = ({ open }) => {\n    this.setState({ open });\n  }\n\n  // Render...\n\n  renderControlContent() {\n    const {\n      // text,\n      placeholder,\n      title,\n      controlButtonTheme,\n      fullWidth = true,\n      disabled,\n    } = this.props;\n    const {\n      open,\n    } = this.state;\n    // const icon = open ? 'faCalendarCheck' : 'regular:faCalendar';\n    const icon = open ? faCalendarCheck : faCalendar;\n    const buttonText = this.getItemsText() || placeholder; // || text;\n    return (\n      <FormButton\n        icon={icon}\n        rightIcon\n        theme={controlButtonTheme || 'default'}\n        variation=\"popupControl\"\n        text={buttonText}\n        title={title}\n        fullWidth={fullWidth}\n        disabled={disabled}\n        checkable\n        checked={open}\n      />\n    );\n  }\n\n  renderPopupContent() {\n    const {\n      startDate,\n      endDate,\n    } = this.state;\n    const {\n      calendarClassName,\n      id,\n      inputId,\n      showTime,\n      timeIntervals,\n    } = this.props;\n    const dateSelectorProps = {\n      id,\n      inputId,\n      onChange: this.onChange,\n      startDate,\n      endDate,\n      inline: true,\n      calendarClassName,\n      showTime,\n      timeIntervals,\n      selectsRange: true,\n    };\n    return (\n      <DateTimeSelector {...dateSelectorProps} />\n    );\n  }\n\n  render() {\n    const {\n      id,\n      disabled,\n      title,\n      open,\n      fullWidth,\n      setDomRef,\n    } = this.props;\n    const popupControl = this.renderControlContent();\n    const popupContent =  this.renderPopupContent();\n    const popupProps = {\n      id,\n      className: this.getClassName(),\n      // contentClassName: 'XXX', // ???\n      disabled,\n      title,\n      open,\n      popupControl,\n      popupContent,\n      onControlClick: this.onControlClick,\n      fullWidth,\n      ref: this.setPopupRef,\n      setDomRef,\n      handleOpenState: this.handleOpenState,\n    };\n    return (\n      <ModalPopup {...popupProps} />\n    );\n  }\n\n}\n\nexport default FormItemHOC({ solid: true, hoverable: true })(FormDateRangeSingleBox);\n","/** @module FormDateRange\n *  @class FormDateRange\n *  @since 2021.01.26, 13:19\n *  @changed 2021.03.11, 22:16\n *\n *  TODO 2020.12.16, 23:07 -- Add hidden html form element (for form submission)\n */\n/* eslint-disable react/require-default-props */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { cn } from 'utils/configure';\n\nimport config from 'config';\nimport * as formUtils from 'utils/forms';\nimport * as dateUtils from 'utils/dates';\n\nimport * as langUtils from 'utils/lang';\n// // langUtils.getCommonLangText('cancelButton', 'Cancel', lang)\n\nimport FormGroup from 'forms/FormGroup';\nimport FormDateTime from 'forms/FormDateTime';\nimport FormLabel from 'forms/FormLabel';\nimport FormItemHOC from 'forms/FormItemHOC';\n\nimport './FormDateRange.pcss';\n\nconst cnFormDateRange = cn('FormDateRange');\n\nclass FormDateRange extends React.PureComponent /** @lends @FormDateRange.prototype */ {\n\n  static propTypes = {\n    selectsEnd: PropTypes.bool,\n    selectsStart: PropTypes.bool,\n    // value: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date) ]),\n    calendarClassName: PropTypes.string,\n    className: PropTypes.string,\n    closeOnSelect: PropTypes.bool,\n    controlButtonTheme: PropTypes.string,\n    disabled: PropTypes.bool,\n    endDate: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date) ]),\n    fullWidth: PropTypes.bool,\n    id: PropTypes.string,\n    inputId: PropTypes.string,\n    onChange: PropTypes.func,\n    onStartDateChange: PropTypes.func,\n    onEndDateChange: PropTypes.func,\n    onControlClick: PropTypes.func,\n    open: PropTypes.bool,\n    placeholder: PropTypes.string,\n    setDomRef: PropTypes.func,\n    setPopupNodeRef: PropTypes.func,\n    showTime: PropTypes.bool,\n    startDate: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date) ]),\n    timeIntervals: PropTypes.number,\n    title: PropTypes.string,\n  };\n\n  // defaultProps = {\n  //   timeIntervals: 60,\n  // };\n\n  // Lifecycle methods...\n\n  constructor(props) {\n    super(props);\n    const {\n      // value,\n      startDate,\n      endDate,\n      showTime,\n      timeIntervals = config.constants.timeIntervals,\n      // selectsRange,\n    } = props;\n    this.id = props.id || props.inputId;\n    this.uniqFormId = props.inputId || props.id || formUtils.getUniqFormId({ prefix: 'FormDateRange' }); // identifier for local labels refering to local inputs\n    // const dateType = props.dateType || dateUtils.detectDateValueType(startDate || endDate) || defaultDateType;\n\n    // Default date (now)\n    this.now = new Date(props.now || Date.now()); // Date.now()\n\n    // Default start date (beginning of the day)\n    this.startNow = dateUtils.adjustDateValue(this.now, false, showTime, timeIntervals);\n    // this.startNow = new Date(this.now);\n    // this.startNow.setHours(0);\n    // this.startNow.setMinutes(0);\n    // this.startNow.setSeconds(0);\n    // this.startNow.setMilliseconds(0);\n\n    // Default end date (end of the day)\n    this.endNow = dateUtils.adjustDateValue(this.now, true, showTime, timeIntervals);\n    // this.endNow = new Date(this.now);\n    // this.endNow.setHours(23);\n    // this.endNow.setMinutes(59);\n    // this.endNow.setSeconds(59);\n    // this.endNow.setMilliseconds(999);\n\n    this.state = {\n      // dateType,\n      startDate, // : startDate && dateUtils.convertToDateObject(startDate),\n      endDate, // : endDate && dateUtils.convertToDateObject(endDate),\n    };\n    // this.state.displayValue = this.getDisplayValue(this.state);\n  }\n\n  // Helper methods...\n\n  getClassName() {\n    const { id } = this;\n    const {\n      fullWidth,\n    } = this.props;\n    const className = cnFormDateRange({\n      id,\n      fullWidth, // ???\n    }, [this.props.className]);\n    return className;\n  }\n\n  // Handlers...\n\n  handleChange = (params) => {\n    const {\n      id,\n      value,\n      valueObj,\n      // displayValue,\n    } = params;\n    const {\n      onChange,\n      onStartDateChange,\n      onEndDateChange,\n    } = this.props;\n    const {\n      startDate,\n      endDate,\n    } = this.state;\n    const selectedStart = id === 'startDate';\n    const stateParams = {\n      startDate,\n      endDate,\n    };\n    stateParams[id] = value;\n    const cbParams = {\n      ...stateParams,\n      id: this.id,\n      selectedStart,\n      valueId: id,\n      value,\n      valueObj,\n    };\n    // console.log('FormDateRange:handleChange', {\n    //   stateParams,\n    //   cbParams,\n    // });\n    this.setState(stateParams);\n    if (typeof onChange === 'function') {\n      onChange(cbParams);\n    }\n    if (selectedStart && typeof onStartDateChange === 'function') {\n      onStartDateChange(cbParams);\n    }\n    if (!selectedStart && typeof onEndDateChange === 'function') {\n      onEndDateChange(cbParams);\n    }\n  }\n\n  // Render...\n\n  render() {\n    const {\n      id,\n      disabled,\n      // title,\n      // open,\n      // fullWidth,\n      // setDomRef,\n      // language: { components: { lang } },\n      // value,\n      // placeholder,\n      startLabel,\n      endLabel,\n      startPlaceholder,\n      endPlaceholder,\n      showTime,\n      timeIntervals = config.constants.timeIntervals,\n      allowEmpty,\n      // // Skip our own parameters from props...\n      // [> eslint-disable no-unused-vars <]\n      // valueType,\n      // className,\n      // value: unusedValue,\n      // onChange,\n      // name,\n      // inputId,\n      // now,\n      // dispatch,\n      // [> eslint-enable no-unused-vars <]\n      // ...props\n    } = this.props;\n    const {\n      startDate,\n      endDate,\n    } = this.state;\n\n    const renderProps = {\n      className: this.getClassName(),\n      disabled,\n      flow: true,\n      id,\n    };\n\n    // console.log('FormDateRange:render', {\n    //   startDate,\n    //   endDate,\n    //   props,\n    // });\n\n    const uniqStartId = this.uniqFormId + 'StartDate';\n    const uniqEndId = this.uniqFormId + 'EndDate';\n\n    const startLabelText = startLabel; // || ''\n    const endLabelText = endLabel; // || ''\n\n    const startPlaceholderText = startPlaceholder || langUtils.getCommonLangText('from');\n    const endPlaceholderText = endPlaceholder || langUtils.getCommonLangText('to');\n\n    const commonProps = {\n      // startDate,\n      // endDate,\n      showTime,\n      timeIntervals,\n      allowEmpty,\n    };\n    return (\n      <FormGroup {...renderProps}>\n        {startLabelText && (<FormLabel\n          htmlFor={uniqStartId}\n          text={startLabelText}\n        />)}\n        <FormDateTime\n          {...commonProps}\n          selectsStart\n          name=\"startDate\"\n          id=\"startDate\"\n          inputId={uniqStartId}\n          startDate={startDate}\n          endDate={endDate}\n          value={startDate}\n          placeholder={startPlaceholderText}\n          now={this.startNow}\n          maxDate={endDate}\n          onChange={this.handleChange}\n        />\n        {endLabelText && (<FormLabel\n          htmlFor={uniqEndId}\n          text={endLabelText}\n        />)}\n        <FormDateTime\n          {...commonProps}\n          selectsEnd\n          name=\"endDate\"\n          id=\"endDate\"\n          inputId={uniqEndId}\n          startDate={startDate}\n          endDate={endDate}\n          value={endDate}\n          placeholder={endPlaceholderText}\n          now={this.endNow}\n          minDate={startDate}\n          onChange={this.handleChange}\n          isEndDate\n        />\n      </FormGroup>\n    );\n  }\n\n}\n\nexport default FormItemHOC({ solid: true, hoverable: true })(FormDateRange);\n","/** @module FormDateTime\n *  @class FormDateTime\n *  @since 2021.01.23, 19:44\n *  @changed 2021.01.23, 19:44\n *\n *  TODO 2020.12.16, 23:07 -- Add hidden html form element (for form submission)\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\n\nimport config from 'config';\n\nimport FormItemHOC from '../FormItemHOC';\n\nimport ModalPopup from 'elements/ModalPopup';\nimport FormButton from 'forms/FormButton';\n\nimport DateTimeSelector from 'elements/DateTimeSelector';\n\n// import * as langUtils from 'utils/lang';\n// // getCommonLangText('cancelButton', 'Cancel', lang)}\n\nimport * as dateUtils from 'utils/dates';\n\nimport { faCalendarCheck } from '@fortawesome/free-solid-svg-icons';\nimport { faCalendar } from '@fortawesome/free-regular-svg-icons';\n\nimport './FormDateTime.pcss';\n\nconst cnFormDateTime = cn('FormDateTime');\n\n// const defaultDateType = 'number';\n\nclass FormDateTime extends React.PureComponent /** @lends @FormDateTime.prototype */ {\n\n  static propTypes = {\n    calendarClassName: PropTypes.string,\n    className: PropTypes.string,\n    closeOnSelect: PropTypes.bool,\n    controlButtonTheme: PropTypes.string,\n    disabled: PropTypes.bool,\n    fullWidth: PropTypes.bool,\n    id: PropTypes.string,\n    inputId: PropTypes.string,\n    onChange: PropTypes.func,\n    onControlClick: PropTypes.func,\n    open: PropTypes.bool,\n    placeholder: PropTypes.string,\n    selectsEnd: PropTypes.bool,\n    selectsRange: PropTypes.bool,\n    selectsStart: PropTypes.bool,\n    setDomRef: PropTypes.func,\n    setPopupNodeRef: PropTypes.func,\n    showTime: PropTypes.bool,\n    title: PropTypes.string,\n    value: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date) ]),\n  }\n\n  // Lifecycle methods...\n\n  constructor(props) {\n    super(props);\n    const {\n      value,\n    } = props;\n    this.id = props.id || props.inputId; // || props.name;\n    this.state = {\n      value,\n    };\n    this.state.displayValue = this.getDisplayValue(this.state);\n  }\n\n  // Helper methods...\n\n  getClassName() {\n    const { id } = this;\n    const classList = cnFormDateTime({\n      id,\n    }, [this.props.className]);\n    return classList;\n  }\n\n  getItemsText() {\n    const { displayValue } = this.state;\n    return displayValue;\n  }\n\n  // Handlers...\n\n  onControlClick = (params) => {\n    const { onControlClick } = this.props;\n    if (typeof onControlClick === 'function') {\n      onControlClick(params);\n    }\n  }\n\n  getDisplayValue(params) {\n    params = params || this.state;\n    const {\n      value,\n    } = params;\n    const {\n      showTime,\n    } = this.props;\n    const dateFormat = showTime ? config.constants.dateTimeFormat : config.constants.dateFormat;\n    return dateUtils.formatDateToString(value, dateFormat);\n  }\n\n  onChange = ({ value, valueObj }) => {\n    const {\n      onChange,\n      closeOnSelect,\n    } = this.props;\n    let setParams = { id: this.id, value, valueObj };\n    setParams.displayValue = this.getDisplayValue(setParams); // dateUtils.formatDateToString(value); // TODO: showTime option\n    // console.log('FormDateTime:onChange', setParams);\n    this.setState(setParams);\n    if (typeof onChange === 'function') {\n      onChange(setParams);\n    }\n    if (closeOnSelect && this.popupNode) {\n      this.popupNode.close();\n    }\n  }\n\n  setPopupRef = (node) => {\n    const { setPopupNodeRef } = this.props;\n    this.popupNode = node;\n    if (setPopupNodeRef && typeof setPopupNodeRef === 'function') {\n      setPopupNodeRef(node);\n    }\n  }\n\n  handleOpenState = ({ open }) => {\n    this.setState({ open });\n  }\n\n  // Render...\n\n  renderControlContent() {\n    const {\n      id,\n      inputId,\n      placeholder,\n      title,\n      controlButtonTheme,\n      fullWidth = true,\n      disabled,\n    } = this.props;\n    const {\n      open,\n    } = this.state;\n    // const icon = open ? 'faCalendarCheck' : 'regular:faCalendar';\n    const icon = open ? faCalendarCheck : faCalendar;\n    const buttonText = this.getItemsText() || placeholder; // || text;\n    return (\n      <FormButton\n        id={id}\n        inputId={inputId}\n        icon={icon}\n        rightIcon\n        theme={controlButtonTheme || 'default'}\n        variation=\"popupControl\"\n        text={buttonText}\n        title={title}\n        fullWidth={fullWidth}\n        disabled={disabled}\n      />\n    );\n  }\n\n  renderDateSelectorContent() {\n    const {\n      value,\n    } = this.state;\n    const {\n      id,\n      inputId,\n      showTime,\n      timeIntervals,\n      selectsRange,\n      calendarClassName,\n      selectsStart,\n      selectsEnd,\n      startDate,\n      endDate,\n      minDate,\n      maxDate,\n      now,\n      isEndDate,\n    } = this.props;\n    const dateSelectorProps = {\n      id,\n      inputId,\n      inline: true,\n      calendarClassName,\n      onChange: this.onChange,\n      value,\n      showTime,\n      timeIntervals,\n      selectsRange,\n      selectsStart,\n      selectsEnd,\n      startDate,\n      endDate,\n      minDate,\n      maxDate,\n      now,\n      isEndDate,\n    };\n    // console.log('FormDateTime:renderDateSelectorContent', {\n    //   dateSelectorProps,\n    // });\n    return (\n      <DateTimeSelector {...dateSelectorProps} />\n    );\n  }\n\n  render() {\n\n    const {\n      // id,\n      disabled,\n      title,\n      open,\n      fullWidth,\n      setDomRef,\n    } = this.props;\n\n    const controlContent = this.renderControlContent();\n    const dateSelectorContent =  this.renderDateSelectorContent();\n\n    const popupProps = {\n      // id,\n      className: this.getClassName(),\n      disabled,\n      title,\n      open,\n      popupControl: controlContent,\n      popupContent: dateSelectorContent,\n      onControlClick: this.onControlClick,\n      fullWidth,\n      ref: this.setPopupRef,\n      setDomRef,\n      handleOpenState: this.handleOpenState,\n    };\n\n    return (\n      <ModalPopup {...popupProps} />\n    );\n\n  }\n\n}\n\nexport default FormItemHOC({ solid: true, hoverable: true })(FormDateTime);\n","/** @module FormDelim\n *  @class FormDelim\n *  @since 2020.11.27, 12:52\n *  @changed 2020.11.27, 12:52\n */\n\nimport React from 'react';\nimport { cn } from 'utils/configure';\n\nimport './FormDelim.pcss';\n\nconst FormDelim = (props) => {\n  const { id } = props;\n  const className = cn('FormDelim')({ id }, [props.className]);\n  return (\n    <div className={className} />\n  );\n};\n\nexport default FormDelim;\n","/** @module FormGroup\n *  @class FormGroup\n *  @since 2020.07.20, 19:07\n *  @changed 2021.02.20, 19:09\n */\n/* eslint-disable react/require-default-props, react/no-unused-prop-types */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { cn } from 'utils/configure';\n\nimport FormItemHOC from '../FormItemHOC';\nimport FormSeparator from '../FormSeparator';\nimport FormContainer from '../FormContainer';\n\nimport './FormGroup.pcss';\nimport './FormGroup-Layout.pcss';\nimport './FormGroup-Variations.pcss';\n\nconst cnFormGroup = cn('FormGroup');\n\nclass FormGroup extends React.PureComponent /** @lends @FormGroup.prototype */ {\n\n  static propTypes = {\n    // background: PropTypes.string,\n    align: PropTypes.string,\n    alignItems: PropTypes.string,\n    className: PropTypes.string,\n    content: PropTypes.element, // ???\n    disabled: PropTypes.bool, // ???\n    flow: PropTypes.bool,\n    fullWidth: PropTypes.bool,\n    id: PropTypes.string,\n    noSpace: PropTypes.bool,\n    noWrap: PropTypes.bool,\n    padded: PropTypes.bool,\n    separated: PropTypes.bool,\n    shaded: PropTypes.bool,\n    spaced: PropTypes.bool,\n    stack: PropTypes.bool,\n    wrap: PropTypes.bool,\n    withContainer: PropTypes.bool,\n  }\n\n  static classNameModifiers = [\n    // Basic element properties\n    'id',\n    // Style-related modifiers...\n    'align',\n    'alignItems',\n    // 'background',\n    'flow',\n    'fullWidth',\n    'noSpace',\n    'noWrap',\n    'padded',\n    'separated',\n    'shaded',\n    'spaced',\n    'stack',\n    'wrap',\n    // 'disabled',\n  ]\n\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  getClassName() {\n    const mods = FormGroup.classNameModifiers.reduce((mods, id) => {\n      const val = (this.state[id] != null) ? this.state[id] : this.props[id];\n      if (val != null) {\n        return { ...mods, [id]: val };\n      }\n      return mods;\n    }, {});\n    return cnFormGroup(mods, [this.props.className]);\n  }\n\n  // Render...\n\n  render() {\n    const {\n      id,\n      // name,\n      // disabled,\n      children,\n      content,\n      separated,\n      withContainer,\n    } = this.props;\n\n    // const renderProps = this.getRenderProps()\n\n    let result = (\n      <div id={id} className={this.getClassName()}>\n        {separated && (<FormSeparator />)}\n        {content || children}\n      </div>\n    );\n\n    if (withContainer) {\n      result = (\n        <FormContainer>\n          {result}\n        </FormContainer>\n      );\n    }\n\n    return result;\n  }\n\n}\n\nexport default FormItemHOC(FormGroup);\n","/** @module FormInputGroup\n *  @class FormInputGroup\n *  @since 2020.10.21, 23:43\n *  @changed 2020.10.21, 23:43\n */\n/* eslint-disable react/require-default-props */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\n\nimport FormItemHOC from '../FormItemHOC';\nimport FormGroup from '../FormGroup';\n\nimport './FormInputGroup.pcss';\n\nconst classNameModifiers = [\n  // Basic element properties\n  'id',\n  // Style-related modifiers...\n  // 'align',\n  // 'padded',\n  // 'background',\n  // 'flow',\n  // 'fullWidth',\n];\n\nconst cnFormInputGroup = cn('FormInputGroup');\n\nclass FormInputGroup extends React.PureComponent /** @lends @FormInputGroup.prototype */ {\n\n  static propTypes = {\n    id: PropTypes.string,\n    // disabled: PropTypes.bool, // ???\n    // align: PropTypes.string,\n    // padded: PropTypes.bool,\n    // flow: PropTypes.bool,\n  }\n\n  getClassName() {\n    const mods = classNameModifiers.reduce((mods, id) => {\n      const val = this.props[id];\n      if (val != null) {\n        return { ...mods, [id]: val };\n      }\n      return mods;\n    }, {});\n    return cnFormInputGroup(mods, [this.props.className]);\n  }\n\n  // Render...\n\n  render() {\n    return (\n      <FormGroup {...this.props} className={this.getClassName()} />\n    );\n  }\n\n}\n\nexport default FormItemHOC(FormInputGroup);\n","/** @module FormInteractiveItemHOC\n *  @class FormInteractiveItemHOC\n *  @since 2021.01.20, 23:30\n *  @changed 2021.01.20, 23:30\n *\n *  NOTE: Unused (functional is present in `FormFocusableItemHOC` and `FormItemHOC`.\n */\n/* eslint-disable react/require-default-props, react/jsx-max-depth, react/require-optimization */\n\nimport React from 'react';\n// import { compose } from 'redux';\nimport PropTypes from 'prop-types';\n// import { cn } from 'utils/configure';\nimport { withFormContext } from 'helpers/FormContext';\n\nconst wrapFormInteractiveItemHOC = (WrappedComponent, params = {}) => {\n  class FormInteractiveItem extends React.Component {\n\n    static propTypes = {\n      id: PropTypes.string,\n      // name: PropTypes.string,\n      // value: PropTypes.bool,\n      // disabled: PropTypes.bool,\n      setDomRef: PropTypes.func,\n      onKeyPress: PropTypes.func,\n      onEnterPressed: PropTypes.func,\n      onEscPressed: PropTypes.func,\n      onSpacePressed: PropTypes.func,\n      // FormContext Provider\n      formContextNode: PropTypes.shape({ onInputEnterPressed: PropTypes.func }),\n    };\n\n    static defaultProps = {\n      id: params.id,\n    };\n\n    registeredKeyPressHandlers = []; // Registered keypress callback handlers list...\n\n    // Lifecycle methods...\n\n    componentWillUnmount() {\n      this.removeEventListeners();\n    }\n\n    // Helper methods...\n\n    // focus, blur?\n\n    addEventListeners() {\n      if (!this.addedEventListeners && this.domNode) {\n        this.addedEventListeners = true;\n        this.domNode.addEventListener('keypress', this.onKeyPress);\n      }\n    }\n\n    removeEventListeners() {\n      if (this.addedEventListeners && this.domNode) {\n        this.addedEventListeners = false;\n        this.domNode.removeEventListener('keypress', this.onKeyPress);\n      }\n    }\n\n    // Events...\n\n    onKeyPress = (event) => {\n      var {\n        key,\n        code,\n        keyCode,\n        charCode,\n      } = event;\n      const {\n        id,\n        onKeyPress,\n        onEnterPressed,\n        onEscPressed,\n        onSpacePressed,\n        formContextNode, // FormContext Provider\n      } = this.props;\n      // @see https://keycode.info/\n      const isEnterPressed = (code === 'Enter'); // (keyCode === 13); // Enter?\n      const isEscPressed = (code === 'Escape'); // (keyCode === 27); // Esc?\n      const isSpacePressed = (code === 'Space'); // (keyCode === 27); // Space?\n      const cbProps = {\n        event,\n        id,\n        key,\n        code,\n        keyCode,\n        charCode,\n        isEnterPressed,\n        isEscPressed,\n        isSpacePressed,\n        domNode: this.domNode,\n      };\n      // console.log('FormInteractiveItemHOC:onKeyPress', cbProps);\n      // debugger;\n      // Process registered callback handlers...\n      if (this.registeredKeyPressHandlers.length) {\n        const result = this.registeredKeyPressHandlers.reduce((result, cb) => {\n          return (typeof cb === 'function' && cb(cbProps) === false) ? false : result;\n        }, undefined);\n        // Don't process other handlers and return `false` value if one of registered handlers rerurned `false`.\n        if (result === false) {\n          // TODO: Stop event propagation?\n          // event.stopImmediatePropagation();\n          event.stopPropagation();\n          return false;\n        }\n      }\n      if (typeof onKeyPress === 'function' ) {\n        onKeyPress(cbProps);\n      }\n      if (isEnterPressed) {\n        if (typeof onEnterPressed === 'function') {\n          onEnterPressed(cbProps);\n        }\n        if (formContextNode && typeof formContextNode.onInputEnterPressed === 'function') {\n          formContextNode.onInputEnterPressed(cbProps);\n        }\n      }\n      if (isEscPressed && typeof onEscPressed === 'function') {\n        onEscPressed(cbProps);\n      }\n      if (isSpacePressed && typeof onSpacePressed === 'function') {\n        onSpacePressed(cbProps);\n      }\n    }\n\n    registerKeyPressHandler = (handler) => {\n      this.registeredKeyPressHandlers.push(handler);\n    }\n\n    setDomRef = (domNode) => {\n      const { setDomRef } = this.props;\n      this.domNode = domNode;\n      // console.log('FormInteractiveItemHOC:setDomRef', {\n      //   domNode,\n      // });\n      this.addEventListeners();\n      if (typeof setDomRef === 'function') { // Pass to parent if callback specified\n        setDomRef(domNode);\n      }\n    }\n\n    // Render...\n\n    render() {\n      const renderProps = {\n        setDomRef: this.setDomRef,\n        registerKeyPressHandler: this.registerKeyPressHandler,\n      };\n      return (\n        <WrappedComponent\n          {...this.props}\n          {...renderProps}\n          // id={id}\n        />\n      );\n    }\n\n  }\n  return withFormContext(FormInteractiveItem);\n};\n\n/** Usage:\n * FormInteractiveItemHOC(component)\n * FormInteractiveItemHOC(params)(component)\n */\nconst FormInteractiveItemHOC = (params) => {\n  if (typeof params === 'string') { // Passed identifier\n    params = { id: params };\n  }\n  if (typeof params === 'object') { // Params passed -> metafabric\n    return (component) => wrapFormInteractiveItemHOC(component, params);\n  }\n  else { // Component passed -> simple fabric\n    return wrapFormInteractiveItemHOC(params);\n  }\n};\n\n// export default FormItemHOC({ hoverable: true, focusable: true, framed: false })(FormInteractiveItemHOC)\nexport default FormInteractiveItemHOC;\n\n","/** @module FormItemDummy\n *  @class FormItemDummy\n *  @desc Demo form item\n *  @since 2020.07.20, 19:07\n *  @changed 2020.07.20, 19:07\n */\n\nimport React from 'react';\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\n\nimport FormItemHOC from '../FormItemHOC';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport './FormItemDummy.pcss';\n\nconst cnFormItemDummy = cn('FormItemDummy');\n\nclass FormItemDummy extends React.PureComponent /** @lends @FormItemDummy.prototype */ {\n\n  constructor(props) {\n    super(props);\n    // const {\n    //   hoverable,\n    //   clickable,\n    //   checked,\n    // } = props\n    this.state = {\n      // // FormItem states...\n      // solid: true,\n      // hoverable: (hoverable != null) ? hoverable : true,\n      // clickable: (clickable != null) ? clickable : true,\n      // checked,\n      // framed: true,\n    };\n  }\n\n  static getDerivedStateFromProps(props/* , state */) { // ???\n    const {\n      // plain,\n      // style,\n      hasIcon,\n      hasText,\n      onlyIcon,\n      text,\n      icon,\n      children,\n      // hoverable,\n      // clickable,\n      // checked,\n    } = props;\n    return {\n      // hoverable: (hoverable != null) ? hoverable : true,\n      // clickable: (clickable != null) ? clickable : true,\n      // checked,\n      hasIcon: !!(hasIcon || icon),\n      hasText: !onlyIcon && !!(hasText || text || children),\n    };\n  }\n\n  getClassName() {\n    // TODO: Refactor properties!\n    const {\n      id,\n      onlyIcon,\n      largeIcon,\n      rightIcon,\n      theme,\n      fullWidth,\n      // checked,\n      type,\n      // plain,\n    } = this.props;\n    const {\n      hasIcon,\n      hasText,\n    } = this.state;\n    const classList = cnFormItemDummy({\n      id,\n      theme,\n      fullWidth,\n      // checked,\n      // plain,\n      hasIcon,\n      hasText,\n      onlyIcon,\n      largeIcon,\n      rightIcon,\n      type,\n      solid: true,\n    }, [this.props.className]);\n    return classList;\n  }\n\n  // Handlers...\n\n  onClick = (event) => {\n    const {\n      disabled,\n      onClick,\n      clickable,\n    } = this.props;\n    if (clickable && !disabled && onClick && typeof onClick === 'function') {\n      onClick(event);\n    }\n  }\n\n  // Render...\n\n  render() {\n\n    const {\n      id,\n      // name,\n      children,\n      text,\n      tag,\n      type,\n      title,\n      icon,\n      setDomRef,\n      // faIcon,\n      // hasIcon,\n      // hasText,\n      // onClick,\n    } = this.props;\n    const {\n      hasIcon,\n      hasText,\n    } = this.state;\n\n    // Create fortawesome icon element if passed icon image (svg icon)\n    const iconImg = (icon && icon.iconName) ? <FontAwesomeIcon className={cnFormItemDummy('IconImg')} icon={icon} /> : icon;\n    const iconElem = hasIcon && (\n      <span key=\"Icon\" className={cnFormItemDummy('Icon')}>\n        {iconImg}\n      </span>\n    );\n\n    // Text element\n    const textElem = hasText && (\n      <span key=\"Text\" className={cnFormItemDummy('Text')}>\n        {text || children}\n      </span>\n    );\n\n    // const basicRenderProps = this.getRenderProps() // Get from props not from overrided `super`\n    const renderProps = {\n      // ...basicRenderProps,\n      id,\n      className: this.getClassName(),\n      title,\n      type,\n      onClick: this.onClick,\n      ref: setDomRef,\n    };\n\n    const content = [ iconElem, textElem ]; // children || text\n\n    const tagName = tag || 'div';\n    const element = React.createElement(tagName, renderProps, content);\n    return element;\n  }\n\n}\n\nexport default FormItemHOC(FormItemDummy);\n","/** @module FormItemHOC\n *  @class FormItemHOC\n *  @since 2019.09.25, 19:18\n *  @changed 2021.01.28, 21:58\n */\n\nimport React from 'react';\nimport { cn } from 'utils/configure';\nimport PropTypes from 'prop-types';\n\nimport './FormItemHOC.pcss';\n\nconst cnFormItem = cn('FormItem');\n\nconst classNameModifiers = [ // Pass props/state params to class modifiers\n  // Display-related modifiers...\n  'fullWidth',\n  // 'innerFlex', // (???)\n  // 'solid', // Item is unwrappable (???)\n  'framed', // Frame around item (input field, button, select etc)\n  // Behavior-related modifiers...\n  'hoverable', // Allow hover effects\n  'focusable', // Allow hover effects\n  'clickable',\n  // States...\n  'hovered',\n  'focused',\n  'pressed',\n  // 'checked', // Use in derived elements\n  'disabled',\n  // 'fill', // (???)\n];\nconst classNameExpectedModifierTypes = {\n  checked: 'boolean',\n};\n\nconst defaultState = { // Default state\n  // hoverable: false,\n  // focusable: false,\n};\n\nconst props2State = [ // Pass props to state\n  'hoverable', // Allow hover effects\n  'focusable', // Allow hover effects\n];\n\n// Helper functions...\n\nconst deriveState = (...sets) => {\n  return props2State.reduce((state, id) =>{\n    const val = sets.reduce((val, set) => {\n      return (set[id] != null /* && val == null */) ? set[id] : val;\n    }, null);\n    if (val != null) {\n      return { ...state, [id]: val };\n    }\n    return state;\n  }, defaultState);\n};\n/* // UNUSED: deriveStateFromProps\n * const deriveStateFromProps = (props, defaultState) => {\n *   return props2State.reduce((state, id) =>{\n *     const val = props[id]\n *     if (val != null) {\n *       return { ...state, [id]: val }\n *     }\n *     return state\n *   }, defaultState)\n * }\n */\n\n// Unique id counter\nlet uniqIdCount = 1;\n\nconst wrapFormItemHOC = (WrappedComponent, params = {}) => class FormItem extends React.Component {\n\n  static propTypes = {\n    checked: PropTypes.bool,\n    className: PropTypes.string,\n    clickable: PropTypes.bool,\n    disabled: PropTypes.bool,\n    focusable: PropTypes.bool,\n    focused: PropTypes.bool,\n    framed: PropTypes.bool,\n    fullWidth: PropTypes.bool,\n    hoverable: PropTypes.bool,\n    hovered: PropTypes.bool,\n    id: PropTypes.string,\n    pressed: PropTypes.bool,\n    setDomRef: PropTypes.func,\n    setFormItemNodeRef: PropTypes.func,\n  }\n\n  // Helper methods...\n\n  getStateOrPropOrParam(id) { // Get parameter from state or from props\n    let val = (this.state[id] != null) ? this.state[id] :\n      (this.props[id] != null) ? this.props[id] :\n        params[id];\n    if (classNameExpectedModifierTypes[id] && typeof val !== classNameExpectedModifierTypes[id]) {\n      val = null;\n    }\n    return val;\n  }\n\n  createUniqId() {\n    return 'FormItem' + (uniqIdCount++);\n  }\n\n  getId(props) {\n    props = props || this.props;\n    return props.id || this.id || (this.id = this.createUniqId());\n  }\n\n  // Lifecycle methods...\n\n  constructor(props) {\n    super(props);\n    this.state = deriveState(defaultState, params, props); // deriveStateFromProps(props, defaultState)\n    this.id = props.id || params.id;\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    // TODO: Update event subscriptions if `hoverable` flag changed?\n    return deriveState(params, props, state); // deriveStateFromProps(props, state)\n  }\n\n  componentDidMount() {\n    const { formItemDomRef } = this;\n    if (formItemDomRef && formItemDomRef.addEventListener) {\n      const hoverable = this.getStateOrPropOrParam('hoverable');\n      const focusable = this.getStateOrPropOrParam('focusable');\n      if (hoverable && !this.hoverableInited) {\n        this.hoverableInited = true;\n        formItemDomRef.addEventListener('mouseover', this.handleMouseOver);\n        formItemDomRef.addEventListener('mouseout', this.handleMouseOut);\n      }\n      if (focusable && !this.focusableInited) {\n        this.focusableInited = true;\n        // formItemDomRef.addEventListener('focus', this.handleFocusIn);\n        formItemDomRef.addEventListener('focus', this.handleFocusIn);\n        formItemDomRef.addEventListener('blur', this.handleFocusOut);\n        formItemDomRef.addEventListener('focusin', this.handleFocusIn);\n        formItemDomRef.addEventListener('focusout', this.handleFocusOut);\n        // console.log('FormItemHOC:componentDidMount: focus event handlers added');\n        this.focus = () => { // Focus handler\n          formItemDomRef && formItemDomRef.focus && formItemDomRef.focus();\n        };\n      }\n    }\n    const { setFormItemNodeRef } = this.props;\n    if (typeof setFormItemNodeRef === 'function') {\n      setFormItemNodeRef(this);\n    }\n  }\n\n  componentWillUnmount() {\n    const { formItemDomRef } = this;\n    if (formItemDomRef && formItemDomRef.removeEventListener) {\n      // const hoverable = this.getStateOrPropOrParam('hoverable')\n      // const focusable = this.getStateOrPropOrParam('focusable')\n      if (this.hoverableInited) {\n        formItemDomRef.removeEventListener('mouseover', this.handleMouseOver);\n        formItemDomRef.removeEventListener('mouseout', this.handleMouseOut);\n      }\n      if (this.focusableInited) {\n        formItemDomRef.removeEventListener('focus', this.handleFocusIn);\n        formItemDomRef.removeEventListener('blur', this.handleFocusOut);\n        formItemDomRef.removeEventListener('focusin', this.handleFocusIn);\n        formItemDomRef.removeEventListener('focusout', this.handleFocusOut);\n      }\n    }\n  }\n\n  getClassName() {\n    // Collect modifier values from state or props\n    const mods = classNameModifiers.reduce((mods, id) =>{\n      const val = this.getStateOrPropOrParam(id); // (this.state[id] != null) ? this.state[id] : this.props[id]\n      if (val != null) {\n        mods[id] = val;\n      }\n      return mods;\n    }, {});\n    return cnFormItem(mods, [this.props.className]);\n  }\n\n  // Handlers...\n\n  focus = () => {\n    const { formItemDomRef } = this;\n    // console.log('FormItem:focus');\n    formItemDomRef && formItemDomRef.focus && formItemDomRef.focus();\n    this.handleFocusIn();\n  }\n  blur = () => {\n    const { formItemDomRef } = this;\n    // console.log('FormItem:blur');\n    formItemDomRef && formItemDomRef.blur && formItemDomRef.blur();\n    this.handleFocusOut();\n  }\n\n  handleMouseOver = () => {\n    const disabled = this.getStateOrPropOrParam('disabled');\n    const hoverable = this.getStateOrPropOrParam('hoverable');\n    // console.log('FormItemHOC:handleMouseOver');\n    if (hoverable && !disabled) {\n      this.setState({ hovered: true });\n    }\n  }\n  handleMouseOut = () => {\n    const disabled = this.getStateOrPropOrParam('disabled');\n    const hoverable = this.getStateOrPropOrParam('hoverable');\n    // console.log('FormItemHOC:handleMouseOut');\n    if (hoverable && !disabled) {\n      this.setState({ hovered: false });\n    }\n  }\n\n  handleFocusIn = () => {\n    const disabled = this.getStateOrPropOrParam('disabled');\n    const focusable = this.getStateOrPropOrParam('focusable');\n    if (focusable && !disabled) {\n      // console.log('FormItemHOC:handleFocusIn');\n      this.setState({ focused: true });\n    }\n  }\n  handleFocusOut = () => {\n    const disabled = this.getStateOrPropOrParam('disabled');\n    const focusable = this.getStateOrPropOrParam('focusable');\n    if (focusable && !disabled) {\n      // console.log('FormItemHOC:handleFocusOut');\n      this.setState({ focused: false });\n    }\n  }\n\n  setDomRef = (domRef) => { // Children dom node receiver\n    this.formItemDomRef = domRef;\n    const { setDomRef } = this.props;\n    if (typeof setDomRef === 'function') {\n      setDomRef(domRef);\n    }\n    // domRef && domRef.focus && domRef.focus() // ???\n  }\n\n  render() {\n    const {\n      hovered,\n      focused,\n    } = this.state;\n    const renderProps = {\n      hovered,\n      focused,\n      formItemNode: this,\n      className: this.getClassName(),\n      setDomRef: this.setDomRef, // Children dom node receiver\n      // formItemDomRef: this.formItemDomRef,\n    };\n    const focusable = this.getStateOrPropOrParam('focusable');\n    if (focusable) {\n      renderProps.tabIndex = 0;\n    }\n    return (\n      <WrappedComponent\n        {...this.props}\n        {...renderProps}\n      />\n    );\n  }\n\n};\n\n/** Usage:\n * FormItemHOC(component)\n * FormItemHOC(params)(component)\n */\nconst FormItemHOC = (params) => {\n  if (typeof params === 'string') { // Passed identifier\n    params = { id: params };\n  }\n  if (typeof params === 'object') { // Params passed -> metafabric\n    return (component) => wrapFormItemHOC(component, params);\n  }\n  else { // Component passed -> simple fabric\n    return wrapFormItemHOC(params);\n  }\n};\n\nexport default FormItemHOC;\n","/** @module FormLabel\n *  @class FormLabel\n *  @since 2020.10.06, 23:45\n *  @changed 2020.10.06, 23:46\n */\n/* eslint-disable react/require-default-props */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\n\nimport FormItemHOC from '../FormItemHOC';\n\nimport './FormLabel.pcss';\n\nconst cnFormLabel = cn('FormLabel');\n\nclass FormLabel extends React.PureComponent /** @lends @FormLabel.prototype */ {\n\n  static propTypes = {\n    id: PropTypes.string,\n  }\n\n  getClassName() {\n    const {\n      id,\n      fixed,\n      firstInBlock,\n      // clickable,\n    } = this.props;\n    const classList = cnFormLabel({\n      id,\n      fixed,\n      firstInBlock,\n      // clickable,\n    }, [this.props.className]);\n    return classList;\n  }\n\n  // Handlers...\n\n  onClick = (event) => {\n    const {\n      disabled,\n      onClick,\n      // clickable,\n    } = this.props;\n    if (/* clickable && */ !disabled && onClick && typeof onClick === 'function') {\n      onClick(event);\n    }\n  }\n\n  // Render...\n\n  render() {\n\n    const {\n      id,\n      name,\n      disabled,\n      htmlFor,\n      text,\n      children,\n      title,\n    } = this.props;\n\n    const renderProps = {\n      id,\n      className: this.getClassName(),\n      disabled,\n      title,\n    };\n\n    return (\n      <div {...renderProps}>\n        <label\n          className={cnFormLabel('Control', ['FormItem-Control'])}\n          id={id}\n          name={name}\n          disabled={disabled}\n          htmlFor={htmlFor}\n          title={title}\n        >\n          {children || text || title}\n        </label>\n      </div>\n    );\n  }\n\n}\n\nexport default FormItemHOC({ hoverable: true, solid: true })(FormLabel);\n","/** @module FormLabeledGroup\n *  @class FormLabeledGroup\n *  @since 2020.05.10, 09:24\n *  @changed 2020.12.10, 16:20\n */\n\nimport React from 'react';\n// import { cn } from 'utils/configure'\n\nimport FormGroup from '../FormGroup';\nimport FormLabel from '../FormLabel';\n\n// import './FormLabeledGroup.pcss'\n\n// const cnFormLabeledGroup = cn('FormLabeledGroup')\n\nconst FormLabeledGroup = (props) => /** @lends @FormLabeledGroup.prototype */ {\n  const {\n    className,\n    children,\n    id,\n    fullWidth,\n    innerFlex,\n    htmlFor,\n    // fixed,\n    title,\n    text,\n    flow,\n    // ...props\n  } = props;\n  // const thisClassName = cnFormLabeledGroup({ flow, full })\n  return (\n    <FormGroup\n      className={className}\n      fullWidth={fullWidth}\n      innerFlex={innerFlex}\n      flow={flow}\n      id={id}\n    >\n      <FormLabel\n        htmlFor={htmlFor}\n        title={title}\n        text={text || title + ':'}\n        fixed={flow && fullWidth}\n        firstInBlock={!flow && fullWidth}\n      />\n      {children}\n    </FormGroup>\n\n  );\n};\n\nexport default FormLabeledGroup;\n","/** @module FormPager\n *  @class FormPager\n *  @since 2021.06.07, 14:46\n *  @changed 2021.06.07, 15:45\n */\n/* eslint-disable react/require-default-props, react/no-unused-prop-types */\n\nimport React from 'react';\nimport { compose } from 'redux';\nimport connect from 'react-redux/lib/connect/connect';\nimport PropTypes from 'prop-types';\nimport { cn } from 'utils/configure';\n\nimport { // Icons (solid)...\n  faAngleRight,\n  faAngleLeft,\n  faAngleDoubleRight,\n  faAngleDoubleLeft,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport FormItemHOC from '../FormItemHOC';\nimport FormGroup from '../FormGroup';\nimport FormButton from '../FormButton';\n\nimport { getCommonLangText } from 'utils/lang';\n// import * as langUtils from 'utils/lang';\n\n// import { // ActionsContext...\n//   ActionsContextProvider,\n//   withActionsContext,\n// } from 'helpers/ActionsContext';\n\nimport './FormPager.pcss';\n\nconst cnFormPager = cn('FormPager');\n\nconst visibleRadius = 2; // Show pages around current page\nconst visibleItemsCount = visibleRadius * 2; // Max visible items count\n\nconst FormPagerItem = (props) => {\n  const {\n    type,\n    onClick,\n    action,\n  } = props;\n  return (\n    <FormButton\n      theme=\"default\"\n      {...props}\n      className={cnFormPager('Item', { type })}\n      onClick={onClick && onClick.bind(null, action)}\n    />\n  );\n};\n\nclass FormPager extends React.PureComponent /** @lends @FormPager.prototype */ {\n\n  static propTypes = {\n    onPageSelect: PropTypes.func,\n    // lang: PropTypes.objectOf(PropTypes.object), // From state\n    showPage: PropTypes.number,\n    totalPages: PropTypes.number,\n    noSpace: PropTypes.bool,\n    fullWidth: PropTypes.bool,\n    align: PropTypes.string,\n    className: PropTypes.string,\n  }\n\n  // Lifecycle...\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showPage: props.showPage,\n    };\n  }\n\n  componentDidUpdate(prevProps) { // Versatile state -- as managed or autonomous component\n    const prevPropsPage = prevProps.showPage;\n    const currPropsPage = this.props.showPage;\n    if (prevPropsPage !== currPropsPage) {\n      this.setState({ showPage: currPropsPage });\n    }\n  }\n\n  // Handlers...\n\n  onPageClick = (action) => {\n    const { page } = action;\n    // console.log('FormPager:onPageClick', {\n    //   id: this.props.id,\n    //   action,\n    //   page,\n    // });\n    this.setState({ showPage: page });\n    const { onPageSelect } = this.props;\n    if (typeof onPageSelect === 'function' && page) {\n      onPageSelect(page);\n    }\n  }\n\n  // Render...\n\n  render() {\n    const {\n      id,\n      totalPages,\n      noSpace,\n      fullWidth,\n      align,\n      lang,\n    } = this.props;\n    const { showPage } = this.state;\n\n    // console.log('FormPager:render', {\n    //   id,\n    //   totalPages,\n    //   showPage,\n    // });\n\n    // Calculate pages to display...\n    let startPage = Math.max(1, showPage - visibleRadius);\n    let endPage = startPage + visibleItemsCount;\n    if (endPage > totalPages) {\n      endPage = totalPages;\n      startPage = Math.max(1, endPage - visibleItemsCount);\n    }\n\n    // Generate page buttons...\n    const pages = [];\n    for (let page = startPage; page <= endPage; page++) {\n      const current = page === showPage;\n      pages.push(<FormPagerItem\n        key={String(page)}\n        text={String(page)}\n        onClick={this.onPageClick}\n        action={{ id, page }}\n        type=\"page\"\n        theme={current ? 'primary' : 'default'}\n      />);\n    }\n\n    const showPrev = showPage > 1;\n    const showNext = showPage < totalPages;\n\n    const showFirst = showPage > 2;\n    const showLast = showPage < totalPages - 1;\n\n    const showPrevGroup = (endPage - visibleItemsCount > 2);\n    const prevGroupPage = showPage - visibleItemsCount;\n    const showNextGroup = (startPage + visibleItemsCount < totalPages - 1);\n    const nextGroupPage = showPage + visibleItemsCount;\n\n    const groupProps = {\n      noSpace,\n      fullWidth,\n      align,\n    };\n\n    return (\n      <div className={cnFormPager(groupProps, [this.props.className])}>\n        <FormGroup {...groupProps}>\n          {/* First page */}\n          {showFirst && <FormPagerItem\n            type=\"specialBound\"\n            onlyIcon icon={faAngleDoubleLeft}\n            title={getCommonLangText('firstPage', lang)}\n            onClick={this.onPageClick}\n            action={{ id, page: 1 }}\n            theme=\"plain\"\n          />}\n          {/* Show prev page */}\n          {showPrev && <FormPagerItem\n            type=\"specialBound\"\n            onlyIcon icon={faAngleLeft}\n            title={getCommonLangText('prevPage', lang)}\n            onClick={this.onPageClick}\n            action={{ id, page: showPage - 1 }}\n            theme=\"plain\"\n          />}\n          {/* Show prev range */}\n          {showPrevGroup && <FormPagerItem\n            type=\"specialMore\"\n            text=\"...\"\n            title={getCommonLangText('prevGroup', lang)}\n            onClick={this.onPageClick}\n            action={{ id, page: prevGroupPage }}\n            theme=\"plain\"\n          />}\n          {pages}\n          {/* Show next range */}\n          {showNextGroup && <FormPagerItem\n            type=\"specialMore\"\n            text=\"...\"\n            title={getCommonLangText('nextGroup', lang)}\n            onClick={this.onPageClick}\n            action={{ id, page: nextGroupPage }}\n            theme=\"plain\"\n          />}\n          {/* Show next page */}\n          {showNext && <FormPagerItem\n            type=\"specialBound\"\n            onlyIcon icon={faAngleRight}\n            title={getCommonLangText('nextPage', lang)}\n            onClick={this.onPageClick}\n            action={{ id, page: showPage + 1 }}\n            theme=\"plain\"\n          />}\n          {/* Last page */}\n          {showLast && <FormPagerItem\n            type=\"specialBound\"\n            onlyIcon icon={faAngleDoubleRight}\n            title={getCommonLangText('lastPage', lang)}\n            onClick={this.onPageClick}\n            action={{ id, page: totalPages }}\n            theme=\"plain\"\n          />}\n        </FormGroup>\n      </div>\n    );\n  }\n\n}\n\nconst mapStateToProps = store => ({\n  lang: store.language,\n  // language: store.language,\n  // commonLang: store && store.language && store.language && store.language.components.common || {},\n});\n\nexport default compose(\n  // withActionsContext,\n  FormItemHOC,\n  connect(mapStateToProps),\n)(FormPager);\n\n","/** @module FormPasswordInput\n *  @class FormPasswordInput\n *  @since 2020.10.29, 23:50\n *  @changed 2020.10.30, 00:03\n */\n\nimport React from 'react';\n// import PropTypes from 'prop-types'\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\n\n// import InlineIcon from 'elements/InlineIcon'\n// import FormItemHOC from '../FormItemHOC'\nimport FormTextInput from '../FormTextInput';\n\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport './FormPasswordInput.pcss';\n\nconst cnFormPasswordInput = cn('FormPasswordInput');\n\nclass FormPasswordInput extends React.PureComponent /** @lends @FormPasswordInput.prototype */ {\n\n  // Lifecycle...\n\n  constructor(props) {\n    super(props);\n    const { type = 'password' } = this.props;\n    this.state = {\n      type,\n    };\n  }\n\n  componentDidUpdate(prevProps/* , prevState */) {\n    const prevType = prevProps.type;\n    const propsType = this.props.type;\n    const stateType = this.state.type;\n    if (prevType !== propsType && propsType !== stateType) {\n      this.setState({\n        type: propsType,\n      });\n    }\n    // else if (prevState.type !== stateType) {\n    //   this.updateType(this.state)\n    // }\n  }\n\n  // Helper methods...\n\n  getClassName() {\n    const {\n      id,\n    } = this.props;\n    const classList = cnFormPasswordInput({\n      id,\n    }, [this.props.className]);\n    return classList;\n  }\n\n  // Event handlers...\n\n  onTypeIconClick = () => {\n    const { type } = this.state;\n    const setType = (type === 'password') ? 'type' : 'password';\n    this.setState({ type: setType });\n  }\n\n  // Render...\n\n  render() {\n\n    const {\n      type,\n    } = this.state;\n\n    const icon = (type === 'password') ? 'faEyeSlash' : 'faEye';\n    return (\n      <FormTextInput\n        iconTitle=\"Show/hide password\"\n        onIconClick={this.onTypeIconClick}\n        {...this.props}\n        type={type}\n        icon={icon}\n      />\n    );\n\n  }\n\n}\n\n/* // propTypes\n * FormPasswordInput.propTypes = {\n *   id: PropTypes.string,\n * }\n */\nexport default /* FormItemHOC({ hoverable: true, framed: true })( */ FormPasswordInput;\n\n","/** @module FormRadio\n *  @class FormRadio\n *  @since 2020.04.02, 14:53\n *  @changed 2021.01.20, 23:28\n */\n/* eslint-disable react/require-default-props, react/jsx-max-depth */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { cn } from 'utils/configure';\nimport { compose } from 'redux';\n\n// import FormItem from '../FormItem'\nimport FormItemHOC from '../FormItemHOC';\nimport FormBooleanHOC from '../FormBooleanHOC';\n\n// import { withFormContext } from 'helpers/FormContext';\nimport FormInteractiveItemHOC from 'forms/FormInteractiveItemHOC';\n// import FormFocusableItemHOC from 'forms/FormFocusableItemHOC';\n\nimport './FormRadio.pcss';\nimport './FormRadio-Themes.pcss';\n\nconst cnFormRadio = cn('FormRadio');\n\nclass FormRadio extends React.PureComponent /** @lends @FormRadio.prototype */ {\n\n  static propTypes = {\n    active: PropTypes.bool,\n    disabled: PropTypes.bool,\n    handleChange: PropTypes.func,\n    id: PropTypes.string,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    setDomRef: PropTypes.func, // From FormItemHOC\n    theme: PropTypes.string,\n    value: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    value: false,\n  }\n\n  // Lifecycle\n\n  // Helper methods...\n\n  getClassName() {\n    const {\n      id,\n      value,\n      theme,\n      disabled,\n      active,\n      // focusesd,\n    } = this.props;\n    const checked = !!value;\n    const mods = {\n      id,\n      checked,\n      theme,\n      disabled,\n      active,\n      // focused,\n    };\n    const classList = cnFormRadio(mods, [this.props.className]);\n    return classList;\n  }\n\n  // Render...\n\n  renderInput() {\n    const {\n      id,\n      inputId,\n      name,\n      handleChange,\n      value,\n      setDomRef, // From FormItemHOC\n    } = this.props;\n    const checked = !!value;\n    const inputProps = {\n      type: 'checkbox',\n      className: cnFormRadio('Input'),\n      id: inputId || id || name,\n      name: name || inputId || id,\n      checked,\n      onChange: handleChange,\n      ref: setDomRef,\n      // ref: setInputDomRef,\n      // tabIndex,\n    };\n    return (\n      <input {...inputProps} />\n    );\n  }\n\n  render() {\n    const {\n      id,\n      disabled,\n      // focusable,\n      // setDomRef, // See input control rendering above\n    } = this.props;\n    const renderProps = {\n      id,\n      className: this.getClassName(),\n      disabled,\n      onKeyPress: this.onKeyPress,\n      // ref: setDomRef,\n    };\n    return (\n      <div {...renderProps}>\n        <div\n          className={cnFormRadio('Control', ['FormItem-Control'])}\n          disabled={disabled}\n        >\n          <span className={cnFormRadio('Frame')}>\n            <span className={cnFormRadio('Actor')} />\n          </span>\n          {this.renderInput()}\n        </div>\n      </div>\n    );\n  }\n\n}\n\n// export default FormItemHOC({ hoverable: true, focusable: true, framed: false })(FormRadio)\nexport default compose(\n  // withFormContext,\n  FormInteractiveItemHOC,\n  // FormFocusableItemHOC,\n  FormItemHOC({ hoverable: true, focusable: true, framed: false }),\n  FormBooleanHOC,\n)(FormRadio);\n","/** @module FormSelect\n *  @class FormSelect\n *  @since 2020.10.28, 22:49\n *  @changed 2021.07.07, 19:54\n *\n *  TODO 2020.12.16, 23:07 -- Add hidden html form element (for form submission)\n */\n/* eslint-disable react/require-default-props */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { cn } from 'utils/configure';\n\nimport FormItemHOC from '../FormItemHOC';\n\nimport ModalPopup from 'elements/ModalPopup';\nimport Menu from 'elements/Menu';\nimport FormButton from 'forms/FormButton';\n\nimport './FormSelect.pcss';\n\nconst cnFormSelect = cn('FormSelect');\n\nclass FormSelect extends React.PureComponent /** @lends @FormSelect.prototype */ {\n\n  static propTypes = {\n    // setNodeRef: PropTypes.func,\n    // value: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([ PropTypes.string, PropTypes.number ])) ]),\n    closeOnSelect: PropTypes.bool,\n    controlButtonTheme: PropTypes.string,\n    // itemSelectedTheme: PropTypes.string,\n    wrapContent: PropTypes.bool,\n    disabled: PropTypes.bool,\n    fullWidth: PropTypes.bool,\n    id: PropTypes.string,\n    inputId: PropTypes.string,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    onControlClick: PropTypes.func,\n    onMenuItemClick: PropTypes.func,\n    open: PropTypes.bool,\n    options: PropTypes.arrayOf(PropTypes.shape({ val: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]), text: PropTypes.string })),\n    placeholder: PropTypes.string,\n    selected: PropTypes.arrayOf(PropTypes.oneOfType([ PropTypes.string, PropTypes.number ])),\n    setDomRef: PropTypes.func,\n    setPopupNodeRef: PropTypes.func,\n    singleChoice: PropTypes.oneOfType([ PropTypes.string, PropTypes.bool ]),\n    text: PropTypes.string,\n    title: PropTypes.string,\n    value: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]),\n    style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  }\n\n  // Lifecycle methods...\n\n  constructor(props) {\n    super(props);\n    // this.formItemRef = React.createRef()\n    this.id = props.id || props.inputId || props.name;\n    const { selected, value } = props;\n    this.state = {\n      selected: Array.isArray(selected) ? selected : value && [value] || []\n    };\n    // if (props.setNodeRef) {\n    //   props.setNodeRef(this);\n    // }\n  }\n\n  // Helper methods...\n\n  getClassName() {\n    const { id } = this;\n    const classList = cnFormSelect({\n      id,\n    }, [this.props.className]);\n    return classList;\n  }\n\n  getItemsText() {\n    const { selected } = this.state;\n    const { options } = this.props;\n    const text = Array.isArray(options) && Array.isArray(selected) && options.map(({ val, text }) => {\n      if (selected.includes(val)) {\n        return text;\n      }\n    }).filter(Boolean).join(', ');\n    return text;\n  }\n\n  // Handlers...\n\n  onControlClick = (params) => {\n    const { onControlClick } = this.props;\n    if (typeof onControlClick === 'function') {\n      onControlClick(params);\n    }\n  }\n  onMenuItemClick = (params) => {\n    const { closeOnSelect, onMenuItemClick } = this.props;\n    if (typeof onMenuItemClick === 'function') {\n      onMenuItemClick(params);\n    }\n    if (closeOnSelect && this.popupNode) {\n      this.popupNode.close();\n    }\n  }\n  onMenuChange = (params) => {\n    const { onChange } = this.props;\n    const { selected, /* id, value */ } = params;\n    if (typeof onChange === 'function') {\n      const { id, inputId, name, singleChoice } = this.props;\n      const value = singleChoice ? selected[0] : selected;\n      const setId = id || inputId || name;\n      const setParams = { id: setId, selected, value };\n      onChange(setParams);\n    }\n    this.setState({ selected });\n  }\n\n  setPopupRef = (node) => {\n    const { setPopupNodeRef } = this.props;\n    this.popupNode = node;\n    if (setPopupNodeRef && typeof setPopupNodeRef === 'function') {\n      setPopupNodeRef(node);\n    }\n  }\n\n  handleOpenState = ({ open }) => {\n    this.setState({ open });\n  }\n\n  // Render...\n\n  renderControlContent() {\n    const {\n      text,\n      placeholder,\n      title,\n      controlButtonTheme,\n      fullWidth, // = true,\n      disabled,\n      inputId,\n      maxWidth,\n    } = this.props;\n    const { open } = this.state;\n    const buttonText = this.getItemsText() || placeholder || text;\n    const style = { maxWidth };\n    return (\n      <FormButton\n        inputId={inputId}\n        icon=\"faChevronDown\"\n        rightIcon\n        theme={controlButtonTheme || 'primary'}\n        variation=\"popupControl\"\n        rotatedIcon\n        text={buttonText}\n        title={title}\n        fullWidth={fullWidth}\n        disabled={disabled}\n        checkable\n        checked={open}\n        style={style}\n      />\n    );\n  }\n\n  renderMenuContent() {\n    const {\n      singleChoice,\n      options,\n      disabled,\n      itemTheme,\n      // itemSelectedTheme,\n      wrapContent,\n      // inputId, // ???\n    } = this.props;\n    const {\n      selected,\n    } = this.state;\n    return (\n      <Menu\n        selectable={true}\n        singleChoice={singleChoice}\n        onChange={this.onMenuChange}\n        onClick={this.onMenuItemClick}\n        selected={selected}\n        // value={value}\n        disabled={disabled}\n        itemTheme={itemTheme}\n        // itemSelectedTheme={itemSelectedTheme}\n        wrapContent={wrapContent}\n      >\n        {options}\n      </Menu>\n    );\n  }\n\n  render() {\n\n    const {\n      id,\n      disabled,\n      title,\n      open,\n      fullWidth,\n      setDomRef,\n    } = this.props;\n\n    const controlContent = this.renderControlContent();\n    const menuContent =  this.renderMenuContent();\n\n    const popupProps = {\n      id,\n      className: this.getClassName(),\n      // contentClassName: 'XXX', // ???\n      disabled,\n      title,\n      open,\n      popupControl: controlContent,\n      popupContent: menuContent,\n      onControlClick: this.onControlClick,\n      fullWidth,\n      ref: this.setPopupRef,\n      setDomRef,\n      handleOpenState: this.handleOpenState,\n    };\n\n    return (\n      <ModalPopup {...popupProps} />\n    );\n\n  }\n\n}\n\nexport default FormItemHOC({ solid: true, hoverable: true })(FormSelect);\n","/** @module FormSeparator\n *  @class FormSeparator\n *  @since 2021.02.20, 13:40\n *  @changed 2021.02.20, 13:40\n */\n\nimport React from 'react';\nimport { cn } from 'utils/configure';\n\nimport './FormSeparator.pcss';\n\nconst FormSeparator = (props) => {\n  const { id } = props;\n  const className = cn('FormSeparator')({ id }, [props.className, 'FormItem']);\n  return (\n    <div className={className} />\n  );\n};\n\nexport default FormSeparator;\n","/** @module FormSpacer\n *  @class FormSpacer\n *  @since 2020.11.27, 12:52\n *  @changed 2020.11.27, 12:52\n */\n\nimport React from 'react';\nimport { cn } from 'utils/configure';\n\nimport './FormSpacer.pcss';\n\nconst FormSpacer = (props) => {\n  const { id } = props;\n  const className = cn('FormSpacer')({ id }, [props.className]);\n  return (\n    <div className={className} />\n  );\n};\n\nexport default FormSpacer;\n","/** @module FormTextInput\n *  @class FormTextInput\n *  @since 2020.10.07, 00:20\n *  @changed 2021.04.12, 14:26\n */\n/* eslint-disable react/require-default-props */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { cn } from 'utils/configure';\n// import * as langUtils from 'utils/lang';\nimport { getCommonLangText } from 'utils/lang';\n\nimport InlineIcon from 'elements/InlineIcon';\nimport FormItemHOC from '../FormItemHOC';\n\n// import { withFormContext } from 'helpers/FormContext';\nimport FormInteractiveItemHOC from 'forms/FormInteractiveItemHOC';\n\nimport './FormTextInput.pcss';\n\nconst cnFormTextInput = cn('FormTextInput');\n\nclass FormTextInput extends React.PureComponent /** @lends @FormTextInput.prototype */ {\n\n  static propTypes = {\n    // TODO: minValue, maxValue, maxLength\n    allowEmpty: PropTypes.bool,\n    className: PropTypes.string,\n    clearIcon: PropTypes.bool,\n    clearIconTitle: PropTypes.string,\n    defaultValue: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]),\n    disabled: PropTypes.bool,\n    hasClear: PropTypes.bool,\n    hasClearActive: PropTypes.bool,\n    hasIcon: PropTypes.bool,\n    hasValue: PropTypes.bool,\n    icon: PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]), // Icon id or icon object\n    iconTitle: PropTypes.string,\n    id: PropTypes.string,\n    inputId: PropTypes.string,\n    name: PropTypes.string,\n    numericValue: PropTypes.bool,\n    onChange: PropTypes.func,\n    onFocusIn: PropTypes.func,\n    onFocusOut: PropTypes.func,\n    onIconClick: PropTypes.func,\n    placeholder: PropTypes.string,\n    setDomRef: PropTypes.func,\n    setInputDomRef: PropTypes.func,\n    type: PropTypes.string,\n    value: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]),\n  }\n\n  static defaultProps = {\n    // allowEmpty: true,\n    value: '',\n  }\n\n  // Lifecycle...\n\n  constructor(props) {\n    super(props);\n    const value = this.getCorrectedValue(props.value || props.defaultValue || ((props.numericValue && !props.allowEmpty) ? 0 : ''));\n    this.state = {\n      value,\n    };\n  }\n\n  /* // UNUSED: componentDidMount\n   * componentDidMount() {\n   *   const { registerKeyPressHandler } = this.props;\n   *   if (typeof registerKeyPressHandler === 'function') { // From `FormInteractiveItemHOC`\n   *     // Register callback with `FormInteractiveItemHOC`\n   *     this.interactiveKeyPressHandler && registerKeyPressHandler(this.interactiveKeyPressHandler);\n   *   }\n   * }\n   */\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevPropsValue = prevProps.value;\n    // const propsValue = this.getCorrectedValue(this.props.value);\n    const propsValue = this.props.value;\n    const stateValue = this.state.value;\n    const prevStateValue = prevState.value;\n    if (propsValue !== prevPropsValue && propsValue !== prevStateValue) { // New value from props\n      // console.log('FormTextInput:componentDidUpdate (propsValue)', {\n      //   prevPropsValue,\n      //   propsValue,\n      //   stateValue,\n      //   prevStateValue,\n      // });\n      this.setState({\n        value: this.getCorrectedValue(propsValue),\n      }, this.updateValueWithState);\n    }\n    else if (stateValue !== prevStateValue) { // New value from state\n      // console.log('FormTextInput:componentDidUpdate (stateValue)', {\n      //   prevPropsValue,\n      //   propsValue,\n      //   stateValue,\n      //   prevStateValue,\n      // });\n      this.setState({\n        value: stateValue,\n      }, this.updateValueWithState);\n      // this.updateValueWithState(this.state);\n    }\n  }\n\n  // Helper methods...\n\n  getCorrectedValue(value) {\n    // const origValue = value;\n    const { numericValue, defaultValue, allowEmpty } = this.props;\n    if (numericValue && typeof value !== 'number') {\n      value = String(value).replace(/[^0-9.,-]/g, '');\n      value = parseInt(value, 10);\n      if (isNaN(value)) {\n        value = defaultValue || allowEmpty ? '' : 0;\n      }\n    }\n    // console.log('FormTextInput:getCorrectedValue', {\n    //   origValue,\n    //   value,\n    //   numericValue,\n    // });\n    return value;\n  }\n\n  hasValue() {\n    const {\n      value,\n    } = this.state;\n    return value != null && value !== '';\n  }\n\n  hasIcon() {\n    const {\n      icon,\n      hasIcon,\n      hasClear,\n    } = this.props;\n    return hasIcon || !!icon || (hasClear && this.hasValue());\n  }\n\n  updateValueWithState = (state) => {\n    state = state || this.state;\n    const { id, inputId, name, onChange, disabled } = this.props;\n    if (!disabled && typeof onChange === 'function') {\n      let { value } = state;\n      // console.log('FormTextInput:updateValueWithState', {\n      //   value,\n      // });\n      const setId = id || inputId || name;\n      onChange({ id: setId, value });\n    }\n  }\n\n  getClassName() {\n    const {\n      id,\n      hasClear,\n      className,\n    } = this.props;\n    const hasValue = this.hasValue();\n    const hasClearActive = hasClear && hasValue;\n    const classList = cnFormTextInput({\n      id,\n      hasIcon: this.hasIcon(),\n      hasValue: this.hasValue(),\n      hasClear,\n      hasClearActive,\n    }, [className]);\n    return classList;\n  }\n\n  // Event handlers...\n\n  handleChange = (event) => {\n    const { target } = event;\n    const origValue = target.value;\n    const value = this.getCorrectedValue(origValue);\n    this.setState({ value });\n  }\n\n  onClearClick = () => {\n    const { allowEmpty, numericValue } = this.props;\n    const value = (numericValue && !allowEmpty) ? 0 : '';\n    this.setState({ value });\n  }\n\n  onFocusIn = () => {\n    if (this.mounted) {\n      if (this.inputDomElem) {\n        this.inputDomElem.style.backgroundColor = '#fff'; // Try to override standard html autofill styles\n      }\n      this.setState({ focused: true });\n    }\n    // window.addEventListener('keypress', this.onKeyPress);\n    if (typeof this.props.onFocusIn === 'function') { // Propogate event if handler passed\n      this.props.onFocusIn(event);\n    }\n  }\n  onFocusOut = (event) => {\n    this.mounted && this.setState({ focused: false });\n    // window.removeEventListener('keypress', this.onKeyPress);\n    if (typeof this.props.onFocusOut === 'function') { // Propogate event if handler passed\n      this.props.onFocusOut(event);\n    }\n  }\n\n  setInputDomRef = (inputDomElem) => {\n    this.inputDomElem = inputDomElem;\n    if (typeof this.props.setInputDomRef === 'function') {\n      this.props.setInputDomRef(inputDomElem);\n    }\n  }\n\n  // Render...\n\n  renderClearIcon() { // DELETE\n    const {\n      hasClear,\n      clearIcon,\n      clearIconTitle,\n      // onClearClick,\n      lang,\n    } = this.props;\n    const hasValue = this.hasValue();\n    const hasClearActive = hasClear && hasValue;\n    const title = clearIconTitle || getCommonLangText('clearButton', 'Clear', lang);\n    return hasClearActive && (\n      <InlineIcon\n        icon={clearIcon || 'faTimes'}\n        className={cnFormTextInput('Icon', { mode: 'Clear' })}\n        onClick={this.onClearClick}\n        title={title}\n      />\n    );\n  }\n\n  renderIcon() { // DELETE\n    const {\n      // hasIcon,\n      icon,\n      iconTitle,\n      onIconClick,\n    } = this.props;\n\n    return icon && (\n      <InlineIcon\n        icon={icon}\n        className={cnFormTextInput('Icon')}\n        onClick={onIconClick}\n        title={iconTitle}\n      />\n    );\n  }\n\n  renderInput() {\n    const {\n      value,\n    } = this.state;\n    const {\n      id,\n      inputId,\n      name,\n      disabled,\n      // onChange,\n      placeholder,\n      type = 'text',\n    } = this.props;\n\n    const inputProps = {\n      key: 'Input',\n      type,\n      className: cnFormTextInput('Control', ['FormItem-Control']),\n      id: inputId || id || name,\n      name: name || inputId || id,\n      disabled: disabled,\n      placeholder: placeholder,\n      ref: this.setInputDomRef,\n      onChange: this.handleChange,\n      onKeyPress: this.onKeyPress,\n      value,\n      // onFocus: this.onFocusIn,\n      // onBlur: this.onFocusOut,\n    };\n    return (\n      <input\n        {...inputProps}\n      />\n    );\n  }\n\n  render() {\n\n    const {\n      id,\n      disabled,\n      type = 'text',\n      title,\n      setDomRef, // For FormItem interactive dom access\n    } = this.props;\n\n    const inputElem = this.renderInput();\n\n    const renderProps = {\n      id,\n      className: this.getClassName(),\n      disabled,\n      title,\n      type,\n      onClick: this.onClick,\n      ref: setDomRef,\n    };\n\n    return (\n      <div {...renderProps}>\n        {inputElem}\n        {this.renderIcon() || this.renderClearIcon()}\n      </div>\n    );\n\n  }\n\n}\n\n// export default FormItemHOC({ solid: true, hoverable: true, framed: true })(FormTextInput);\nexport default compose(\n  // withFormContext,\n  FormInteractiveItemHOC,\n  FormItemHOC({ solid: true, hoverable: true, focusable: true, framed: true }),\n)(FormTextInput);\n","/** @module FormText\n *  @class FormText\n *  @since 2020.10.29, 21:25\n *  @changed 2020.10.29, 22:42\n */\n/* eslint-disable react/require-default-props */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// import connect from 'react-redux/es/connect/connect'\nimport { cn } from 'utils/configure';\n\nimport FormItemHOC from '../FormItemHOC';\n\nimport './FormText.pcss';\n\nconst cnFormText = cn('FormText');\n\nclass FormText extends React.PureComponent /** @lends @FormText.prototype */ {\n\n  static propTypes = {\n    id: PropTypes.string,\n  }\n\n  getClassName() {\n    const {\n      id,\n      wrap,\n    } = this.props;\n    const classList = cnFormText({\n      id,\n      wrap,\n    }, [this.props.className]);\n    return classList;\n  }\n\n  // Handlers...\n\n  onClick = (event) => {\n    const {\n      disabled,\n      onClick,\n    } = this.props;\n    if (!disabled && onClick && typeof onClick === 'function') {\n      onClick(event);\n    }\n  }\n\n  // Render...\n\n  render() {\n\n    const {\n      id,\n      disabled,\n      text,\n      children,\n      title,\n    } = this.props;\n\n    const renderProps = {\n      id,\n      className: this.getClassName(),\n      disabled,\n      title,\n    };\n\n    return (\n      <div {...renderProps}>\n        {children || text || title}\n      </div>\n    );\n\n  }\n\n}\n\nexport default FormItemHOC({ hoverable: true })(FormText);\n","/** @module forms\n *  @desc Form components\n *  @since 2020.07.20, 19:21\n *  @changed 2021.06.07, 14:46\n */\n\n// Form elements...\n\n// export * as FormButton from './FormButton';  // Old (non-ts) export style\n// NOTE: This re-export format doesnt works in TS!\n\nexport { default as FormButton } from './FormButton';\n\nexport { default as FormItemHOC } from './FormItemHOC';\n\nexport { default as FormItemDummy } from './FormItemDummy'; // DEBUG: Demo element\n\nexport { default as FormPager } from './FormPager';\n\nexport { default as FormLabel } from './FormLabel';\n\nexport { default as FormDelim } from './FormDelim';\nexport { default as FormSpacer } from './FormSpacer';\nexport { default as FormSeparator } from './FormSeparator';\n\nexport { default as FormText } from './FormText';\n\nexport { default as FormSelect } from './FormSelect';\nexport { default as FormTextInput } from './FormTextInput';\nexport { default as FormPasswordInput } from './FormPasswordInput';\n\nexport { default as FormRadio } from './FormRadio';\n// export * as FormCheck from './FormCheck';\n// export * as FormSwitch from './FormSwitch';\n\nexport { default as FormDateTime } from './FormDateTime';\nexport { default as FormDateRange } from './FormDateRange';\nexport { default as FormDateRangeSingleBox } from './FormDateRangeSingleBox';\n\nexport { default as FormActions } from './FormActions';\n\nexport { default as FormContainer } from './FormContainer';\n\nexport { default as FormGroup } from './FormGroup';\nexport { default as FormLabeledGroup } from './FormLabeledGroup';\nexport { default as FormButtonGroup } from './FormButtonGroup';\nexport { default as FormInputGroup } from './FormInputGroup';\n\n// TODO...\n\n// export * as FormPager from './FormPager';\n","/** @module ActionsContext\n *  @class ActionsContext\n *  @since 2020.12.24, 19:08\n *  @changed 2020.12.24, 19:08\n */\n\nimport React from 'react';\n\nexport const ActionsContext = React.createContext();\n\nexport const ActionsContextProvider = ActionsContext.Provider;\nexport const ActionsContextConsumer = ActionsContext.Consumer;\n\nexport const withActionsContext = (WrappedComponent) => function withActionsContext(props) {\n  return (\n    <ActionsContextConsumer>\n      {actions => {\n        return (\n          <WrappedComponent {...props} actionsContextNode={actions} />\n        );\n      }}\n    </ActionsContextConsumer>\n  );\n};\n","/** @module FormContext\n *  @class FormContext\n *  @since 2021.01.19, 15:23\n *  @changed 2021.01.19, 16:08\n */\n\nimport React from 'react';\n\nexport const FormContext = React.createContext();\n\nexport const FormContextProvider = FormContext.Provider;\nexport const FormContextConsumer = FormContext.Consumer;\n\nexport const withFormContext = (WrappedComponent) => function withFormContext(props) {\n  return (\n    <FormContextConsumer>\n      {form => {\n        return (\n          <WrappedComponent {...props} formContextNode={form} />\n        );\n      }}\n    </FormContextConsumer>\n  );\n};\n","/** @module helpers\n *  @desc Library helpers\n *  @since 2020.12.24, 19:06\n *  @changed 2021.01.19, 16:20\n */\n\nexport * as ActionsContext from './ActionsContext';\n// export * as ModalsContext from './ModalsContext'; // UNUSED\n\nexport * as FormContext from './FormContext';\n","/** @module build\n *  @desc Library exportable ditributive\n *  @since 2020.05.19, 17:16\n *  @changed 2020.12.08, 21:47\n */\n\nimport config from 'config';\nimport { cn as bemReactCn } from '@bem-react/classname';\n\nlet configMap;\n\nconst getConfigMap = () => {\n  if (!configMap) {\n    configMap = {};\n    Object.keys(config).forEach(scopeId => {\n      const scopeObj = config[scopeId];\n      // const mapObj = configMap[scopeId] || (configMap[scopeId] = {})\n      Object.keys(scopeObj).forEach((keyId => {\n        if (configMap[keyId]) {\n          configMap[keyId].push(scopeId);\n          // const error = new Error('Duplicated config key \"' + keyId + '\" in scope \"' + scopeId + '\" and \"' + configMap[keyId] + '\"')\n          // console.error(error) // eslint-disable-line no-console\n          // debugger // eslint-disable-line no-debugger\n          // throw error\n        }\n        else {\n          configMap[keyId] = [scopeId];\n        }\n      }));\n    });\n  }\n  return configMap;\n};\n\nexport const setConfigOptions = (options) => {\n  const map = getConfigMap();\n  Object.entries(options).map(([key, val]) => { // Set entry\n    const scopes = map[key];\n    scopes.map(scope => {\n      const obj = config[scope];\n      if (obj) {\n        obj[key] = val;\n      }\n    });\n  });\n};\n\nexport const cssMapping = (classNames) => {\n  const { useCssModules, cssMappings } = config.app;\n  if (!useCssModules || !cssMappings || !Object.keys(cssMappings)) { // No css-module transforms\n    return classNames;\n  }\n  const classNamesList = (typeof classNames === 'string') ? classNames.split(' ').map(s => s.trim()) : classNames;\n  if (!Array.isArray(classNamesList)) {\n    throw new Error('Class list must be an array!');\n  }\n  const resultList = classNamesList.map(className => {\n    let result = cssMappings[className];\n    if (!result) { // Try to make className by similarity (eg: not found 'XXX_*', but found 'XXX')...\n      const pos = [className.indexOf('-'), className.indexOf('_')].filter(x => x !== -1);\n      const minPos = pos && pos.length && Math.min.apply(Math, pos);\n      if (minPos) {\n        // const match = className.match(/^(\\w+?)([-_].*)$/)\n        // const [, base, rest] = match\n        const base = className.substr(0, minPos);\n        const rest = className.substr(minPos);\n        const baseClassName = cssMappings[base];\n        if (baseClassName) {\n          result = baseClassName + rest;\n        }\n      }\n    }\n    // if (className !== result) {\n    //   console.log('WebUiCore:utils:cssMapping', className, '->', result)\n    //   debugger\n    // }\n    return result || className;\n  });\n  return resultList.join(' ');\n};\n\n// Wrapper for `@bem-react/classname/cn()` function\n// See original method call signatures & usage in `https://github.com/bem/bem-react/tree/master/packages/classname`\nexport const cn = (...args) => {\n  let result = bemReactCn.apply(cn, args);\n  if (typeof result === 'string') { // If class name, not fabric\n    return cssMapping(result);\n  }\n  else if (typeof result === 'function') {\n    return function cnCssMapping(...args) {\n      let res = result.apply(null, args);\n      if (typeof res === 'string') {\n        res = cssMapping(res);\n      }\n      return res;\n    };\n  }\n  return result;\n};\n","/** @module dates\n *  @description Objects utilities\n *  @since 2021.01.23, 20:29\n *  @changed 2021.04.30, 14:28\n */\n\nimport moment from 'moment';\nimport { // date-fns\n  // compareAsc,\n  format,\n} from 'date-fns';\nimport config from 'config';\n\nconst msDatePrefix = '/Date(';\nconst msDatePostfix = ')/';\n\n// Export constants...\n\nexport const dayTicks = config.constants.dayTicks; // 1000 * 60 * 60 * 24;\nexport const weekTicks = config.constants.weekTicks; // dayTicks * 7;\n\n/** Get date type\n * @param {Date|Moment|number} date\n * @return {String} dateType ('number', 'object', 'moment', 'msDateStr')\n * msDateStr: '/Date(1498653276417+0300)/'\n */\nexport function detectDateValueType(date) {\n  if (date == null) {\n    return undefined;\n  }\n  const dateType = typeof date;\n  if (dateType === 'object') { // TODO: Determine moment object\n    if (date instanceof moment) {\n      return 'moment';\n    }\n  }\n  else if (dateType === 'string') {\n    if (date.startsWith(msDatePrefix)) {\n      return 'msDateStr';\n    }\n  }\n  return dateType;\n}\n\nexport function convertToDateObject(date) {\n  const dateType = detectDateValueType(date);\n  let result = date;\n  if (dateType !== 'object') {\n    if (dateType === 'msDateStr') { // Convert to number...\n      result = parseInt(result.substr(msDatePrefix.length)); // '/Date(*' -> number\n    }\n    if (dateType === 'number' || dateType === 'msDateStr') { // Convert to date object...\n      result = new Date(result);\n    }\n    else if (dateType === 'moment') { // Convert form moment date...\n      result = date.toDate();\n    }\n    // else -- error?\n  }\n  return result;\n}\n\n/** Convert any date (date object, moment object, milliseconds timestamp) to microsoft date string ('Date(timestamp+xxxx)')\n * @param {Date|Number|Moment} date - Date object or milliseconds date value\n * @return {String}\n */\nexport function toMicrosoftDateTime(date) {\n  if (typeof date === 'number') { // Milliseconds passed?\n    // TODO: Use timestamp number to compose ms date (which offset should we to use?)\n    date = new Date(date);\n  }\n  else if (date instanceof moment) {\n    date = date.toDate();\n  }\n  // TODO: To check for valid date object?\n  // const offset = date.toString().replace(/^.*GMT\\s*([+-]\\d+).*$/, '$1') // ???\n  const match = date.toString().match(/GMT\\s*([+-]\\d+)/);\n  const offset = match && match[1] || '';\n  const format = String(date.getTime()) + offset;\n  return msDatePrefix + format + msDatePostfix; // -> '/Date(...)/'\n  /* // OLD CODE:\n   * const offset = () => {\n   *   const hours = date.getTimezoneOffset() / 60\n   *   let doubleOrNot = Math.abs(date.getTimezoneOffset()) / 60\n   *   if (doubleOrNot < 10) {\n   *     doubleOrNot = `+0${doubleOrNot.toString()}00`\n   *   }\n   *   return doubleOrNot\n   * }\n   * const format = () => String(date.getTime()) + String(offset())\n   * return `//Date(${format()})/`\n   */\n}\n\nexport function convertDateToType(date, targetType) {\n  // const type = detectDateValueType(date);\n  let result = date;\n  if (targetType !== 'object') {\n    if (targetType === 'moment') {\n      return moment(date);\n    }\n    else if (targetType === 'number') {\n      result = date.getTime();\n    }\n    else if (targetType === 'msDateStr') {\n      result = toMicrosoftDateTime(date);\n    }\n  }\n  return result;\n}\n\nexport function formatDateToString(date, fmt, opt = {}) {\n  fmt = fmt || config.constants.dateFormat;\n  // @see https://date-fns.org/v2.16.1/docs/format\n  return format(convertToDateObject(date), fmt, opt);\n}\n\nexport function formatDateTimeToString(date, opt = {}) {\n  const fmt = opt.format || (opt.showTime ? config.constants.dateTimeFormat : config.constants.dateFormat);\n  // @see https://date-fns.org/v2.16.1/docs/format\n  return format(convertToDateObject(date), fmt, opt);\n}\n\n/** adjustDateValue -- Adjust date to day/interval start/end.\n * @param {Date|Number|moment|msDateStr} origDate - date (in any format)\n * @param {Boolean} [toEnd=false] -- Adjust to end\n * @param {Boolean} [toTime=false] -- Adjust to time periods (timeIntervals)\n * @param {Number} [timeIntervals] -- Time period to adjust (in minutes, default value = config.constants.timeIntervals)\n * @return {Date|Number|moment|msDateStr} adjustedDate -- Date in the input format\n */\nexport function adjustDateValue(origDate, toEnd, toTime, timeIntervals) {\n  const dateType = detectDateValueType(origDate);\n  let date;\n  if (dateType === 'object') { // Just clone date object\n    date = new Date(origDate.getTime());\n  }\n  else {\n    date = convertToDateObject(origDate);\n  }\n  if (!toTime) {\n    if (toEnd) {\n      date.setHours(23, 59, 59, 999);\n    }\n    else {\n      date.setHours(0, 0, 0, 0);\n    }\n  }\n  else {\n    if (!timeIntervals) {\n      timeIntervals = config.constants.timeIntervals;\n    }\n    if (toEnd) {\n      date.setMilliseconds(999);\n      date.setSeconds(59);\n      const minutes = date.getMinutes();\n      // To end of period slot\n      const extraMinutes = timeIntervals - (minutes % timeIntervals);\n      const setMinutes = minutes + extraMinutes - 1;\n      date.setMinutes(setMinutes);\n    }\n    else {\n      date.setMilliseconds(0);\n      date.setSeconds(0);\n      const minutes = date.getMinutes();\n      // To begin of period slot\n      const extraMinutes = (minutes % timeIntervals);\n      const setMinutes = minutes - extraMinutes;\n      date.setMinutes(setMinutes);\n    }\n  }\n  return convertDateToType(date, dateType);\n}\n\nexport function startOfTheDay(date) {\n  return adjustDateValue(date);\n}\n\nexport function endOfTheDay(date) {\n  return adjustDateValue(date, true);\n}\n","/** @module domUtils\n *  @class domUtils\n *  @since 2019.06.14, 12:20\n *  @changed 2020.12.21, 18:05\n */\n\n/** Add class name\n * @param {String} tag\n * @return {DOM|undefined} domNode\n */\nexport function getDocumentDomNodeByTag(tag) {\n  const result = document.getElementsByTagName(tag.toUpperCase());\n  return result && result[0];\n}\n\n/** Check for class name\n * @param {DOM} domNode\n * @param {String} className\n * @return {Boolean}\n */\nexport function hasClassName(domNode, className) {\n  if (domNode) {\n    const { classList } = domNode;\n    return classList.contains(className);\n  }\n}\n\n/** Add class name\n * @param {DOM} domNode\n * @param {String} className\n * @return {DOM} domNode\n */\nexport function addClassName(domNode, className) {\n  if (domNode && !hasClassName(domNode, className)) {\n    const { classList } = domNode;\n    classList.add(className);\n  }\n  return domNode;\n}\n\n/** Remove class name\n * @param {DOM} domNode\n * @param {String} className\n * @return {DOM} domNode\n */\nexport function removeClassName(domNode, className) {\n  if (domNode && hasClassName(domNode, className)) {\n    const { classList } = domNode;\n    classList.remove(className);\n  }\n  return domNode;\n}\n","/** @module forms\n *  @since 2021.03.11, 20:00\n *  @changed 2021.03.11, 20:00\n */\n\n// Unique for serializer\nlet uniqCounter = 0;\n\n/** Get unique form identifier\n * @param {Object} [opt]\n * @param {String} [opt.prefix]\n * @return {String}\n */\nexport function getUniqFormId({ prefix = 'uniqForm' } = {}) {\n  // const prefix = opts.prefix || 'uniqForm';\n  const id = prefix + (uniqCounter++ || '');\n  return id;\n}\n","/** @module utils\n *  @desc Library utilities\n *  @since 2020.05.19, 17:16\n *  @changed 2021.04.22, 13:48\n */\n\n// export * from './configure'\nexport * as configure from './configure';\nexport * as dates from './dates';\nexport * as domUtils from './domUtils';\nexport * as lang from './lang';\nexport * as strings from './strings';\nexport * as objects from './objects';\nexport * as forms from './forms';\n","/** @module lang\n *  @desc Language support tools\n *  @since 2021.01.11, 18:21\n *  @changed 2021.06.07, 15:21\n */\n\nimport config from 'config';\n\nimport { ru } from 'date-fns/esm/locale';\nimport { registerLocale } from 'react-datepicker';\nimport * as stringUtils from './strings';\n\n// Initialize locales...\nregisterLocale('ru-RU', ru);\n// TDDO: Register locales in target project (using config data)?\n\nexport function setLang(lang) {\n  // console.log('WebUiCore:utils:lang:setLang', lang)\n  // debugger\n  config.app.lang = lang;\n}\nexport function getLang() {\n  return config.app.lang;\n}\nexport function getCommonLangText(id, defaultText, propsLang) {\n  if (!propsLang && typeof defaultText === 'object') { // Passed arguments: (id, propsLang)\n    propsLang = defaultText;\n    defaultText = null;\n  }\n  const lang = propsLang || getLang();\n  const text = lang && lang.components && lang.components.common && lang.components.common[id];\n  // console.log('WebUiCore:utils:lang:getCommonLangText', id, lang)\n  // debugger\n  return (text != null) ? text : (defaultText || stringUtils.humanizeId(id));\n}\n","/** @module objects\n *  @description Objects utilities\n *  @since 2021.04.22, 13:47\n *  @changed 2021.04.22, 13:47\n */\n\nexport function reverseKeyAndValue(result, [key, val]) {\n  return { ...result, [val]: key };\n}\nexport function reverseDataHash(hash) {\n  return Object.entries(hash).reduce(reverseKeyAndValue, {});\n}\n\n","/** @module strings\n *  @description Strings utilities\n *  @since 2019.04.03, 14:38\n *  @changed 2021.04.06, 14:00\n */\n\nimport React from 'react';\n\n/**\n * @param {string} val\n * @return {number}\n */\nexport const toNumber = (val) => {\n  return (val && !isNaN(val)) ? Number(val) : 0;\n};\n/**\n * @param {string} val\n * @return {String}\n */\nexport const toString = (val) => {\n  return val; // String(val);\n};\n/**\n * @param {string} val\n * @return {boolean}\n */\nexport const toBoolean = (val) => {\n  return !!(val && val !== 'false' && val !== '0');\n};\n\nexport const typeTransforms = {\n  toNumber,\n  toString,\n  toBoolean,\n};\n\n/** Returns length of common parts of two strings\n * @param {String} a\n * @param {String} b\n * @return {Number}\n */\nexport const getCommonLength = (a, b) => {\n  var maxLen = Math.min(a.length, b.length);\n  var commonLen = 0;\n  for (var len = 1; len < maxLen; len++) {\n    var s = a.substr(0, len);\n    if (b.indexOf(s) === 0) {\n      commonLen = len;\n    }\n  }\n  return commonLen;\n};\n\n/** Uppercase first letter of string\n * @param {string} str\n * @return {str}\n */\nexport const ucFirst = (str) => {\n  str = String(str);\n  return str && (str.charAt(0).toUpperCase() + str.slice(1)); // .toLowerCase();\n};\n\n/** Convert string to desired type\n * @param {string} type\n * @param {string} val\n * @return {*}\n */\nexport const toType = (type, val) => {\n  var methodName = 'to' + ucFirst(type);\n  if (/* typeTransforms.hasOwnProperty(methodName) && */ typeof typeTransforms[methodName] === 'function') {\n    val = this[methodName](val);\n  }\n  return val;\n};\n\n/**\n * @param {Number} length - Target hex string length\n * @return {String}\n */\nexport const randomHexString = (length) => {\n  var result = '';\n  for (var i = 0; i < length; i++) {\n    result += Math.floor((Math.random()) * 0xf).toString(16);\n  }\n  return result;\n};\n\n/** Convert (mostly error responses) html to text\n * @param {String} html\n * @return {String}\n */\nexport const html2string = (html) => {\n  return html && html // Process error from (html) response body\n    // .replace(/\\s*<head>[\\s\\S]*<\\/head>/m, '')\n    .replace(/\\s*<style>[\\s\\S]*<\\/style>/gm, '')\n    .replace(/<title>(.+)<\\/title>/gi, '$1:\\n')\n    .replace(/<[^<>]*>/g, ' ')\n    .replace(/\\r/gm, '\\n') // Newlines\n    .replace(/[ \\t]+\\n/gm, '\\n') // Hanged spaces\n    .replace(/\\n[ \\t]+/gm, '\\n') // Hanged spaces\n    .replace(/\\n{3,}/gm, '\\n\\n') // Extra newlines\n    .replace(/\\n(.+):*[ \\t\\n]+\\1\\n/gm, '\\n$1:\\n') // Remove repeating titles\n    // .replace(/\\n/gm, '\\\\n') // DEBUG: newlines\n    .trim(); // Trim\n};\n\n// TODO: Move to react strings helper?\nexport const splitMultiline = (text, opt) => {\n  opt = opt || {};\n  const textClassName = opt.textClassName || 'Text';\n  const lineClassName = opt.lineClassName || 'TextLine';\n  return text.split('\\n\\n').map((text, n) => {\n    const lines = text.split('\\n').map((line, n) => {\n      return React.createElement('div', { key: 'line' + String(n), className: lineClassName }, line);\n    });\n    return React.createElement('div', { key: 'text' + String(n), className: textClassName }, lines);\n  });\n};\n\nexport function padNumber(num, size) {\n  return String(num).padStart(size, '0');\n}\n\n/** Make periods for long numbers. Returns string presentation of number.\n * @param {String|Number} num\n * @param {String} [periodChar=' ']\n * @return {String}\n */\nexport function periodizeNumber(num, periodChar) {\n  periodChar = periodChar || ' ';\n  num = String(num);\n  // If long number...\n  if (num.length > 3 && !num.match(/\\D/)) {\n    num = num.replace(/\\B(?=(\\d{3})+(?!\\d))/g, periodChar);\n  }\n  return num;\n}\n\n/** humanizeId -- Make human-readable string from id (eg, 'thisId' -> 'This Id')\n * @param {String} id\n * @return {String}\n */\nexport function humanizeId(id) {\n  return ucFirst(String(id)).replace(/\\B([A-Z])/g, ' $1');\n}\n","import startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function isSameUTCWeek(dirtyDateLeft, dirtyDateRight, options) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfWeek = startOfUTCWeek(dirtyDateLeft, options);\n  var dateRightStartOfWeek = startOfUTCWeek(dirtyDateRight, options);\n  return dateLeftStartOfWeek.getTime() === dateRightStartOfWeek.getTime();\n}","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","export default function buildFormatLongFn(args) {\n  return function (dirtyOptions) {\n    var options = dirtyOptions || {};\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    return valuesArray[index];\n  };\n}","export default function buildMatchFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var value;\n\n    if (Object.prototype.toString.call(parsePatterns) === '[object Array]') {\n      value = findIndex(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    } else {\n      value = findKey(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    }\n\n    value = args.valueCallback ? args.valueCallback(value) : value;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n}","export default function buildMatchPatternFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var matchResult = string.match(args.matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n\n    if (!parseResult) {\n      return null;\n    }\n\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}","function declension(scheme, count) {\n  // scheme for count=1 exists\n  if (scheme.one !== undefined && count === 1) {\n    return scheme.one;\n  }\n\n  var rem10 = count % 10;\n  var rem100 = count % 100; // 1, 21, 31, ...\n\n  if (rem10 === 1 && rem100 !== 11) {\n    return scheme.singularNominative.replace('{{count}}', count); // 2, 3, 4, 22, 23, 24, 32 ...\n  } else if (rem10 >= 2 && rem10 <= 4 && (rem100 < 10 || rem100 > 20)) {\n    return scheme.singularGenitive.replace('{{count}}', count); // 5, 6, 7, 8, 9, 10, 11, ...\n  } else {\n    return scheme.pluralGenitive.replace('{{count}}', count);\n  }\n}\n\nfunction buildLocalizeTokenFn(scheme) {\n  return function (count, options) {\n    if (options.addSuffix) {\n      if (options.comparison > 0) {\n        if (scheme.future) {\n          return declension(scheme.future, count);\n        } else {\n          return ' ' + declension(scheme.regular, count);\n        }\n      } else {\n        if (scheme.past) {\n          return declension(scheme.past, count);\n        } else {\n          return declension(scheme.regular, count) + ' ';\n        }\n      }\n    } else {\n      return declension(scheme.regular, count);\n    }\n  };\n}\n\nvar formatDistanceLocale = {\n  lessThanXSeconds: buildLocalizeTokenFn({\n    regular: {\n      one: ' ',\n      singularNominative: ' {{count}} ',\n      singularGenitive: ' {{count}} ',\n      pluralGenitive: ' {{count}} '\n    },\n    future: {\n      one: ',   ',\n      singularNominative: ',   {{count}} ',\n      singularGenitive: ',   {{count}} ',\n      pluralGenitive: ',   {{count}} '\n    }\n  }),\n  xSeconds: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: '{{count}} ',\n      singularGenitive: '{{count}} ',\n      pluralGenitive: '{{count}} '\n    },\n    past: {\n      singularNominative: '{{count}}  ',\n      singularGenitive: '{{count}}  ',\n      pluralGenitive: '{{count}}  '\n    },\n    future: {\n      singularNominative: ' {{count}} ',\n      singularGenitive: ' {{count}} ',\n      pluralGenitive: ' {{count}} '\n    }\n  }),\n  halfAMinute: function (_, options) {\n    if (options.addSuffix) {\n      if (options.comparison > 0) {\n        return ' ';\n      } else {\n        return ' ';\n      }\n    }\n\n    return '';\n  },\n  lessThanXMinutes: buildLocalizeTokenFn({\n    regular: {\n      one: ' ',\n      singularNominative: ' {{count}} ',\n      singularGenitive: ' {{count}} ',\n      pluralGenitive: ' {{count}} '\n    },\n    future: {\n      one: ',   ',\n      singularNominative: ',   {{count}} ',\n      singularGenitive: ',   {{count}} ',\n      pluralGenitive: ',   {{count}} '\n    }\n  }),\n  xMinutes: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: '{{count}} ',\n      singularGenitive: '{{count}} ',\n      pluralGenitive: '{{count}} '\n    },\n    past: {\n      singularNominative: '{{count}}  ',\n      singularGenitive: '{{count}}  ',\n      pluralGenitive: '{{count}}  '\n    },\n    future: {\n      singularNominative: ' {{count}} ',\n      singularGenitive: ' {{count}} ',\n      pluralGenitive: ' {{count}} '\n    }\n  }),\n  aboutXHours: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: ' {{count}} ',\n      singularGenitive: ' {{count}} ',\n      pluralGenitive: ' {{count}} '\n    },\n    future: {\n      singularNominative: '  {{count}} ',\n      singularGenitive: '  {{count}} ',\n      pluralGenitive: '  {{count}} '\n    }\n  }),\n  xHours: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: '{{count}} ',\n      singularGenitive: '{{count}} ',\n      pluralGenitive: '{{count}} '\n    }\n  }),\n  xDays: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: '{{count}} ',\n      singularGenitive: '{{count}} ',\n      pluralGenitive: '{{count}} '\n    }\n  }),\n  aboutXWeeks: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: ' {{count}} ',\n      singularGenitive: ' {{count}} ',\n      pluralGenitive: ' {{count}} '\n    },\n    future: {\n      singularNominative: '  {{count}} ',\n      singularGenitive: '  {{count}} ',\n      pluralGenitive: '  {{count}} '\n    }\n  }),\n  xWeeks: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: '{{count}} ',\n      singularGenitive: '{{count}} ',\n      pluralGenitive: '{{count}} '\n    }\n  }),\n  aboutXMonths: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: ' {{count}} ',\n      singularGenitive: ' {{count}} ',\n      pluralGenitive: ' {{count}} '\n    },\n    future: {\n      singularNominative: '  {{count}} ',\n      singularGenitive: '  {{count}} ',\n      pluralGenitive: '  {{count}} '\n    }\n  }),\n  xMonths: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: '{{count}} ',\n      singularGenitive: '{{count}} ',\n      pluralGenitive: '{{count}} '\n    }\n  }),\n  aboutXYears: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: ' {{count}} ',\n      singularGenitive: ' {{count}} ',\n      pluralGenitive: ' {{count}} '\n    },\n    future: {\n      singularNominative: '  {{count}} ',\n      singularGenitive: '  {{count}} ',\n      pluralGenitive: '  {{count}} '\n    }\n  }),\n  xYears: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: '{{count}} ',\n      singularGenitive: '{{count}} ',\n      pluralGenitive: '{{count}} '\n    }\n  }),\n  overXYears: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: ' {{count}} ',\n      singularGenitive: ' {{count}} ',\n      pluralGenitive: ' {{count}} '\n    },\n    future: {\n      singularNominative: ',   {{count}} ',\n      singularGenitive: ',   {{count}} ',\n      pluralGenitive: ',   {{count}} '\n    }\n  }),\n  almostXYears: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: ' {{count}} ',\n      singularGenitive: ' {{count}} ',\n      pluralGenitive: ' {{count}} '\n    },\n    future: {\n      singularNominative: '  {{count}} ',\n      singularGenitive: '  {{count}} ',\n      pluralGenitive: '  {{count}} '\n    }\n  })\n};\nexport default function formatDistance(token, count, options) {\n  options = options || {};\n  return formatDistanceLocale[token](count, options);\n}","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: \"EEEE, do MMMM y '.'\",\n  long: \"do MMMM y '.'\",\n  medium: \"d MMM y '.'\",\n  short: 'dd.MM.y'\n};\nvar timeFormats = {\n  full: 'H:mm:ss zzzz',\n  long: 'H:mm:ss z',\n  medium: 'H:mm:ss',\n  short: 'H:mm'\n};\nvar dateTimeFormats = {\n  any: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'any'\n  })\n};\nexport default formatLong;","import isSameUTCWeek from \"../../../../_lib/isSameUTCWeek/index.js\";\nvar accusativeWeekdays = ['', '', '', '', '', '', ''];\n\nfunction lastWeek(day) {\n  var weekday = accusativeWeekdays[day];\n\n  switch (day) {\n    case 0:\n      return \"'  \" + weekday + \" ' p\";\n\n    case 1:\n    case 2:\n    case 4:\n      return \"'  \" + weekday + \" ' p\";\n\n    case 3:\n    case 5:\n    case 6:\n      return \"'  \" + weekday + \" ' p\";\n  }\n}\n\nfunction thisWeek(day) {\n  var weekday = accusativeWeekdays[day];\n\n  if (day === 2\n  /* Tue */\n  ) {\n      return \"' \" + weekday + \" ' p\";\n    } else {\n    return \"' \" + weekday + \" ' p\";\n  }\n}\n\nfunction nextWeek(day) {\n  var weekday = accusativeWeekdays[day];\n\n  switch (day) {\n    case 0:\n      return \"'  \" + weekday + \" ' p\";\n\n    case 1:\n    case 2:\n    case 4:\n      return \"'  \" + weekday + \" ' p\";\n\n    case 3:\n    case 5:\n    case 6:\n      return \"'  \" + weekday + \" ' p\";\n  }\n}\n\nvar formatRelativeLocale = {\n  lastWeek: function (date, baseDate, options) {\n    var day = date.getUTCDay();\n\n    if (isSameUTCWeek(date, baseDate, options)) {\n      return thisWeek(day);\n    } else {\n      return lastWeek(day);\n    }\n  },\n  yesterday: \"' ' p\",\n  today: \"' ' p\",\n  tomorrow: \"' ' p\",\n  nextWeek: function (date, baseDate, options) {\n    var day = date.getUTCDay();\n\n    if (isSameUTCWeek(date, baseDate, options)) {\n      return thisWeek(day);\n    } else {\n      return nextWeek(day);\n    }\n  },\n  other: 'P'\n};\nexport default function formatRelative(token, date, baseDate, options) {\n  var format = formatRelativeLocale[token];\n\n  if (typeof format === 'function') {\n    return format(date, baseDate, options);\n  }\n\n  return format;\n}","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: [' ..', '..'],\n  abbreviated: [' . .', '. .'],\n  wide: ['  ', ' ']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['1- .', '2- .', '3- .', '4- .'],\n  wide: ['1- ', '2- ', '3- ', '4- ']\n};\nvar monthValues = {\n  narrow: ['', '', '', '', '', '', '', '', '', '', '', ''],\n  abbreviated: ['.', '.', '', '.', '', '', '', '.', '.', '.', '.', '.'],\n  wide: ['', '', '', '', '', '', '', '', '', '', '', '']\n};\nvar formattingMonthValues = {\n  narrow: ['', '', '', '', '', '', '', '', '', '', '', ''],\n  abbreviated: ['.', '.', '.', '.', '', '.', '.', '.', '.', '.', '.', '.'],\n  wide: ['', '', '', '', '', '', '', '', '', '', '', '']\n};\nvar dayValues = {\n  narrow: ['', '', '', '', '', '', ''],\n  short: ['', '', '', '', '', '', ''],\n  abbreviated: ['', '', '', '', '', '', ''],\n  wide: ['', '', '', '', '', '', '']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: '',\n    pm: '',\n    midnight: '.',\n    noon: '.',\n    morning: '',\n    afternoon: '',\n    evening: '.',\n    night: ''\n  },\n  abbreviated: {\n    am: '',\n    pm: '',\n    midnight: '.',\n    noon: '.',\n    morning: '',\n    afternoon: '',\n    evening: '.',\n    night: ''\n  },\n  wide: {\n    am: '',\n    pm: '',\n    midnight: '',\n    noon: '',\n    morning: '',\n    afternoon: '',\n    evening: '',\n    night: ''\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: '',\n    pm: '',\n    midnight: '.',\n    noon: '.',\n    morning: '',\n    afternoon: '',\n    evening: '.',\n    night: ''\n  },\n  abbreviated: {\n    am: '',\n    pm: '',\n    midnight: '.',\n    noon: '.',\n    morning: '',\n    afternoon: '',\n    evening: '.',\n    night: ''\n  },\n  wide: {\n    am: '',\n    pm: '',\n    midnight: '',\n    noon: '',\n    morning: '',\n    afternoon: '',\n    evening: '',\n    night: ''\n  }\n};\n\nfunction ordinalNumber(dirtyNumber, dirtyOptions) {\n  var options = dirtyOptions || {};\n  var unit = String(options.unit);\n  var suffix;\n\n  if (unit === 'date') {\n    suffix = '-';\n  } else if (unit === 'week' || unit === 'minute' || unit === 'second') {\n    suffix = '-';\n  } else {\n    suffix = '-';\n  }\n\n  return dirtyNumber + suffix;\n}\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return Number(quarter) - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingMonthValues,\n    defaultFormattingWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'any',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","import buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nimport buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(-?(||||||||||))?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(( )?\\.?\\s?\\.?)/i,\n  abbreviated: /^(( )?\\.?\\s?\\.?)/i,\n  wide: /^(  | | )/i\n};\nvar parseEraPatterns = {\n  any: [/^/i, /^/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^[1234](-?[]??)? .?/i,\n  wide: /^[1234](-?[]??)? /i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[]/i,\n  abbreviated: /^(||?||[]|[]?|[]?||?||?|)\\.?/i,\n  wide: /^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i],\n  any: [/^/i, /^/i, /^/i, /^/i, /^[]/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[]/i,\n  short: /^(|||||||||||)\\.?/i,\n  abbreviated: /^(||||||||||||).?/i,\n  wide: /^([]|?|?|[]|?|[]|[])/i\n};\nvar parseDayPatterns = {\n  narrow: [/^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i],\n  any: [/^[]/i, /^[]/i, /^/i, /^/i, /^/i, /^[]/i, /^[]/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^([]|\\.?|\\.?|[]|||\\.?|[])/i,\n  abbreviated: /^([]|\\.?|\\.?|[]|||\\.?|[])/i,\n  wide: /^([]|||[]|||?|[])/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^/i,\n    pm: /^/i,\n    midnight: /^/i,\n    noon: /^/i,\n    morning: /^/i,\n    afternoon: /^[]/i,\n    evening: /^/i,\n    night: /^/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n/**\n * @type {Locale}\n * @category Locales\n * @summary Russian locale.\n * @language Russian\n * @iso-639-2 rus\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\n\nvar locale = {\n  code: 'ru',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 1\n    /* Monday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = connectAdvanced;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _hoistNonReactStatics = _interopRequireDefault(require(\"hoist-non-react-statics\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactIs = require(\"react-is\");\n\nvar _Subscription = _interopRequireDefault(require(\"../utils/Subscription\"));\n\nvar _PropTypes = require(\"../utils/PropTypes\");\n\nvar prefixUnsafeLifecycleMethods = typeof _react.default.forwardRef !== \"undefined\";\nvar hotReloadingVersion = 0;\nvar dummyState = {};\n\nfunction noop() {}\n\nfunction makeSelectorStateful(sourceSelector, store) {\n  // wrap the selector in an object that tracks its results between runs.\n  var selector = {\n    run: function runComponentSelector(props) {\n      try {\n        var nextProps = sourceSelector(store.getState(), props);\n\n        if (nextProps !== selector.props || selector.error) {\n          selector.shouldComponentUpdate = true;\n          selector.props = nextProps;\n          selector.error = null;\n        }\n      } catch (error) {\n        selector.shouldComponentUpdate = true;\n        selector.error = error;\n      }\n    }\n  };\n  return selector;\n}\n\nfunction connectAdvanced(\n/*\n  selectorFactory is a func that is responsible for returning the selector function used to\n  compute new props from state, props, and dispatch. For example:\n     export default connectAdvanced((dispatch, options) => (state, props) => ({\n      thing: state.things[props.thingId],\n      saveThing: fields => dispatch(actionCreators.saveThing(props.thingId, fields)),\n    }))(YourComponent)\n   Access to dispatch is provided to the factory so selectorFactories can bind actionCreators\n  outside of their selector as an optimization. Options passed to connectAdvanced are passed to\n  the selectorFactory, along with displayName and WrappedComponent, as the second argument.\n   Note that selectorFactory is responsible for all caching/memoization of inbound and outbound\n  props. Do not use connectAdvanced directly without memoizing results between calls to your\n  selector, otherwise the Connect component will re-render on every state or props change.\n*/\nselectorFactory, // options object:\n_ref) {\n  var _contextTypes, _childContextTypes;\n\n  if (_ref === void 0) {\n    _ref = {};\n  }\n\n  var _ref2 = _ref,\n      _ref2$getDisplayName = _ref2.getDisplayName,\n      getDisplayName = _ref2$getDisplayName === void 0 ? function (name) {\n    return \"ConnectAdvanced(\" + name + \")\";\n  } : _ref2$getDisplayName,\n      _ref2$methodName = _ref2.methodName,\n      methodName = _ref2$methodName === void 0 ? 'connectAdvanced' : _ref2$methodName,\n      _ref2$renderCountProp = _ref2.renderCountProp,\n      renderCountProp = _ref2$renderCountProp === void 0 ? undefined : _ref2$renderCountProp,\n      _ref2$shouldHandleSta = _ref2.shouldHandleStateChanges,\n      shouldHandleStateChanges = _ref2$shouldHandleSta === void 0 ? true : _ref2$shouldHandleSta,\n      _ref2$storeKey = _ref2.storeKey,\n      storeKey = _ref2$storeKey === void 0 ? 'store' : _ref2$storeKey,\n      _ref2$withRef = _ref2.withRef,\n      withRef = _ref2$withRef === void 0 ? false : _ref2$withRef,\n      connectOptions = (0, _objectWithoutPropertiesLoose2.default)(_ref2, [\"getDisplayName\", \"methodName\", \"renderCountProp\", \"shouldHandleStateChanges\", \"storeKey\", \"withRef\"]);\n  var subscriptionKey = storeKey + 'Subscription';\n  var version = hotReloadingVersion++;\n  var contextTypes = (_contextTypes = {}, _contextTypes[storeKey] = _PropTypes.storeShape, _contextTypes[subscriptionKey] = _PropTypes.subscriptionShape, _contextTypes);\n  var childContextTypes = (_childContextTypes = {}, _childContextTypes[subscriptionKey] = _PropTypes.subscriptionShape, _childContextTypes);\n  return function wrapWithConnect(WrappedComponent) {\n    (0, _invariant.default)((0, _reactIs.isValidElementType)(WrappedComponent), \"You must pass a component to the function returned by \" + (methodName + \". Instead received \" + JSON.stringify(WrappedComponent)));\n    var wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n    var displayName = getDisplayName(wrappedComponentName);\n    var selectorFactoryOptions = (0, _extends2.default)({}, connectOptions, {\n      getDisplayName: getDisplayName,\n      methodName: methodName,\n      renderCountProp: renderCountProp,\n      shouldHandleStateChanges: shouldHandleStateChanges,\n      storeKey: storeKey,\n      withRef: withRef,\n      displayName: displayName,\n      wrappedComponentName: wrappedComponentName,\n      WrappedComponent: WrappedComponent // TODO Actually fix our use of componentWillReceiveProps\n\n      /* eslint-disable react/no-deprecated */\n\n    });\n\n    var Connect =\n    /*#__PURE__*/\n    function (_Component) {\n      (0, _inheritsLoose2.default)(Connect, _Component);\n\n      function Connect(props, context) {\n        var _this;\n\n        _this = _Component.call(this, props, context) || this;\n        _this.version = version;\n        _this.state = {};\n        _this.renderCount = 0;\n        _this.store = props[storeKey] || context[storeKey];\n        _this.propsMode = Boolean(props[storeKey]);\n        _this.setWrappedInstance = _this.setWrappedInstance.bind((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n        (0, _invariant.default)(_this.store, \"Could not find \\\"\" + storeKey + \"\\\" in either the context or props of \" + (\"\\\"\" + displayName + \"\\\". Either wrap the root component in a <Provider>, \") + (\"or explicitly pass \\\"\" + storeKey + \"\\\" as a prop to \\\"\" + displayName + \"\\\".\"));\n\n        _this.initSelector();\n\n        _this.initSubscription();\n\n        return _this;\n      }\n\n      var _proto = Connect.prototype;\n\n      _proto.getChildContext = function getChildContext() {\n        var _ref3;\n\n        // If this component received store from props, its subscription should be transparent\n        // to any descendants receiving store+subscription from context; it passes along\n        // subscription passed to it. Otherwise, it shadows the parent subscription, which allows\n        // Connect to control ordering of notifications to flow top-down.\n        var subscription = this.propsMode ? null : this.subscription;\n        return _ref3 = {}, _ref3[subscriptionKey] = subscription || this.context[subscriptionKey], _ref3;\n      };\n\n      _proto.componentDidMount = function componentDidMount() {\n        if (!shouldHandleStateChanges) return; // componentWillMount fires during server side rendering, but componentDidMount and\n        // componentWillUnmount do not. Because of this, trySubscribe happens during ...didMount.\n        // Otherwise, unsubscription would never take place during SSR, causing a memory leak.\n        // To handle the case where a child component may have triggered a state change by\n        // dispatching an action in its componentWillMount, we have to re-run the select and maybe\n        // re-render.\n\n        this.subscription.trySubscribe();\n        this.selector.run(this.props);\n        if (this.selector.shouldComponentUpdate) this.forceUpdate();\n      }; // Note: this is renamed below to the UNSAFE_ version in React >=16.3.0\n\n\n      _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n        this.selector.run(nextProps);\n      };\n\n      _proto.shouldComponentUpdate = function shouldComponentUpdate() {\n        return this.selector.shouldComponentUpdate;\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        if (this.subscription) this.subscription.tryUnsubscribe();\n        this.subscription = null;\n        this.notifyNestedSubs = noop;\n        this.store = null;\n        this.selector.run = noop;\n        this.selector.shouldComponentUpdate = false;\n      };\n\n      _proto.getWrappedInstance = function getWrappedInstance() {\n        (0, _invariant.default)(withRef, \"To access the wrapped instance, you need to specify \" + (\"{ withRef: true } in the options argument of the \" + methodName + \"() call.\"));\n        return this.wrappedInstance;\n      };\n\n      _proto.setWrappedInstance = function setWrappedInstance(ref) {\n        this.wrappedInstance = ref;\n      };\n\n      _proto.initSelector = function initSelector() {\n        var sourceSelector = selectorFactory(this.store.dispatch, selectorFactoryOptions);\n        this.selector = makeSelectorStateful(sourceSelector, this.store);\n        this.selector.run(this.props);\n      };\n\n      _proto.initSubscription = function initSubscription() {\n        if (!shouldHandleStateChanges) return; // parentSub's source should match where store came from: props vs. context. A component\n        // connected to the store via props shouldn't use subscription from context, or vice versa.\n\n        var parentSub = (this.propsMode ? this.props : this.context)[subscriptionKey];\n        this.subscription = new _Subscription.default(this.store, parentSub, this.onStateChange.bind(this)); // `notifyNestedSubs` is duplicated to handle the case where the component is unmounted in\n        // the middle of the notification loop, where `this.subscription` will then be null. An\n        // extra null check every change can be avoided by copying the method onto `this` and then\n        // replacing it with a no-op on unmount. This can probably be avoided if Subscription's\n        // listeners logic is changed to not call listeners that have been unsubscribed in the\n        // middle of the notification loop.\n\n        this.notifyNestedSubs = this.subscription.notifyNestedSubs.bind(this.subscription);\n      };\n\n      _proto.onStateChange = function onStateChange() {\n        this.selector.run(this.props);\n\n        if (!this.selector.shouldComponentUpdate) {\n          this.notifyNestedSubs();\n        } else {\n          this.componentDidUpdate = this.notifyNestedSubsOnComponentDidUpdate;\n          this.setState(dummyState);\n        }\n      };\n\n      _proto.notifyNestedSubsOnComponentDidUpdate = function notifyNestedSubsOnComponentDidUpdate() {\n        // `componentDidUpdate` is conditionally implemented when `onStateChange` determines it\n        // needs to notify nested subs. Once called, it unimplements itself until further state\n        // changes occur. Doing it this way vs having a permanent `componentDidUpdate` that does\n        // a boolean check every time avoids an extra method call most of the time, resulting\n        // in some perf boost.\n        this.componentDidUpdate = undefined;\n        this.notifyNestedSubs();\n      };\n\n      _proto.isSubscribed = function isSubscribed() {\n        return Boolean(this.subscription) && this.subscription.isSubscribed();\n      };\n\n      _proto.addExtraProps = function addExtraProps(props) {\n        if (!withRef && !renderCountProp && !(this.propsMode && this.subscription)) return props; // make a shallow copy so that fields added don't leak to the original selector.\n        // this is especially important for 'ref' since that's a reference back to the component\n        // instance. a singleton memoized selector would then be holding a reference to the\n        // instance, preventing the instance from being garbage collected, and that would be bad\n\n        var withExtras = (0, _extends2.default)({}, props);\n        if (withRef) withExtras.ref = this.setWrappedInstance;\n        if (renderCountProp) withExtras[renderCountProp] = this.renderCount++;\n        if (this.propsMode && this.subscription) withExtras[subscriptionKey] = this.subscription;\n        return withExtras;\n      };\n\n      _proto.render = function render() {\n        var selector = this.selector;\n        selector.shouldComponentUpdate = false;\n\n        if (selector.error) {\n          throw selector.error;\n        } else {\n          return (0, _react.createElement)(WrappedComponent, this.addExtraProps(selector.props));\n        }\n      };\n\n      return Connect;\n    }(_react.Component);\n\n    if (prefixUnsafeLifecycleMethods) {\n      // Use UNSAFE_ event name where supported\n      Connect.prototype.UNSAFE_componentWillReceiveProps = Connect.prototype.componentWillReceiveProps;\n      delete Connect.prototype.componentWillReceiveProps;\n    }\n    /* eslint-enable react/no-deprecated */\n\n\n    Connect.WrappedComponent = WrappedComponent;\n    Connect.displayName = displayName;\n    Connect.childContextTypes = childContextTypes;\n    Connect.contextTypes = contextTypes;\n    Connect.propTypes = contextTypes;\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Use UNSAFE_ event name where supported\n      var eventName = prefixUnsafeLifecycleMethods ? 'UNSAFE_componentWillUpdate' : 'componentWillUpdate';\n\n      Connect.prototype[eventName] = function componentWillUpdate() {\n        var _this2 = this;\n\n        // We are hot reloading!\n        if (this.version !== version) {\n          this.version = version;\n          this.initSelector(); // If any connected descendants don't hot reload (and resubscribe in the process), their\n          // listeners will be lost when we unsubscribe. Unfortunately, by copying over all\n          // listeners, this does mean that the old versions of connected descendants will still be\n          // notified of state changes; however, their onStateChange function is a no-op so this\n          // isn't a huge deal.\n\n          var oldListeners = [];\n\n          if (this.subscription) {\n            oldListeners = this.subscription.listeners.get();\n            this.subscription.tryUnsubscribe();\n          }\n\n          this.initSubscription();\n\n          if (shouldHandleStateChanges) {\n            this.subscription.trySubscribe();\n            oldListeners.forEach(function (listener) {\n              return _this2.subscription.listeners.subscribe(listener);\n            });\n          }\n        }\n      };\n    }\n\n    return (0, _hoistNonReactStatics.default)(Connect, WrappedComponent);\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.createConnect = createConnect;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _connectAdvanced = _interopRequireDefault(require(\"../components/connectAdvanced\"));\n\nvar _shallowEqual = _interopRequireDefault(require(\"../utils/shallowEqual\"));\n\nvar _mapDispatchToProps = _interopRequireDefault(require(\"./mapDispatchToProps\"));\n\nvar _mapStateToProps = _interopRequireDefault(require(\"./mapStateToProps\"));\n\nvar _mergeProps = _interopRequireDefault(require(\"./mergeProps\"));\n\nvar _selectorFactory = _interopRequireDefault(require(\"./selectorFactory\"));\n\n/*\n  connect is a facade over connectAdvanced. It turns its args into a compatible\n  selectorFactory, which has the signature:\n\n    (dispatch, options) => (nextState, nextOwnProps) => nextFinalProps\n  \n  connect passes its args to connectAdvanced as options, which will in turn pass them to\n  selectorFactory each time a Connect component instance is instantiated or hot reloaded.\n\n  selectorFactory returns a final props selector from its mapStateToProps,\n  mapStateToPropsFactories, mapDispatchToProps, mapDispatchToPropsFactories, mergeProps,\n  mergePropsFactories, and pure args.\n\n  The resulting final props selector is called by the Connect component instance whenever\n  it receives new props or store state.\n */\nfunction match(arg, factories, name) {\n  for (var i = factories.length - 1; i >= 0; i--) {\n    var result = factories[i](arg);\n    if (result) return result;\n  }\n\n  return function (dispatch, options) {\n    throw new Error(\"Invalid value of type \" + typeof arg + \" for \" + name + \" argument when connecting component \" + options.wrappedComponentName + \".\");\n  };\n}\n\nfunction strictEqual(a, b) {\n  return a === b;\n} // createConnect with default args builds the 'official' connect behavior. Calling it with\n// different options opens up some testing and extensibility scenarios\n\n\nfunction createConnect(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$connectHOC = _ref.connectHOC,\n      connectHOC = _ref$connectHOC === void 0 ? _connectAdvanced.default : _ref$connectHOC,\n      _ref$mapStateToPropsF = _ref.mapStateToPropsFactories,\n      mapStateToPropsFactories = _ref$mapStateToPropsF === void 0 ? _mapStateToProps.default : _ref$mapStateToPropsF,\n      _ref$mapDispatchToPro = _ref.mapDispatchToPropsFactories,\n      mapDispatchToPropsFactories = _ref$mapDispatchToPro === void 0 ? _mapDispatchToProps.default : _ref$mapDispatchToPro,\n      _ref$mergePropsFactor = _ref.mergePropsFactories,\n      mergePropsFactories = _ref$mergePropsFactor === void 0 ? _mergeProps.default : _ref$mergePropsFactor,\n      _ref$selectorFactory = _ref.selectorFactory,\n      selectorFactory = _ref$selectorFactory === void 0 ? _selectorFactory.default : _ref$selectorFactory;\n\n  return function connect(mapStateToProps, mapDispatchToProps, mergeProps, _ref2) {\n    if (_ref2 === void 0) {\n      _ref2 = {};\n    }\n\n    var _ref3 = _ref2,\n        _ref3$pure = _ref3.pure,\n        pure = _ref3$pure === void 0 ? true : _ref3$pure,\n        _ref3$areStatesEqual = _ref3.areStatesEqual,\n        areStatesEqual = _ref3$areStatesEqual === void 0 ? strictEqual : _ref3$areStatesEqual,\n        _ref3$areOwnPropsEqua = _ref3.areOwnPropsEqual,\n        areOwnPropsEqual = _ref3$areOwnPropsEqua === void 0 ? _shallowEqual.default : _ref3$areOwnPropsEqua,\n        _ref3$areStatePropsEq = _ref3.areStatePropsEqual,\n        areStatePropsEqual = _ref3$areStatePropsEq === void 0 ? _shallowEqual.default : _ref3$areStatePropsEq,\n        _ref3$areMergedPropsE = _ref3.areMergedPropsEqual,\n        areMergedPropsEqual = _ref3$areMergedPropsE === void 0 ? _shallowEqual.default : _ref3$areMergedPropsE,\n        extraOptions = (0, _objectWithoutPropertiesLoose2.default)(_ref3, [\"pure\", \"areStatesEqual\", \"areOwnPropsEqual\", \"areStatePropsEqual\", \"areMergedPropsEqual\"]);\n    var initMapStateToProps = match(mapStateToProps, mapStateToPropsFactories, 'mapStateToProps');\n    var initMapDispatchToProps = match(mapDispatchToProps, mapDispatchToPropsFactories, 'mapDispatchToProps');\n    var initMergeProps = match(mergeProps, mergePropsFactories, 'mergeProps');\n    return connectHOC(selectorFactory, (0, _extends2.default)({\n      // used in error messages\n      methodName: 'connect',\n      // used to compute Connect's displayName from the wrapped component's displayName.\n      getDisplayName: function getDisplayName(name) {\n        return \"Connect(\" + name + \")\";\n      },\n      // if mapStateToProps is falsy, the Connect component doesn't subscribe to store state changes\n      shouldHandleStateChanges: Boolean(mapStateToProps),\n      // passed through to selectorFactory\n      initMapStateToProps: initMapStateToProps,\n      initMapDispatchToProps: initMapDispatchToProps,\n      initMergeProps: initMergeProps,\n      pure: pure,\n      areStatesEqual: areStatesEqual,\n      areOwnPropsEqual: areOwnPropsEqual,\n      areStatePropsEqual: areStatePropsEqual,\n      areMergedPropsEqual: areMergedPropsEqual\n    }, extraOptions));\n  };\n}\n\nvar _default = createConnect();\n\nexports.default = _default;","\"use strict\";\n\nexports.__esModule = true;\nexports.whenMapDispatchToPropsIsFunction = whenMapDispatchToPropsIsFunction;\nexports.whenMapDispatchToPropsIsMissing = whenMapDispatchToPropsIsMissing;\nexports.whenMapDispatchToPropsIsObject = whenMapDispatchToPropsIsObject;\nexports.default = void 0;\n\nvar _redux = require(\"redux\");\n\nvar _wrapMapToProps = require(\"./wrapMapToProps\");\n\nfunction whenMapDispatchToPropsIsFunction(mapDispatchToProps) {\n  return typeof mapDispatchToProps === 'function' ? (0, _wrapMapToProps.wrapMapToPropsFunc)(mapDispatchToProps, 'mapDispatchToProps') : undefined;\n}\n\nfunction whenMapDispatchToPropsIsMissing(mapDispatchToProps) {\n  return !mapDispatchToProps ? (0, _wrapMapToProps.wrapMapToPropsConstant)(function (dispatch) {\n    return {\n      dispatch: dispatch\n    };\n  }) : undefined;\n}\n\nfunction whenMapDispatchToPropsIsObject(mapDispatchToProps) {\n  return mapDispatchToProps && typeof mapDispatchToProps === 'object' ? (0, _wrapMapToProps.wrapMapToPropsConstant)(function (dispatch) {\n    return (0, _redux.bindActionCreators)(mapDispatchToProps, dispatch);\n  }) : undefined;\n}\n\nvar _default = [whenMapDispatchToPropsIsFunction, whenMapDispatchToPropsIsMissing, whenMapDispatchToPropsIsObject];\nexports.default = _default;","\"use strict\";\n\nexports.__esModule = true;\nexports.whenMapStateToPropsIsFunction = whenMapStateToPropsIsFunction;\nexports.whenMapStateToPropsIsMissing = whenMapStateToPropsIsMissing;\nexports.default = void 0;\n\nvar _wrapMapToProps = require(\"./wrapMapToProps\");\n\nfunction whenMapStateToPropsIsFunction(mapStateToProps) {\n  return typeof mapStateToProps === 'function' ? (0, _wrapMapToProps.wrapMapToPropsFunc)(mapStateToProps, 'mapStateToProps') : undefined;\n}\n\nfunction whenMapStateToPropsIsMissing(mapStateToProps) {\n  return !mapStateToProps ? (0, _wrapMapToProps.wrapMapToPropsConstant)(function () {\n    return {};\n  }) : undefined;\n}\n\nvar _default = [whenMapStateToPropsIsFunction, whenMapStateToPropsIsMissing];\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.defaultMergeProps = defaultMergeProps;\nexports.wrapMergePropsFunc = wrapMergePropsFunc;\nexports.whenMergePropsIsFunction = whenMergePropsIsFunction;\nexports.whenMergePropsIsOmitted = whenMergePropsIsOmitted;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _verifyPlainObject = _interopRequireDefault(require(\"../utils/verifyPlainObject\"));\n\nfunction defaultMergeProps(stateProps, dispatchProps, ownProps) {\n  return (0, _extends2.default)({}, ownProps, stateProps, dispatchProps);\n}\n\nfunction wrapMergePropsFunc(mergeProps) {\n  return function initMergePropsProxy(dispatch, _ref) {\n    var displayName = _ref.displayName,\n        pure = _ref.pure,\n        areMergedPropsEqual = _ref.areMergedPropsEqual;\n    var hasRunOnce = false;\n    var mergedProps;\n    return function mergePropsProxy(stateProps, dispatchProps, ownProps) {\n      var nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n\n      if (hasRunOnce) {\n        if (!pure || !areMergedPropsEqual(nextMergedProps, mergedProps)) mergedProps = nextMergedProps;\n      } else {\n        hasRunOnce = true;\n        mergedProps = nextMergedProps;\n        if (process.env.NODE_ENV !== 'production') (0, _verifyPlainObject.default)(mergedProps, displayName, 'mergeProps');\n      }\n\n      return mergedProps;\n    };\n  };\n}\n\nfunction whenMergePropsIsFunction(mergeProps) {\n  return typeof mergeProps === 'function' ? wrapMergePropsFunc(mergeProps) : undefined;\n}\n\nfunction whenMergePropsIsOmitted(mergeProps) {\n  return !mergeProps ? function () {\n    return defaultMergeProps;\n  } : undefined;\n}\n\nvar _default = [whenMergePropsIsFunction, whenMergePropsIsOmitted];\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.impureFinalPropsSelectorFactory = impureFinalPropsSelectorFactory;\nexports.pureFinalPropsSelectorFactory = pureFinalPropsSelectorFactory;\nexports.default = finalPropsSelectorFactory;\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _verifySubselectors = _interopRequireDefault(require(\"./verifySubselectors\"));\n\nfunction impureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch) {\n  return function impureFinalPropsSelector(state, ownProps) {\n    return mergeProps(mapStateToProps(state, ownProps), mapDispatchToProps(dispatch, ownProps), ownProps);\n  };\n}\n\nfunction pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, _ref) {\n  var areStatesEqual = _ref.areStatesEqual,\n      areOwnPropsEqual = _ref.areOwnPropsEqual,\n      areStatePropsEqual = _ref.areStatePropsEqual;\n  var hasRunAtLeastOnce = false;\n  var state;\n  var ownProps;\n  var stateProps;\n  var dispatchProps;\n  var mergedProps;\n\n  function handleFirstCall(firstState, firstOwnProps) {\n    state = firstState;\n    ownProps = firstOwnProps;\n    stateProps = mapStateToProps(state, ownProps);\n    dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    hasRunAtLeastOnce = true;\n    return mergedProps;\n  }\n\n  function handleNewPropsAndNewState() {\n    stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewProps() {\n    if (mapStateToProps.dependsOnOwnProps) stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewState() {\n    var nextStateProps = mapStateToProps(state, ownProps);\n    var statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);\n    stateProps = nextStateProps;\n    if (statePropsChanged) mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleSubsequentCalls(nextState, nextOwnProps) {\n    var propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);\n    var stateChanged = !areStatesEqual(nextState, state);\n    state = nextState;\n    ownProps = nextOwnProps;\n    if (propsChanged && stateChanged) return handleNewPropsAndNewState();\n    if (propsChanged) return handleNewProps();\n    if (stateChanged) return handleNewState();\n    return mergedProps;\n  }\n\n  return function pureFinalPropsSelector(nextState, nextOwnProps) {\n    return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);\n  };\n} // TODO: Add more comments\n// If pure is true, the selector returned by selectorFactory will memoize its results,\n// allowing connectAdvanced's shouldComponentUpdate to return false if final\n// props have not changed. If false, the selector will always return a new\n// object and shouldComponentUpdate will always return true.\n\n\nfunction finalPropsSelectorFactory(dispatch, _ref2) {\n  var initMapStateToProps = _ref2.initMapStateToProps,\n      initMapDispatchToProps = _ref2.initMapDispatchToProps,\n      initMergeProps = _ref2.initMergeProps,\n      options = (0, _objectWithoutPropertiesLoose2.default)(_ref2, [\"initMapStateToProps\", \"initMapDispatchToProps\", \"initMergeProps\"]);\n  var mapStateToProps = initMapStateToProps(dispatch, options);\n  var mapDispatchToProps = initMapDispatchToProps(dispatch, options);\n  var mergeProps = initMergeProps(dispatch, options);\n\n  if (process.env.NODE_ENV !== 'production') {\n    (0, _verifySubselectors.default)(mapStateToProps, mapDispatchToProps, mergeProps, options.displayName);\n  }\n\n  var selectorFactory = options.pure ? pureFinalPropsSelectorFactory : impureFinalPropsSelectorFactory;\n  return selectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = verifySubselectors;\n\nvar _warning = _interopRequireDefault(require(\"../utils/warning\"));\n\nfunction verify(selector, methodName, displayName) {\n  if (!selector) {\n    throw new Error(\"Unexpected value for \" + methodName + \" in \" + displayName + \".\");\n  } else if (methodName === 'mapStateToProps' || methodName === 'mapDispatchToProps') {\n    if (!selector.hasOwnProperty('dependsOnOwnProps')) {\n      (0, _warning.default)(\"The selector for \" + methodName + \" of \" + displayName + \" did not specify a value for dependsOnOwnProps.\");\n    }\n  }\n}\n\nfunction verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps, displayName) {\n  verify(mapStateToProps, 'mapStateToProps', displayName);\n  verify(mapDispatchToProps, 'mapDispatchToProps', displayName);\n  verify(mergeProps, 'mergeProps', displayName);\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.wrapMapToPropsConstant = wrapMapToPropsConstant;\nexports.getDependsOnOwnProps = getDependsOnOwnProps;\nexports.wrapMapToPropsFunc = wrapMapToPropsFunc;\n\nvar _verifyPlainObject = _interopRequireDefault(require(\"../utils/verifyPlainObject\"));\n\nfunction wrapMapToPropsConstant(getConstant) {\n  return function initConstantSelector(dispatch, options) {\n    var constant = getConstant(dispatch, options);\n\n    function constantSelector() {\n      return constant;\n    }\n\n    constantSelector.dependsOnOwnProps = false;\n    return constantSelector;\n  };\n} // dependsOnOwnProps is used by createMapToPropsProxy to determine whether to pass props as args\n// to the mapToProps function being wrapped. It is also used by makePurePropsSelector to determine\n// whether mapToProps needs to be invoked when props have changed.\n// \n// A length of one signals that mapToProps does not depend on props from the parent component.\n// A length of zero is assumed to mean mapToProps is getting args via arguments or ...args and\n// therefore not reporting its length accurately..\n\n\nfunction getDependsOnOwnProps(mapToProps) {\n  return mapToProps.dependsOnOwnProps !== null && mapToProps.dependsOnOwnProps !== undefined ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;\n} // Used by whenMapStateToPropsIsFunction and whenMapDispatchToPropsIsFunction,\n// this function wraps mapToProps in a proxy function which does several things:\n// \n//  * Detects whether the mapToProps function being called depends on props, which\n//    is used by selectorFactory to decide if it should reinvoke on props changes.\n//    \n//  * On first call, handles mapToProps if returns another function, and treats that\n//    new function as the true mapToProps for subsequent calls.\n//    \n//  * On first call, verifies the first result is a plain object, in order to warn\n//    the developer that their mapToProps function is not returning a valid result.\n//    \n\n\nfunction wrapMapToPropsFunc(mapToProps, methodName) {\n  return function initProxySelector(dispatch, _ref) {\n    var displayName = _ref.displayName;\n\n    var proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {\n      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch);\n    }; // allow detectFactoryAndVerify to get ownProps\n\n\n    proxy.dependsOnOwnProps = true;\n\n    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {\n      proxy.mapToProps = mapToProps;\n      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);\n      var props = proxy(stateOrDispatch, ownProps);\n\n      if (typeof props === 'function') {\n        proxy.mapToProps = props;\n        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);\n        props = proxy(stateOrDispatch, ownProps);\n      }\n\n      if (process.env.NODE_ENV !== 'production') (0, _verifyPlainObject.default)(props, displayName, methodName);\n      return props;\n    };\n\n    return proxy;\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.storeShape = exports.subscriptionShape = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar subscriptionShape = _propTypes.default.shape({\n  trySubscribe: _propTypes.default.func.isRequired,\n  tryUnsubscribe: _propTypes.default.func.isRequired,\n  notifyNestedSubs: _propTypes.default.func.isRequired,\n  isSubscribed: _propTypes.default.func.isRequired\n});\n\nexports.subscriptionShape = subscriptionShape;\n\nvar storeShape = _propTypes.default.shape({\n  subscribe: _propTypes.default.func.isRequired,\n  dispatch: _propTypes.default.func.isRequired,\n  getState: _propTypes.default.func.isRequired\n});\n\nexports.storeShape = storeShape;","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n// encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\nvar CLEARED = null;\nvar nullListeners = {\n  notify: function notify() {}\n};\n\nfunction createListenerCollection() {\n  // the current/next pattern is copied from redux's createStore code.\n  // TODO: refactor+expose that code to be reusable here?\n  var current = [];\n  var next = [];\n  return {\n    clear: function clear() {\n      next = CLEARED;\n      current = CLEARED;\n    },\n    notify: function notify() {\n      var listeners = current = next;\n\n      for (var i = 0; i < listeners.length; i++) {\n        listeners[i]();\n      }\n    },\n    get: function get() {\n      return next;\n    },\n    subscribe: function subscribe(listener) {\n      var isSubscribed = true;\n      if (next === current) next = current.slice();\n      next.push(listener);\n      return function unsubscribe() {\n        if (!isSubscribed || current === CLEARED) return;\n        isSubscribed = false;\n        if (next === current) next = current.slice();\n        next.splice(next.indexOf(listener), 1);\n      };\n    }\n  };\n}\n\nvar Subscription =\n/*#__PURE__*/\nfunction () {\n  function Subscription(store, parentSub, onStateChange) {\n    this.store = store;\n    this.parentSub = parentSub;\n    this.onStateChange = onStateChange;\n    this.unsubscribe = null;\n    this.listeners = nullListeners;\n  }\n\n  var _proto = Subscription.prototype;\n\n  _proto.addNestedSub = function addNestedSub(listener) {\n    this.trySubscribe();\n    return this.listeners.subscribe(listener);\n  };\n\n  _proto.notifyNestedSubs = function notifyNestedSubs() {\n    this.listeners.notify();\n  };\n\n  _proto.isSubscribed = function isSubscribed() {\n    return Boolean(this.unsubscribe);\n  };\n\n  _proto.trySubscribe = function trySubscribe() {\n    if (!this.unsubscribe) {\n      this.unsubscribe = this.parentSub ? this.parentSub.addNestedSub(this.onStateChange) : this.store.subscribe(this.onStateChange);\n      this.listeners = createListenerCollection();\n    }\n  };\n\n  _proto.tryUnsubscribe = function tryUnsubscribe() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n      this.unsubscribe = null;\n      this.listeners.clear();\n      this.listeners = nullListeners;\n    }\n  };\n\n  return Subscription;\n}();\n\nexports.default = Subscription;","\"use strict\";\n\nexports.__esModule = true;\nexports.default = isPlainObject;\n\n/**\r\n * @param {any} obj The object to inspect.\r\n * @returns {boolean} True if the argument appears to be a plain object.\r\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = Object.getPrototypeOf(obj);\n  if (proto === null) return true;\n  var baseProto = proto;\n\n  while (Object.getPrototypeOf(baseProto) !== null) {\n    baseProto = Object.getPrototypeOf(baseProto);\n  }\n\n  return proto === baseProto;\n}","\"use strict\";\n\nexports.__esModule = true;\nexports.default = shallowEqual;\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) return true;\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = verifyPlainObject;\n\nvar _isPlainObject = _interopRequireDefault(require(\"./isPlainObject\"));\n\nvar _warning = _interopRequireDefault(require(\"./warning\"));\n\nfunction verifyPlainObject(value, displayName, methodName) {\n  if (!(0, _isPlainObject.default)(value)) {\n    (0, _warning.default)(methodName + \"() in \" + displayName + \" must return a plain object. Instead received \" + value + \".\");\n  }\n}","\"use strict\";\n\nexports.__esModule = true;\nexports.default = warning;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n\n}","/** @module Hello\n *  @since 2020.07.20, 19:07\n *  @changed 2020.07.20, 19:07\n */\n\nimport React from 'react';\nimport { cn } from 'utils/configure';\n// import config from 'config'\n\nimport './Hello.pcss';\n\nimport LockImage from './img/LockColor2.svg';\n// const LockImage = require('./img/LockColor2.svg'); // ts\n\nconst cnHello = cn('Hello');\n\nconst Hello = ({ greeting = 'Greeting', name = 'Name' }) => {\n  const className = cnHello();\n  const str = 'Hello:DEBUG';\n  // console.log(str, greeting, name);\n  // debugger;\n  return (\n    <div className={className} title={str}>\n      <h1 className={cnHello('Title')}>{greeting}, {name}!</h1>\n      <div className={cnHello('LockImage')}>\n        <img src={LockImage} />\n      </div>\n    </div>\n  );\n};\n\nexport default Hello;\n","// NOTE: Workaround for directory index in TS\nexport { default } from './Hello';\n// import Hello from './Hello';\n// export { default Hello;\n","export { default } from './DateTimeSelector';\n","export { default } from './InlineIcon';\n","export { default } from './Loader';\n","export { default } from './MenuItemSeparator';\n","export { default } from './MenuItem';\n","export { default } from './Menu';\n","export { default } from './ModalPopup';\n","export { default, passModalPortalProps } from './ModalPortal';\n","export { default } from './ModalWindow';\n","export { default } from './ModalsController';\n// NOTE: Workaround for directory index in TS\n// import ModalsController from './ModalsController';\n// export default ModalsController;\n","export { default } from './ModalsProxy';\n","export { default } from './FormActions';\n","export { default } from './FormBooleanHOC';\n","export { default } from './FormButtonGroup';\n","export { default } from './FormButton';\n","export { default } from './FormContainer';\n","export { default } from './FormDateRangeSingleBox';\n","export { default } from './FormDateRange';\n","export { default } from './FormDateTime';\n","export { default } from './FormDelim';\n","export { default } from './FormGroup';\n","export { default } from './FormInputGroup';\n","export { default } from './FormInteractiveItemHOC';\n","export { default } from './FormItemDummy';\n","export { default } from './FormItemHOC';\n","export { default } from './FormLabel';\n","export { default } from './FormLabeledGroup';\n","export { default } from './FormPager';\n","export { default } from './FormPasswordInput';\n","export { default } from './FormRadio';\n","export { default } from './FormSelect';\n","export { default } from './FormSeparator';\n","export { default } from './FormSpacer';\n","export { default } from './FormTextInput';\n","export { default } from './FormText';\n","export default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggc3R5bGU9ImZpbGw6I0Y3RjJGNDsiIGQ9Ik00MzIsNDg3SDgwYy00NC4xMTIsMC04MC0zNS44ODgtODAtODBzMzUuODg4LTgwLDgwLTgwaDM1MmM0NC4xMTIsMCw4MCwzNS44ODgsODAsODANCglTNDc2LjExMiw0ODcsNDMyLDQ4N3oiLz4NCjxnPg0KCTxjaXJjbGUgc3R5bGU9ImZpbGw6IzZENzM3RjsiIGN4PSIyMDYiIGN5PSI0MDciIHI9IjI1Ii8+DQoJPGNpcmNsZSBzdHlsZT0iZmlsbDojNkQ3MzdGOyIgY3g9IjEwNiIgY3k9IjQwNyIgcj0iMjUiLz4NCgk8cGF0aCBzdHlsZT0iZmlsbDojNkQ3MzdGOyIgZD0iTTMxNiwxNTdIMTk2Yy04LjI4NCwwLTE1LTYuNzE2LTE1LTE1di00MmMwLTQxLjM1NSwzMy42NDUtNzUsNzUtNzVzNzUsMzMuNjQ1LDc1LDc1djQyDQoJCUMzMzEsMTUwLjI4NCwzMjQuMjg0LDE1NywzMTYsMTU3eiBNMjExLDEyN2g5MHYtMjdjMC0yNC44MTMtMjAuMTg3LTQ1LTQ1LTQ1cy00NSwyMC4xODctNDUsNDVWMTI3eiIvPg0KPC9nPg0KPHBhdGggc3R5bGU9ImZpbGw6IzVFNUY2OTsiIGQ9Ik0yNTYsMjV2MzBjMjQuODEzLDAsNDUsMjAuMTg3LDQ1LDQ1djI3aC00NXYzMGg2MGM4LjI4NCwwLDE1LTYuNzE2LDE1LTE1di00Mg0KCUMzMzEsNTguNjQ1LDI5Ny4zNTUsMjUsMjU2LDI1eiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6I0ZGQUMyQjsiIGQ9Ik0zNTEsMjc2SDE2MWMtOC4yODQsMC0xNS02LjcxNi0xNS0xNVYxNDJjMC04LjI4NCw2LjcxNi0xNSwxNS0xNWgxOTBjOC4yODQsMCwxNSw2LjcxNiwxNSwxNXYxMTkNCglDMzY2LDI2OS4yODQsMzU5LjI4NCwyNzYsMzUxLDI3NnoiLz4NCjxnPg0KCTxwYXRoIHN0eWxlPSJmaWxsOiNGRjk4MUU7IiBkPSJNMzUxLDEyN2gtOTV2MTQ5aDk1YzguMjg0LDAsMTUtNi43MTYsMTUtMTVWMTQyQzM2NiwxMzMuNzE2LDM1OS4yODQsMTI3LDM1MSwxMjd6Ii8+DQoJPHBhdGggc3R5bGU9ImZpbGw6I0ZGOTgxRTsiIGQ9Ik0yODEsMTkyYzAtOC4yODQtNi43MTYtMTUtMTUtMTVoLTIwYy04LjI4NCwwLTE1LDYuNzE2LTE1LDE1YzAsNi41MjgsNC4xNzgsMTIuMDY3LDEwLDE0LjEyOFYyMTINCgkJYzAsOC4yODQsNi43MTYsMTUsMTUsMTVzMTUtNi43MTYsMTUtMTV2LTUuODcyQzI3Ni44MjIsMjA0LjA2NywyODEsMTk4LjUyOCwyODEsMTkyeiIvPg0KPC9nPg0KPHBhdGggc3R5bGU9ImZpbGw6I0RGREFFMDsiIGQ9Ik00MzIsMzI3SDI1NnYxNjBoMTc2YzQ0LjExMiwwLDgwLTM1Ljg4OCw4MC04MFM0NzYuMTEyLDMyNyw0MzIsMzI3eiIvPg0KPGc+DQoJPGNpcmNsZSBzdHlsZT0iZmlsbDojNUU1RjY5OyIgY3g9IjMwNiIgY3k9IjQwNyIgcj0iMjUiLz4NCgk8Y2lyY2xlIHN0eWxlPSJmaWxsOiM1RTVGNjk7IiBjeD0iNDA2IiBjeT0iNDA3IiByPSIyNSIvPg0KPC9nPg0KPHBhdGggc3R5bGU9ImZpbGw6I0ZGODUxMjsiIGQ9Ik0yNjYsMTc3aC0xMHY1MGM4LjI4NCwwLDE1LTYuNzE2LDE1LTE1di01Ljg3MmM1LjgyMi0yLjA2MSwxMC03LjYsMTAtMTQuMTI4DQoJQzI4MSwxODMuNzE2LDI3NC4yODQsMTc3LDI2NiwxNzd6Ii8+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg==\"","module.exports = require(\"@bem-react/classname\");;","module.exports = require(\"@fortawesome/free-brands-svg-icons\");;","module.exports = require(\"@fortawesome/free-regular-svg-icons\");;","module.exports = require(\"@fortawesome/free-solid-svg-icons\");;","module.exports = require(\"@fortawesome/react-fontawesome\");;","module.exports = require(\"date-fns\");;","module.exports = require(\"moment\");;","module.exports = require(\"react\");;","module.exports = require(\"react-datepicker\");;","module.exports = require(\"react-error-boundary\");;","module.exports = require(\"react-portal\");;","module.exports = require(\"react-transition-group\");;","module.exports = require(\"redux\");;","module.exports = require(\"throttle-debounce\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/** @module build\n *  @desc Library exportable ditributive\n *  @since 2020.05.19, 17:16\n *  @changed 2021.05.31, 16:24\n */\n\nimport React from 'react';\n// import connect from 'react-redux/lib/connect/connect'; // DEBUG: Test redux state\n\n// export config from 'config';\nimport * as config from 'config';\nexport { config };\n\nexport * as utils from 'utils';\n// export * as utils from 'utils';\nexport * as helpers from 'helpers';\n\nexport * from 'elements';\nexport * from 'forms';\n\n// Demo component\n// export Hello from './demo/Hello';\nimport Hello from './demo/Hello';\nexport { Hello };\n\n// Basic styles\nimport './build.pcss';\n\nimport ModalsController from 'elements/ModalsController';\n\n// TODO: Use WebUiCoreContext?\nconst WebUiCoreRoot = ({\n  // // store, // DEBUG: Test redux state\n  // stateTest, // DEBUG: Test redux state\n  // models, // DEBUG: Test redux state\n  children,\n  autoModalsController,\n}) => {\n  // console.log('WebUiCoreRoot', { // DEBUG: Test redux state\n  //   'config.app.store': config.app.store,\n  //   // store,\n  //   stateTest,\n  //   models,\n  // });\n  // debugger;\n  return (\n    <React.Fragment>\n      {children}\n      {autoModalsController && <ModalsController />}\n    </React.Fragment>\n  );\n};\n\n// // DEBUG: Test redux state\n// const mapStateToProps = store => ({\n//   // language: store.language.components.adminPage.terminals,\n//   // user: store.user,\n//   // models: store.printerModels.models,\n//   // store: store,\n//   stateTest: store && store.demo && store.demo.stateTest,\n//   models: store && store.printerModels && store.printerModels.models,\n// });\n// export default connect(mapStateToProps)(WebUiCoreRoot);\nexport default WebUiCoreRoot;\n"],"sourceRoot":""}